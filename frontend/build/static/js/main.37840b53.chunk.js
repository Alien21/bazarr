(this.webpackJsonpbazarr=this.webpackJsonpbazarr||[]).push([[0],{359:function(e,t,n){},391:function(e,t,n){},393:function(e,t,n){},404:function(e,t,n){},405:function(e,t,n){},407:function(e,t,n){},408:function(e,t,n){},409:function(e,t,n){},540:function(e,t,n){},541:function(e,t,n){},542:function(e,t,n){},543:function(e,t,n){"use strict";n.r(t);n(329);var r=n(0),a=n.n(r),c=n(32),i=n.n(c),s=n(98),o=n(35),l=n(30),u=n(144),d=(n(337),n(290)),j=n.n(d),b=n(291),h=n(25),O=n(3),f=n(565),p="UPDATE_ALL_LANGUAGES_LIST",x="UPDATE_LANGUAGES_PROFILE_LIST",v="UPDATE_SYSTEM_STATUS",m="UPDATE_SYSTEM_HEALTH",g="UPDATE_SYSTEM_TASKS",y="UPDATE_SYSTEM_LOGS",k="SYSTEM_UPDATE_RELEASES",w="UPDATE_SYSTEM_SETTINGS",S="SYSTEM_UPDATE_PROVIDERS",C="UPDATE_SERIES_WANTED_LIST",N="SERIES_DELETE_WANTED_ITEMS",I="UPDATE_SERIES_EPISODE_LIST",P="SERIES_DELETE_EPISODES",E="UPDATE_SERIES_HISTORY_LIST",A="UPDATE_SEIRES_LIST",T="SERIES_DELETE_ITEMS",M="UPDATE_SERIES_BLACKLIST",B="UPDATE_MOVIE_LIST",K="MOVIES_DELETE_ITEMS",D="UPDATE_MOVIE_WANTED_LIST",R="MOVIES_DELETE_WANTED_ITEMS",z="UPDATE_MOVIE_HISTORY_LIST",_="UPDATE_MOVIES_BLACKLIST",H="SITE_NEED_AUTH",L="SITE_SYSTEM_INITIALIZED",F="SITE_INITIALIZE_FAILED",U="SITE_SAVE_LOCALSTORAGE",G="SITE_NOTIFICATIONS_ADD",q="SITE_NOTIFICATIONS_REMOVE",W="SITE_NOTIFICATIONS_REMOVE_BY_TIMESTAMP",Y="SITE_SIDEBAR_UPDATE",V="SITE_BADGE_UPDATE",Q="SITE_OFFLINE_UPDATE";var X,J=n(16),Z=n(5),$=n(12);function ee(e,t){if(e)for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a]}function te(e,t){return e.payload.loading?{updating:!0,data:t}:void 0!==e.error?{updating:!1,error:e.payload.item,data:t}:{updating:!1,error:void 0,data:e.payload.item}}function ne(e,t,n){if(e.payload.loading)return{data:Object(O.a)(Object(O.a)({},t.data),{},{fetched:!0}),updating:!0};if(void 0!==e.error)return{data:Object(O.a)(Object(O.a)({},t.data),{},{fetched:!0}),updating:!1,error:e.payload.item};var r=e.payload.item,a=r.data,c=r.total,i=e.payload.parameters,s=Object(Z.a)(i,2),o=s[0],l=s[1],u=a.reduce((function(e,t){return e[t[n]]=t,e}),Object(O.a)({},t.data.items)),d=Object(J.a)(t.data.order),j=c-d.length;j>0?d=Array(j).fill(null).concat(d):j<0&&(d=Array(c).fill(null));var b,h=d.filter($.isNumber),f=a.map((function(e){return e[n]}));if("number"===typeof o&&"number"===typeof l)(b=d).splice.apply(b,[o,l].concat(Object(J.a)(f)));else if(Object($.isArray)(o)){var p,x=Object($.difference)(f,h),v=x.length;(p=d).unshift.apply(p,Object(J.a)(x)),d=d.flatMap((function(e){return Object($.isNull)(e)&&v>0?(--v,[]):[e]}),[]),ee(0!==v,"Error when replacing item in OrderIdState")}else 0===i.length&&(d=f);return{updating:!1,data:{fetched:!0,items:u,order:d}}}function re(e,t){var n=e.payload,r=t.data,a=r.items,c=r.order,i=Object(O.a)({},a);n.forEach((function(e){Object($.has)(i,e)&&delete i[e]}));var s=Object($.difference)(c,n);return Object(O.a)(Object(O.a)({},t),{},{data:{fetched:!0,items:i,order:s}})}function ae(e,t,n){var r=new Set(e.payload),a=Object(J.a)(t.data).filter((function(e){return!r.has(e[n])}));return Object(O.a)(Object(O.a)({},t),{},{data:a})}function ce(e,t,n){if(e.payload.loading)return Object(O.a)(Object(O.a)({},t),{},{updating:!0});if(void 0!==e.error)return Object(O.a)(Object(O.a)({},t),{},{updating:!1,error:e.payload.item});var r=t.data,a=e.payload.item;return{updating:!1,data:Object($.uniqBy)([].concat(Object(J.a)(a),Object(J.a)(r)),n)}}var ie,se=Object(f.a)((X={},Object(h.a)(X,D,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{wantedMovieList:ne(t,e.wantedMovieList,"radarrId")})})),Object(h.a)(X,R,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{wantedMovieList:re(t,e.wantedMovieList)})})),Object(h.a)(X,z,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{historyList:te(t,e.historyList.data)})})),Object(h.a)(X,B,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{movieList:ne(t,e.movieList,"radarrId")})})),Object(h.a)(X,K,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{movieList:re(t,e.movieList)})})),Object(h.a)(X,_,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{blacklist:te(t,e.blacklist.data)})})),X),{movieList:{updating:!0,data:{items:[],order:[],fetched:!1}},wantedMovieList:{updating:!0,data:{items:[],order:[],fetched:!1}},historyList:{updating:!0,data:[]},blacklist:{updating:!0,data:[]}}),oe=Object(f.a)((ie={},Object(h.a)(ie,C,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{wantedEpisodesList:ne(t,e.wantedEpisodesList,"sonarrEpisodeId")})})),Object(h.a)(ie,N,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{wantedEpisodesList:re(t,e.wantedEpisodesList)})})),Object(h.a)(ie,I,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{episodeList:ce(t,e.episodeList,"sonarrEpisodeId")})})),Object(h.a)(ie,P,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{episodeList:ae(t,e.episodeList,"sonarrEpisodeId")})})),Object(h.a)(ie,E,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{historyList:te(t,e.historyList.data)})})),Object(h.a)(ie,A,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{seriesList:ne(t,e.seriesList,"sonarrSeriesId")})})),Object(h.a)(ie,T,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{seriesList:re(t,e.seriesList)})})),Object(h.a)(ie,M,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{blacklist:te(t,e.blacklist.data)})})),ie),{seriesList:{updating:!0,data:{items:[],order:[],fetched:!1}},wantedEpisodesList:{updating:!0,data:{items:[],order:[],fetched:!1}},episodeList:{updating:!0,data:[]},historyList:{updating:!0,data:[]},blacklist:{updating:!0,data:[]}}),le="storage-ui-pageSize",ue={get pageSize(){var e;return parseInt(null!==(e=localStorage.getItem(le))&&void 0!==e?e:"50")},set pageSize(e){localStorage.setItem(le,e.toString())}},de=n(39),je=n(40),be=n(221),he=n.n(be),Oe=n(576);function fe(e,t,n){return function(r){return r({type:e,payload:{loading:!0,parameters:n}}),new Promise((function(a,c){t.apply(void 0,Object(J.a)(n)).then((function(t){r({type:e,payload:{loading:!1,item:t,parameters:n}}),a()})).catch((function(t){r({type:e,error:!0,payload:{loading:!1,item:t,parameters:n}}),c(t)}))}))}}function pe(e,t){return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return fe(e,t,r)}}function xe(e){return function(t){var n=e.map((function(e){return e(t)}));return Promise.all(n)}}function ve(e){return function(){return xe(e.apply(void 0,arguments))}}function me(e,t,n){return function(r){var a=e.map((function(e){return e(r)}));Promise.all(a).then((function(){var e=t();void 0!==e&&r(e)})).catch((function(){var e=n&&n();void 0!==e&&r(e)}))}}function ge(e,t,n){return function(){for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return me(e(a),t,n)}}function ye(e){return Object(Oe.a)(e,(function(e){return null!==e&&void 0!==e?e:[]}))}var ke=pe(B,(function(e){return Kt.movies(e)})),we=ye(K),Se=pe(D,(function(e){return Kt.wantedBy(e)})),Ce=ye(R),Ne=pe(D,(function(e,t){return Kt.wanted(e,t)})),Ie=pe(z,(function(){return Kt.history()})),Pe=pe(B,(function(e,t){return Kt.moviesBy(e,t)})),Ee=pe(_,(function(){return Kt.blacklist()})),Ae=pe(C,(function(e){return Tt.wantedBy(e)})),Te=ye(N),Me=pe(C,(function(e,t){return Tt.wanted(e,t)})),Be=pe(A,(function(e){return Rt.series(e)})),Ke=ye(T),De=pe(I,(function(e){return Tt.bySeriesId(e)})),Re=ye(P),ze=pe(I,(function(e){return Tt.byEpisodeId(e)})),_e=pe(A,(function(e,t){return Rt.seriesBy(e,t)})),He=pe(E,(function(){return Tt.history()})),Le=pe(M,(function(){return Tt.blacklist()})),Fe=ve((function(){return[Ue(),Ge()]})),Ue=pe(p,(function(){return _t.languages()})),Ge=pe(x,(function(){return _t.languagesProfileList()})),qe=pe(v,(function(){return _t.status()})),We=pe(m,(function(){return _t.health()})),Ye=pe(g,(function(){return _t.getTasks()})),Ve=pe(y,(function(){return _t.logs()})),Qe=pe(k,(function(){return _t.releases()})),Xe=pe(w,(function(){return _t.settings()})),Je=pe(S,(function(){return Dt.providers()})),Ze=ve((function(){return[Xe(),Fe()]})),$e=ge((function(){return[Fe(),Xe(),rt()]}),(function(){return tt()}),(function(){return et()})),et=Object(Oe.a)(F),tt=Object(Oe.a)(L),nt=Object(Oe.a)(H),rt=pe(V,(function(){return It.all()})),at=Object(Oe.a)(U,(function(e){return e})),ct=Object(Oe.a)(G,(function(e){return e})),it=Object(Oe.a)(q,(function(e){return e})),st=Object(Oe.a)(W,(function(e){return e})),ot=Object(Oe.a)(Y,(function(e){return e})),lt=Object(Oe.a)(Q,(function(e){return e}));function ut(e){return Object($.isString)(e)||Object($.isNumber)(e)}function dt(e){return!function(e){return Object($.isNull)(e)||Object($.isUndefined)(e)}(e)}function jt(e){return"radarrId"in e}function bt(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(r.useMemo)((function(){return pt(e)}),[e])}function ht(){var e=Object(o.h)();return Object(r.useCallback)((function(){return e.push("/")}),[e])}function Ot(e,t){return function(e,t,n,a){var c=Object(r.useState)(e),i=Object(Z.a)(c,2)[1];Object(r.useEffect)((function(){i((function(r){return r!==e&&(e!==t?a&&a():n&&n()),e}))}),[e,t,a,n])}(e.updating,!0,void 0,t)}function ft(e,t,n){t({updating:!0,data:n}),e.then((function(e){t({updating:!1,data:e})})).catch((function(e){t({updating:!1,error:e,data:n})}))}function pt(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t="/",n=(t=window.Bazarr.baseUrl).endsWith("/");return e&&!n?"".concat(t,"/"):!e&&n?t.slice(0,-1):t}function xt(e){return jt(e)?e.radarrId:"sonarrEpisodeId"in e?e.sonarrEpisodeId:function(e){return"episodeFileCount"in e}(e)?e.sonarrSeriesId:-1}function vt(e){var t=e.order;return mt(e.items,t)}function mt(e,t){return t.flatMap((function(t){return null!==t&&t in e?[e[t]]:[]}))}function gt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join("-")}function yt(){window.location.reload()}function kt(){window.scrollTo(0,0)}var wt,St=n(9),Ct=n.n(St),Nt=n(15),It=new(function(){function e(){Object(de.a)(this,e)}return Object(je.a)(e,[{key:"get",value:function(e,t){return Lt.axios.get("/badges".concat(e),{params:t})}},{key:"all",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(){var t=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.get("").then((function(t){e(t.data)})).catch(n)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}()),Pt=n(55),Et=n(57),At=function(){function e(t){Object(de.a)(this,e),this.prefix=void 0,this.prefix=t}return Object(je.a)(e,[{key:"createFormdata",value:function(e){if(e){var t=function(){var t=new FormData,n=function(n){var r=e[n];r instanceof Array?r.length>0?r.forEach((function(e){return t.append(n,e)})):t.append(n,""):t.append(n,e[n])};for(var r in e)n(r);return{v:t}}();return"object"===typeof t?t.v:void 0}}},{key:"get",value:function(e,t){return Lt.axios.get(this.prefix+e,{params:t})}},{key:"post",value:function(e,t,n){var r=this.createFormdata(t);return Lt.axios.post(this.prefix+e,r,{params:n})}},{key:"patch",value:function(e,t,n){var r=this.createFormdata(t);return Lt.axios.patch(this.prefix+e,r,{params:n})}},{key:"delete",value:function(e,t,n){var r=this.createFormdata(t);return Lt.axios.delete(this.prefix+e,{params:n,data:r})}}]),e}(),Tt=new(function(e){Object(Pt.a)(n,e);var t=Object(Et.a)(n);function n(){return Object(de.a)(this,n),t.call(this,"/episodes")}return Object(je.a)(n,[{key:"bySeriesId",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t){var n=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.get("",{seriesid:t}).then((function(t){e(t.data.data)})).catch((function(e){r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"byEpisodeId",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t){var n=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.get("",{episodeid:t}).then((function(t){e(t.data.data)})).catch((function(e){r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"wanted",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t,n){var r=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){r.get("/wanted",{start:t,length:n}).then((function(t){e(t.data)})).catch((function(e){a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"wantedBy",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t){var n=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.get("/wanted",{episodeid:t}).then((function(t){e(t.data)})).catch((function(e){r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"history",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t){var n=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.get("/history",{episodeid:t}).then((function(t){e(t.data.data)})).catch((function(e){r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"downloadSubtitles",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t,n,r){var a=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,c){a.patch("/subtitles",r,{seriesid:t,episodeid:n}).then((function(){return e()})).catch(c)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"uploadSubtitles",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t,n,r){var a=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,c){a.post("/subtitles",r,{seriesid:t,episodeid:n}).then((function(){return e()})).catch(c)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"deleteSubtitles",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t,n,r){var a=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,c){a.delete("/subtitles",r,{seriesid:t,episodeid:n}).then((function(){return e()})).catch(c)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"blacklist",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(){var t=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.get("/blacklist").then((function(t){e(t.data.data)})).catch(n)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"addBlacklist",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t,n,r){var a=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,c){a.post("/blacklist",r,{seriesid:t,episodeid:n}).then((function(){return e()})).catch(c)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"deleteBlacklist",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t,n){var r=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){r.delete("/blacklist",n,{all:t}).then((function(){return e()})).catch(a)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(At)),Mt=new(function(e){Object(Pt.a)(n,e);var t=Object(Et.a)(n);function n(){return Object(de.a)(this,n),t.call(this,"/files")}return Object(je.a)(n,[{key:"browse",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t,n){var r=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){r.get(t,{path:n}).then((function(t){return e(t.data)})).catch(a)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"bazarr",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t){return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.browse("",t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sonarr",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t){return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.browse("/sonarr",t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"radarr",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t){return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.browse("/radarr",t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(At)),Bt=new(function(e){Object(Pt.a)(n,e);var t=Object(Et.a)(n);function n(){return Object(de.a)(this,n),t.call(this,"/history")}return Object(je.a)(n,[{key:"stats",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t,n,r,a){var c=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,i){c.get("/stats",{timeframe:t,action:n,provider:r,language:a}).then((function(t){return e(t.data)})).catch(i)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}()}]),n}(At)),Kt=new(function(e){Object(Pt.a)(n,e);var t=Object(Et.a)(n);function n(){return Object(de.a)(this,n),t.call(this,"/movies")}return Object(je.a)(n,[{key:"blacklist",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(){var t=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.get("/blacklist").then((function(t){e(t.data.data)})).catch(n)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"addBlacklist",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t,n){var r=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){r.post("/blacklist",n,{radarrid:t}).then((function(){return e()})).catch(a)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteBlacklist",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t,n){var r=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){r.delete("/blacklist",n,{all:t}).then((function(){return e()})).catch(a)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"movies",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t){var n=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.get("",{radarrid:t}).then((function(t){e(t.data)})).catch((function(e){r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"moviesBy",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t,n){var r=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){r.get("",{start:t,length:n}).then((function(t){e(t.data)})).catch((function(e){a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"modify",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t){var n=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.post("",{radarrid:t.id,profileid:t.profileid}).then((function(){return e()})).catch((function(e){return r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"wanted",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t,n){var r=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){r.get("/wanted",{start:t,length:n}).then((function(t){e(t.data)})).catch((function(e){a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"wantedBy",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t){var n=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.get("/wanted",{radarrid:t}).then((function(t){e(t.data)})).catch((function(e){r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"history",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t){var n=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.get("/history",{radarrid:t}).then((function(t){e(t.data.data)})).catch((function(e){r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"action",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t){var n=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.patch("",t).then((function(){return e()})).catch(r)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"downloadSubtitles",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t,n){var r=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){r.patch("/subtitles",n,{radarrid:t}).then((function(){return e()})).catch(a)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"uploadSubtitles",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t,n){var r=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){r.post("/subtitles",n,{radarrid:t}).then((function(){return e()})).catch(a)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteSubtitles",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t,n){var r=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){r.delete("/subtitles",n,{radarrid:t}).then((function(){return e()})).catch(a)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(At)),Dt=new(function(e){Object(Pt.a)(n,e);var t=Object(Et.a)(n);function n(){return Object(de.a)(this,n),t.call(this,"/providers")}return Object(je.a)(n,[{key:"providers",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(){var t=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.get("").then((function(t){e(t.data.data)})).catch(n)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(){var t=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.post("",{action:"reset"}).then((function(){return e()})).catch(n)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"movies",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t){var n=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.get("/movies",{radarrid:t}).then((function(t){return e(t.data.data)})).catch(r)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"downloadMovieSubtitle",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t,n){var r=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){r.post("/movies",n,{radarrid:t}).then((function(){return e()})).catch(a)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"episodes",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t){var n=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.get("/episodes",{episodeid:t}).then((function(t){return e(t.data.data)})).catch(r)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"downloadEpisodeSubtitle",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t,n,r){var a=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,c){a.post("/episodes",r,{seriesid:t,episodeid:n}).then((function(){return e()})).catch(c)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),n}(At)),Rt=new(function(e){Object(Pt.a)(n,e);var t=Object(Et.a)(n);function n(){return Object(de.a)(this,n),t.call(this,"/series")}return Object(je.a)(n,[{key:"series",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t){var n=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.get("",{seriesid:t}).then((function(t){e(t.data)})).catch((function(e){r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"seriesBy",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t,n){var r=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){r.get("",{start:t,length:n}).then((function(t){e(t.data)})).catch((function(e){a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"modify",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t){var n=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.post("",{seriesid:t.id,profileid:t.profileid}).then((function(){return e()})).catch((function(e){return r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"action",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t){var n=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.patch("",t).then((function(){return e()})).catch(r)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(At)),zt=new(function(e){Object(Pt.a)(n,e);var t=Object(Et.a)(n);function n(){return Object(de.a)(this,n),t.call(this,"/subtitles")}return Object(je.a)(n,[{key:"info",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t){var n=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.get("/info",{filenames:t}).then((function(t){return e(t.data.data)})).catch(r)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"modify",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t,n){var r=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){r.patch("",n,{action:t}).then((function(){return e()})).catch(a)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(At)),_t=new(function(e){Object(Pt.a)(n,e);var t=Object(Et.a)(n);function n(){return Object(de.a)(this,n),t.call(this,"/system")}return Object(je.a)(n,[{key:"performAction",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t){var n=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.post("",void 0,{action:t}).then(e).catch(r)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t,n){var r=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){r.post("/account",{username:t,password:n},{action:"login"}).then(e).catch(a)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(){var t=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.post("/account",void 0,{action:"logout"}).then(e).catch(n)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"shutdown",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(){return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.performAction("shutdown"));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"restart",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(){return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.performAction("restart"));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"settings",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(){var t=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.get("/settings").then((function(t){e(t.data)})).catch(n)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setSettings",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t){var n=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.post("/settings",t).then((function(t){e()})).catch(r)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"languages",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(){var t=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.get("/languages").then((function(t){e(t.data)})).catch((function(e){n(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"languagesProfileList",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(){var t=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.get("/languages/profiles").then((function(t){return e(t.data)})).catch(n)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"status",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(){var t=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.get("/status").then((function(t){e(t.data.data)})).catch((function(e){n(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"health",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(){var t=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.get("/health").then((function(t){e(t.data.data)})).catch((function(e){n(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"logs",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(){var t=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.get("/logs").then((function(t){return e(t.data.data)})).catch((function(e){return n(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"releases",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(){var t=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.get("/releases").then((function(t){return e(t.data.data)})).catch(n)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteLogs",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(){var t=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.delete("/logs").then((function(){return e()})).catch((function(e){return n(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getTasks",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(){var t=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.get("/tasks").then((function(t){e(t.data.data)})).catch((function(e){n(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"runTask",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t){var n=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.post("/tasks",{taskid:t}).then((function(){e()})).catch((function(e){r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"testNotification",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t){var n=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.patch("/notifications",{url:t}).then((function(){return e()})).catch(r)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(Nt.a)(Ct.a.mark((function e(t){var n=this;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.get("/searches",{query:t}).then((function(t){return e(t.data)})).catch(r)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(At)),Ht=new(function(){function e(){Object(de.a)(this,e)}return Object(je.a)(e,[{key:"urlTest",value:function(e,t,n){return new Promise((function(r,a){Lt.axios.get("../test/".concat(e,"/").concat(t,"api/system/status"),{params:n}).then((function(e){return r(e.data)})).catch(a)}))}}]),e}()),Lt=new(function(){function e(){Object(de.a)(this,e),this.axios=void 0,this.source=void 0;var t="".concat(pt(),"/api/");this.initialize(t,window.Bazarr.apiKey)}return Object(je.a)(e,[{key:"initialize",value:function(e,t){var n=this;this.axios=he.a.create({baseURL:e}),this.axios.defaults.headers.post["Content-Type"]="application/json",this.axios.defaults.headers.common["X-API-KEY"]=null!==t&&void 0!==t?t:"AUTH_NEEDED",this.source=he.a.CancelToken.source(),this.axios.interceptors.request.use((function(e){return e.cancelToken=n.source.token,e})),this.axios.interceptors.response.use((function(e){return e.status>=200&&e.status<300?Promise.resolve(e):(n.handleError(e.status),Promise.reject(e))}),(function(e){if(e.response){var t=e.response;n.handleError(t.status)}else e.message="You have disconnected to Bazarr backend";return Promise.reject(e)}))}},{key:"danger_resetApi",value:function(e){this.axios.defaults.headers.common["X-API-KEY"]=e}},{key:"onOnline",value:function(){Vt.getState().site.offline&&Vt.dispatch(lt(!1))}},{key:"onOffline",value:function(){Vt.dispatch(lt(!0))}},{key:"handleError",value:function(e){switch(e){case 401:Vt.dispatch(nt())}}}]),e}());function Ft(){return{pageSize:ue.pageSize}}var Ut,Gt=Object(f.a)((wt={},Object(h.a)(wt,H,(function(e){return Lt.danger_resetApi("NEED_AUTH"),Object(O.a)(Object(O.a)({},e),{},{auth:!1})})),Object(h.a)(wt,L,(function(e){return Object(O.a)(Object(O.a)({},e),{},{initialized:!0})})),Object(h.a)(wt,F,(function(e){return Object(O.a)(Object(O.a)({},e),{},{initialized:"An Error Occurred When Initializing Bazarr UI"})})),Object(h.a)(wt,U,(function(e,t){var n=t.payload;for(var r in n){var a=n[r];localStorage.setItem(r,a)}return Object(O.a)(Object(O.a)({},e),Ft())})),Object(h.a)(wt,G,(function(e,t){var n=[].concat(Object(J.a)(e.notifications.filter((function(e){return e.id!==t.payload.id}))),[t.payload]);return Object(O.a)(Object(O.a)({},e),{},{notifications:n})})),Object(h.a)(wt,q,(function(e,t){var n=e.notifications.filter((function(e){return e.id!==t.payload}));return Object(O.a)(Object(O.a)({},e),{},{notifications:n})})),Object(h.a)(wt,W,(function(e,t){var n=e.notifications.filter((function(e){return e.timestamp!==t.payload}));return Object(O.a)(Object(O.a)({},e),{},{notifications:n})})),Object(h.a)(wt,Y,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{sidebar:t.payload})})),Object(h.a)(wt,V,{next:function(e,t){var n=t.payload.item;return n&&!0!==t.error?Object(O.a)(Object(O.a)({},e),{},{badges:n}):e},throw:function(e){return e}}),Object(h.a)(wt,Q,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{offline:t.payload})})),wt),Object(O.a)({initialized:!1,auth:!0,pageSize:50,notifications:[],sidebar:"",badges:{movies:0,episodes:0,providers:0,status:0},offline:!1},Ft())),qt=Object(f.a)((Ut={},Object(h.a)(Ut,p,(function(e,t){var n=te(t,[]),r=Object(O.a)(Object(O.a)({},n),{},{data:n.data.filter((function(e){return e.enabled}))});return Object(O.a)(Object(O.a)({},e),{},{languages:n,enabledLanguage:r})})),Object(h.a)(Ut,x,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{languagesProfiles:te(t,[])})})),Object(h.a)(Ut,v,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{status:te(t,e.status.data)})})),Object(h.a)(Ut,m,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{health:te(t,e.health.data)})})),Object(h.a)(Ut,g,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{tasks:te(t,e.tasks.data)})})),Object(h.a)(Ut,S,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{providers:te(t,e.providers.data)})})),Object(h.a)(Ut,y,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{logs:te(t,e.logs.data)})})),Object(h.a)(Ut,k,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{releases:te(t,e.releases.data)})})),Object(h.a)(Ut,w,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{settings:te(t,e.settings.data)})})),Ut),{languages:{updating:!0,data:[]},enabledLanguage:{updating:!0,data:[]},languagesProfiles:{updating:!0,data:[]},status:{updating:!0,data:void 0},health:{updating:!0,data:[]},tasks:{updating:!0,data:[]},providers:{updating:!0,data:[]},logs:{updating:!0,data:[]},releases:{updating:!0,data:[]},settings:{updating:!0,data:void 0}}),Wt=Object(u.b)({system:qt,series:oe,movie:se,site:Gt}),Yt=[j.a,b.a];var Vt=Object(u.c)(Wt,u.a.apply(void 0,Yt)),Qt=(n(359),n(295));function Xt(e){return function(t){return Vt.dispatch(e(t))}}var Jt=new(function(){function e(){Object(de.a)(this,e),this.socket=void 0,this.events=void 0,this.debounceReduce=void 0,this.reducers=void 0;var t=pt();this.socket=Object(Qt.io)({path:"".concat(t,"/api/socket.io"),transports:["polling","websocket"],upgrade:!0,rememberUpgrade:!0,autoConnect:!1}),this.socket.on("connect",this.onConnect.bind(this)),this.socket.on("disconnect",this.onDisconnect.bind(this)),this.socket.on("connect_error",this.onDisconnect.bind(this)),this.socket.on("data",this.onEvent.bind(this)),this.events=[],this.debounceReduce=Object($.debounce)(this.reduce,200),this.reducers=[]}return Object(je.a)(e,[{key:"initialize",value:function(){var e;(e=this.reducers).push.apply(e,Object(J.a)([{key:"connect",any:function(){return Vt.dispatch(lt(!1))}},{key:"connect",any:function(){return Vt.dispatch($e())}},{key:"disconnect",any:function(){return Vt.dispatch(lt(!0))}},{key:"series",update:Xt(Be),delete:Xt(Ke)},{key:"movie",update:Xt(ke),delete:Xt(we)},{key:"settings",any:Xt(Xe)},{key:"languages",any:Xt(Fe)},{key:"badges",any:Xt(rt)}])),this.socket.connect(),window._socketio={dump:this.dump.bind(this),emit:this.onEvent.bind(this)}}},{key:"dump",value:function(){console.log("SocketIO reducers",this.reducers)}},{key:"addReducer",value:function(e){this.reducers.push(e)}},{key:"removeReducer",value:function(e){ee(0===Object($.remove)(this.reducers,(function(t){return t===e})).length,"Fail to remove reducer",e)}},{key:"reduce",value:function(){var e=this,t=Object(J.a)(this.events);this.events=[];var n={};t.forEach((function(e){e.type in n||(n[e.type]={});var t,r=n[e.type];(e.action in r||(r[e.action]=[]),e.payload)&&(null===(t=r[e.action])||void 0===t||t.push(e.payload))})),Object($.forIn)(n,(function(t,n){if(t){var r=e.reducers.filter((function(e){return e.key===n}));if(0===r.length)return;r.forEach((function(e){var n=e.any;n&&n(),Object($.forIn)(t,(function(t,n){t=Object($.uniq)(t);var r=e[n];r&&r(t)}))}))}}))}},{key:"onConnect",value:function(){this.onEvent({type:"connect",action:"update",payload:null})}},{key:"onDisconnect",value:function(){this.onEvent({type:"disconnect",action:"update",payload:null})}},{key:"onEvent",value:function(e){this.events.push(e),this.debounceReduce()}}]),e}()),Zt=n(553);function $t(e){return Object(s.c)(e)}function en(e){var t=Object(s.b)();return Object(r.useCallback)((function(){return t(e.apply(void 0,arguments))}),[e,t])}function tn(e,t,n,a){var c=Object(r.useMemo)((function(){return{key:e,any:t,update:n,delete:a}}),[e,t,n,a]);Object(r.useEffect)((function(){return Jt.addReducer(c),function(){Jt.removeReducer(c)}}),[c,e])}function nn(e){return Object(r.useCallback)((function(t){t&&e(t)}),[e])}function rn(e,t){return[e,t]}function an(){var e=en(Ze);return rn($t((function(e){return e.system.settings})),e)}function cn(){var e=en(Je),t=$t((function(e){return e.system.providers}));return Object(r.useEffect)((function(){e()}),[e]),rn(t,e)}function sn(){var e=en(Ge);return rn($t((function(e){return e.system.languagesProfiles.data})),e)}function on(e){var t=sn(),n=Object(Z.a)(t,1)[0];return Object(r.useMemo)((function(){return n.find((function(t){return t.profileId===e}))}),[e,n])}function ln(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=en(Ue),n=$t((function(t){return e?t.system.enabledLanguage.data:t.system.languages.data}));return rn(n,t)}function un(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=ln(e),n=Object(Z.a)(t,1),a=n[0];return Object(r.useCallback)((function(e){return void 0===e?void 0:a.find((function(t){return t.code2===e}))}),[a])}function dn(e){var t=un(!0);return Object(r.useMemo)((function(){var n;return null!==(n=null===e||void 0===e?void 0:e.items.map((function(e){var n,r,a=e.language;return{hi:"True"===e.hi,forced:"True"===e.forced,code2:a,name:null!==(n=null===(r=t(a))||void 0===r?void 0:r.name)&&void 0!==n?n:""}})))&&void 0!==n?n:[]}),[t,null===e||void 0===e?void 0:e.items])}function jn(){var e=en(Be);return rn($t((function(e){return e.series.seriesList})),e)}function bn(e){var t=jn(),n=Object(Z.a)(t,2),a=n[0],c=n[1],i=Object(r.useMemo)((function(){var t=a.data.items,n=null;return e&&!isNaN(e)&&e in t&&(n=t[e]),Object(O.a)(Object(O.a)({},a),{},{data:n})}),[e,a]),s=Object(r.useCallback)((function(){e&&!isNaN(e)&&c([e])}),[e,c]);return Object(r.useEffect)((function(){null===i.data&&s()}),[i.data,s]),rn(i,s)}function hn(){var e=en(ke);return rn($t((function(e){return e.movie.movieList})),e)}function On(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=en(ct),a=en(st);return Object(r.useCallback)((function(r){var c=Object(O.a)(Object(O.a)({},r),{},{id:e,timestamp:new Date});n(c),setTimeout((function(){return a(c.timestamp)}),1e3*t)}),[n,a,t,e])}function fn(){var e,t,n=an();return null===(e=null===(t=Object(Z.a)(n,1)[0].data)||void 0===t?void 0:t.general.use_sonarr)||void 0===e||e}function pn(){var e,t,n=an();return null===(e=null===(t=Object(Z.a)(n,1)[0].data)||void 0===t?void 0:t.general.use_radarr)||void 0===e||e}function xn(){var e,t,n=an();return null!==(e=null===(t=Object(Z.a)(n,1)[0].data)||void 0===t?void 0:t.general.embedded_subs_show_desired)&&void 0!==e&&e}function vn(e){var t=en(ot);Object(r.useEffect)((function(){t(e)}),[t,e])}var mn=n(26),gn=n(7),yn=n(13),kn=n(570),wn=n(571),Sn=n(549),Cn=n(1),Nn=n(550),In=n(551),Pn=n(296),En=(n(391),["Tab","Enter"," ",",",";","."]),An=function(e){var t=e.defaultValue,n=e.disabled,a=e.onChange,c=Object(r.useState)(null!==t&&void 0!==t?t:[]),i=Object(Z.a)(c,2),s=i[0],o=i[1],l=Object(r.useRef)(null),u=Object(r.useCallback)((function(e){var t=Object(J.a)(s);t.push(e),o(t),a&&a(t)}),[s,a]),d=Object(r.useCallback)((function(e){var t;if(-1!==(e=null!==(t=e)&&void 0!==t?t:s.length-1)){var n=Object(J.a)(s);n.splice(e,1),o(n),a&&a(n)}}),[s,a]),j=Object(r.useCallback)((function(){l.current&&(l.current.value="")}),[l]),b=Object(r.useCallback)((function(e){var t=e.key,n=e.currentTarget.value;En.includes(t)&&0!==n.length?(e.preventDefault(),u(n),j()):"Backspace"===t&&0===n.length&&(e.preventDefault(),d())}),[u,d,j]),h=Object(r.useCallback)((function(e){var t=e.key,n=e.currentTarget.value;En.includes(t)&&0!==n.length&&e.preventDefault()}),[]),O=Object(r.useCallback)((function(e){var t=e.currentTarget.value;0!==t.length&&(e.preventDefault(),u(t),j())}),[u,j]),f=Object(r.useMemo)((function(){return s.map((function(e,t){return Object(Cn.jsx)("span",{title:e,className:"custom-chip ".concat(n?"":"active"),onClick:function(){n||d(t)},children:e},t)}))}),[s,d,n]);return Object(Cn.jsxs)("div",{className:"form-control custom-chip-input d-flex",children:[Object(Cn.jsx)("div",{className:"chip-container",children:f}),Object(Cn.jsx)("input",{disabled:n,className:"main-input p-0",ref:l,onKeyUp:b,onKeyDown:h,onBlur:O})]})},Tn=n(52),Mn=n(566),Bn=n(564),Kn="--back--";function Dn(e){var t=e.lastIndexOf("/");return-1===t&&(t=e.lastIndexOf("\\")),t}function Rn(e){if(e.endsWith("/")||e.endsWith("\\"))return e;var t=Dn(e);return e.slice(0,t+1)}var zn=function(e){var t=e.defaultValue,n=e.onChange,a=e.load,c=e.drop,i=Object(r.useState)(!1),s=Object(Z.a)(i,2),o=s[0],l=s[1],u=Object(r.useState)(null!==t&&void 0!==t?t:""),d=Object(Z.a)(u,2),j=d[0],b=d[1],h=Object(r.useState)((function(){return Rn(j)})),O=Object(Z.a)(h,2),f=O[0],p=O[1],x=Object(r.useState)(!0),v=Object(Z.a)(x,2),m=v[0],g=v[1],y=Object(r.useMemo)((function(){var e=Dn(j);return j.slice(e+1)}),[j]),k=Object(r.useMemo)((function(){var e=Dn(f.slice(0,-1));return f.slice(0,e+1)}),[f]),w=Object(r.useState)([]),S=Object(Z.a)(w,2),C=S[0],N=S[1],I=Object(r.useMemo)((function(){if(m)return Object(Cn.jsx)(Mn.a.Item,{children:Object(Cn.jsx)(Sn.a,{size:"sm",animation:"border"})});var e=[];return e.push.apply(e,Object(J.a)(C.filter((function(e){return e.name.startsWith(y)})).map((function(e){return Object(Cn.jsxs)(Mn.a.Item,{eventKey:e.path,children:[Object(Cn.jsx)(yn.a,{icon:e.children?Tn.e:Tn.d,className:"mr-2"}),Object(Cn.jsx)("span",{children:e.name})]},e.name)})))),0===e.length&&e.push(Object(Cn.jsx)(Mn.a.Header,{children:"No Files"},"no-files")),0!==k.length?[Object(Cn.jsxs)(Mn.a.Item,{eventKey:Kn,children:[Object(Cn.jsx)(yn.a,{icon:gn.P,className:"mr-2"}),Object(Cn.jsx)("span",{children:"Back"})]},"back"),Object(Cn.jsx)(Mn.a.Divider,{},"back-divider")].concat(e):e}),[C,y,k,m]);Object(r.useEffect)((function(){if(j!==f){var e=Rn(j);e!==f&&(p(e),n&&n(e))}}),[f,j,n]);var P=Object(r.useRef)(null);return Object(r.useEffect)((function(){o&&(g(!0),a(f).then((function(e){N(e)})).finally((function(){return g(!1)})))}),[f,a,o]),Object(Cn.jsxs)(Mn.a,{show:o,drop:c,onSelect:function(e){var t;e&&(b(e!==Kn?e:k),null===(t=P.current)||void 0===t||t.focus())},onToggle:function(e,t,n){e||"select"===n.source?e&&l(!0):l(!1)},children:[Object(Cn.jsx)(Mn.a.Toggle,{as:Bn.a.Control,placeholder:"Click to start",type:"text",value:j,onChange:function(e){b(e.currentTarget.value)},ref:P}),Object(Cn.jsx)(Mn.a.Menu,{className:"w-100",style:{maxHeight:256,overflowY:"auto"},children:I})]})},_n=n(44),Hn=function(e){var t=e.value,n=e.emptyText,a=e.multiple,c=e.disabled,i=e.onChange,s=Object(r.useState)([]),o=Object(Z.a)(s,2),l=o[0],u=o[1],d=Object(r.useRef)(null);Object(r.useEffect)((function(){t&&(u(t),0===t.length&&d.current&&(d.current.value=""))}),[t]);var j=Object(r.useMemo)((function(){return 0===l.length?n:a?"".concat(l.length," Files"):l[0].name}),[l,n,a]);return Object(Cn.jsx)(Bn.a.File,{disabled:c,custom:!0,label:j,multiple:a,ref:d,onChange:function(e){var t=e.target.files;if(t){var n,r=[],a=Object(_n.a)(t);try{for(a.s();!(n=a.n()).done;){var c=n.value;r.push(c)}}catch(s){a.e(s)}finally{a.f()}u(r),i&&i(r)}}})},Ln=n(220);n(393);function Fn(e){var t=e.className,n=e.placeholder,a=e.label,c=e.disabled,i=e.clearable,s=e.loading,o=e.options,l=e.multiple,u=e.onChange,d=e.defaultValue,j=e.components,b=e.value,h=Object(r.useCallback)((function(e){var t;return null===(t=o.find((function(t){return t.value===e})))||void 0===t?void 0:t.label}),[o]),O=Object(r.useCallback)((function(e){if(null!==e&&void 0!==e){if(l)return e.map((function(e){var t;return{label:a?a(e):null!==(t=h(e))&&void 0!==t?t:"Unknown",value:e}}));var t,n=e;return{label:a?a(n):null!==(t=h(n))&&void 0!==t?t:"Unknown",value:n}}return e}),[a,l,h]),f=Object(r.useMemo)((function(){return O(d)}),[d,O]),p=Object(r.useMemo)((function(){return O(b)}),[O,b]);return Object(Cn.jsx)(Ln.a,{isLoading:s,placeholder:n,isSearchable:o.length>=10,isMulti:l,closeMenuOnSelect:!l,defaultValue:f,value:p,isClearable:i,isDisabled:c,options:o,components:j,className:"custom-selector w-100 ".concat(null!==t&&void 0!==t?t:""),classNamePrefix:"selector",onChange:function(e){if(u){var t,n=null;if(Object($.isArray)(e))n=e.map((function(e){return e.value}));else n=null!==(t=null===e||void 0===e?void 0:e.value)&&void 0!==t?t:null;u(n)}}})}var Un,Gn=n(321),qn=(n(403),n(404),function(e){var t=e.min,n=e.max,r=e.tooltips,a=e.defaultValue,c=e.onChange,i=e.onAfterChange;return Object(Cn.jsxs)("div",{className:"d-flex flex-row align-items-center py-2",children:[Object(Cn.jsx)("span",{className:"text-muted pr-3",children:null!==t&&void 0!==t?t:0}),Object(Cn.jsx)(Gn.a,{min:null!==t&&void 0!==t?t:0,max:null!==n&&void 0!==n?n:100,className:"custom-rc-slider",step:1,defaultValue:a,onChange:c,onAfterChange:i,handle:function(e){return Object(Cn.jsx)("div",{className:"rc-slider-handle",style:{left:"".concat(e.offset,"%")},children:Object(Cn.jsx)(Wn,{tooltips:r,value:e.value})})}}),Object(Cn.jsx)("span",{className:"text-muted pl-3",children:null!==n&&void 0!==n?n:100})]})}),Wn=function(e){var t=e.tooltips,n=e.value,a=Object(r.useMemo)((function(){var e=["rc-slider-handle-tips"];return void 0!==t&&("string"===typeof t?e.push("rc-slider-handle-tips-always"):!1===t&&e.push("rc-slider-handle-tips-hidden")),e.join(" ")}),[t]);return Object(Cn.jsx)("span",{className:a,children:n})};function Yn(e){var t,n=e.exist,a=e.state,c=e.children,i=n?!n(a.data):!((t=a.data)instanceof Array?0!==t.length:null!==t&&void 0!==t),s=On("async-overlay");if(Object(r.useEffect)((function(){a.updating||void 0===a.error||i||s({type:"error",message:a.error.message})}),[a,s,i]),a.updating){if(i)return Object(Cn.jsx)(da,{})}else if(a.error&&i)return Object(Cn.jsx)(Nn.a,{children:Object(Cn.jsxs)(In.a,{variant:"danger",className:"my-4",children:[Object(Cn.jsxs)(In.a.Heading,{children:[Object(Cn.jsx)(yn.a,{className:"mr-2",icon:gn.t}),Object(Cn.jsx)("span",{children:"Ouch! You got an error"})]}),Object(Cn.jsx)("p",{children:a.error.message}),Object(Cn.jsx)("hr",{}),Object(Cn.jsx)("div",{className:"d-flex justify-content-end",children:Object(Cn.jsx)(Pn.a,{variant:"outline-danger",onClick:yt,children:"Reload"})})]})});return c?c({data:a.data,error:a.error}):null}function Vn(e){var t=e.promise,n=e.children,a=Object(r.useState)(null),c=Object(Z.a)(a,2),i=c[0],s=c[1];return Object(r.useEffect)((function(){t().then((function(e){return s(e)})).catch((function(){}))}),[t]),null===i?Object(Cn.jsx)(da,{}):n(i)}function Qn(e){var t=e.label,n=e.state,a=Object(mn.a)(e,["label","state"]),c=Object(r.useMemo)((function(){return n.data.map((function(e){return{label:t(e),value:e}}))}),[n,t]);return Object(Cn.jsx)(Fn,Object(O.a)({loading:n.updating,options:c,label:t},a))}function Xn(e){var t=e.children,n=e.className,a=e.promise,c=e.onSuccess,i=e.noReset,s=e.animation,o=e.error,l=e.onChange,u=e.disabled,d=Object(mn.a)(e,["children","className","promise","onSuccess","noReset","animation","error","onChange","disabled"]),j=Object(r.useState)(!1),b=Object(Z.a)(j,2),h=b[0],f=b[1],p=Object(r.useState)(Un.Invalid),x=Object(Z.a)(p,2),v=x[0],m=x[1],g=Object(r.useState)(null),y=Object(Z.a)(g,2)[1];Object(r.useEffect)((function(){if(!i){if(v===Un.Error||v===Un.Success){var e=setTimeout((function(){return m(Un.Invalid)}),2e3);y(e)}return function(){y((function(e){return e&&clearTimeout(e),null}))}}}),[v,i]);var k=Object(r.useCallback)((function(){if(v===Un.Invalid){var e=a();e&&(f(!0),l&&l(!0),e.then((function(e){m(Un.Success),c&&c(e)})).catch((function(){m(Un.Error),o&&o()})).finally((function(){f(!1),l&&l(!1)})))}}),[o,l,a,c,v]),w=t;return(null===s||void 0===s||s)&&(h&&(w=Object(Cn.jsx)(yn.a,{icon:gn.j,spin:!0})),v===Un.Success?w=Object(Cn.jsx)(yn.a,{icon:gn.h}):v===Un.Error&&(w=Object(Cn.jsx)(yn.a,{icon:gn.X}))),Object(Cn.jsx)(Pn.a,Object(O.a)(Object(O.a)({className:n,disabled:h||u||v!==Un.Invalid},d),{},{onClick:k,children:w}))}!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error",e[e.Invalid=2]="Invalid"}(Un||(Un={}));var Jn=n(552),Zn=function(e){var t=e.icon,n=e.onClick;return Object(Cn.jsx)(Pn.a,{as:Jn.a,className:"mx-1 p-1",variant:"secondary",onClick:n,children:Object(Cn.jsx)(yn.a,{icon:t})})},$n=function(e){var t=e.onClick,n=(e.destructive,e.disabled),r=e.variant,a=e.className,c=e.size,i=Object(mn.a)(e,["onClick","destructive","disabled","variant","className","size"]);return Object(Cn.jsx)(Pn.a,{disabled:i.loading||n,size:null!==c&&void 0!==c?c:"sm",variant:null!==r&&void 0!==r?r:"light",className:"text-nowrap ".concat(null!==a&&void 0!==a?a:""),onClick:t,children:Object(Cn.jsx)(er,Object(O.a)({},i))})},er=function(e){var t=e.icon,n=e.children,r=e.loading,c=!0===e.alwaysShowText||!0!==r;return Object(Cn.jsxs)(a.a.Fragment,{children:[Object(Cn.jsx)(yn.a,{style:{width:"1rem"},icon:r?gn.j:t,spin:r}),n&&c?Object(Cn.jsx)("span",{className:"ml-2 font-weight-bold",children:n}):null]})},tr=function(e){var t=e.children,n=e.icon,r=e.disabled,a=e.updating,c=e.updatingIcon,i=e.onClick,s=n;return a&&(s=c||gn.S),Object(Cn.jsxs)(Pn.a,{variant:"dark",className:"d-flex flex-column text-nowrap py-1",disabled:r||a,onClick:i,children:[Object(Cn.jsx)(yn.a,{className:"mx-auto my-1",icon:s,spin:a}),Object(Cn.jsx)("span",{className:"align-bottom text-themecolor small text-center",children:t})]})};var nr=tr,rr=function(e){var t=e.children,n=e.pos,r="d-flex flex-grow-1 align-items-center justify-content-".concat(n);return Object(Cn.jsx)("div",{className:r,children:t})},ar=(n(405),function(e){var t,n=e.children,a=e.scroll,c=e.className,i=Object(r.useMemo)((function(){var e=["content-header","bg-dark","p-2"];return void 0!==c&&e.push(c),!1!==a&&e.push("scroll"),e.join(" ")}),[a,c]);return t=!1!==a?Object(Cn.jsx)("div",{className:"d-flex flex-nowrap flex-grow-1",children:n}):n,Object(Cn.jsx)(Zt.a,{className:i,children:t})});ar.Button=nr,ar.Group=rr,ar.AsyncButton=function(e){var t=e.promise,n=e.onSuccess,a=Object(mn.a)(e,["promise","onSuccess"]),c=Object(r.useState)(!1),i=Object(Z.a)(c,2),s=i[0],o=i[1],l=Object(r.useCallback)((function(){o(!0),t().then((function(e){o(!1),n&&n(e)}))}),[n,t]);return Object(Cn.jsx)(tr,Object(O.a)({updating:s,onClick:l},a))};function cr(e){return e.name}function ir(e){var t=e.options,n=Object(mn.a)(e,["options"]),a=Object(r.useMemo)((function(){return t.map((function(e){return{label:e.name,value:e}}))}),[t]);return Object(Cn.jsx)(Fn,Object(O.a)({placeholder:"Language...",options:a,label:cr},n))}var sr=n(563),or=a.a.createContext([[],function(e){}]),lr=a.a.createContext([[],function(e){}]);function ur(){var e=Object(r.useContext)(or),t=Object(Z.a)(e,2),n=t[0],a=t[1],c=Object(r.useContext)(lr),i=Object(Z.a)(c,2),s=i[0],o=i[1];return Object(r.useCallback)((function(e,t){"modal ".concat(e," sending payload"),a([].concat(Object(J.a)(n),[e])),o([].concat(Object(J.a)(s),[null!==t&&void 0!==t?t:null]))}),[n,s,a,o])}function dr(){var e=Object(r.useContext)(or),t=Object(Z.a)(e,2),n=t[0],a=t[1],c=Object(r.useContext)(lr),i=Object(Z.a)(c,2),s=i[0],o=i[1];return Object(r.useCallback)((function(){var e=Object(J.a)(n);e.pop();var t=Object(J.a)(s);t.pop(),a(e),o(t)}),[n,s,a,o])}function jr(e){var t=Object(r.useContext)(or)[0];return e===t[t.length-1]}function br(e,t){var n=jr(e);Object(r.useEffect)((function(){n&&t()}),[n,t])}function hr(e){var t=Object(r.useContext)(lr)[0],n=Object(r.useContext)(or)[0];return Object(r.useMemo)((function(){var r=n.findIndex((function(t){return t===e}));return-1!==r?t[r]:null}),[n,t,e])}var Or,fr=function(e){var t=e.children,n=Object(r.useState)([]),a=Object(Z.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)([]),o=Object(Z.a)(s,2),l=o[0],u=o[1];return Object(Cn.jsx)(or.Provider,{value:[c,i],children:Object(Cn.jsx)(lr.Provider,{value:[l,u],children:t})})},pr=function(e){var t=e.size,n=e.closeable,r=e.modalKey,a=e.title,c=e.children,i=e.footer,s=jr(r),o=dr(),l=!1!==n;return Object(Cn.jsxs)(sr.a,{centered:!0,size:t,show:s,onHide:o,backdrop:l?void 0:"static",children:[Object(Cn.jsx)(sr.a.Header,{closeButton:l,children:a}),Object(Cn.jsx)(sr.a.Body,{children:c}),Object(Cn.jsx)(sr.a.Footer,{hidden:void 0===i,children:i})]})},xr=pr,vr=function(e){var t=e.history,n=e.update,r=e.promise,a=t.provider,c=t.subs_id,i=t.language,s=t.subtitles_path,o=t.blacklisted;return c&&a&&i?Object(Cn.jsx)(Xn,{size:"sm",variant:"light",noReset:!0,disabled:o,promise:function(){var e=i.code2;return r({provider:a,subs_id:c,subtitles_path:s,language:e})},onSuccess:n,children:Object(Cn.jsx)(yn.a,{icon:gn.u})}):null},mr=function(e){var t,n=Object.assign({},e),a=hr(n.modalKey),c=Object(r.useState)({updating:!1,data:[]}),i=Object(Z.a)(c,2),s=i[0],o=i[1],l=Object(r.useCallback)((function(){a&&ft(Kt.history(a.radarrId),o,[])}),[a]);Object(r.useEffect)((function(){l()}),[l]);var u=Object(r.useMemo)((function(){return[{accessor:"action",className:"text-center",Cell:function(e){return Object(Cn.jsx)(la,{action:e.value})}},{Header:"Language",accessor:"language",Cell:function(e){var t=e.value;return t?Object(Cn.jsx)(ja,{text:t,long:!0}):null}},{Header:"Provider",accessor:"provider"},{Header:"Score",accessor:"score"},{Header:"Date",accessor:"timestamp",Cell:function(e){return e.value?Object(Cn.jsx)(ba,{text:e.row.original.parsed_timestamp,delay:1,children:Object(Cn.jsx)("span",{children:e.value})}):null}},{accessor:"blacklisted",Cell:function(e){var t=e.row.original;return Object(Cn.jsx)(vr,{update:l,promise:function(e){return Kt.addBlacklist(t.radarrId,e)},history:t})}}]}),[l]);return Object(Cn.jsx)(xr,Object(O.a)(Object(O.a)({title:"History - ".concat(null!==(t=null===a||void 0===a?void 0:a.title)&&void 0!==t?t:"")},n),{},{children:Object(Cn.jsx)(Yn,{state:s,children:function(e){var t=e.data;return Object(Cn.jsx)(oa,{emptyText:"No History Found",columns:u,data:t})}})}))},gr=function(e){var t,n=hr(e.modalKey),a=Object(r.useState)({updating:!1,data:[]}),c=Object(Z.a)(a,2),i=c[0],s=c[1],o=Object(r.useCallback)((function(){n&&ft(Tt.history(n.sonarrEpisodeId),s,[])}),[n]);Object(r.useEffect)((function(){return o()}),[o]);var l=Object(r.useMemo)((function(){return[{accessor:"action",className:"text-center",Cell:function(e){return Object(Cn.jsx)(la,{action:e.value})}},{Header:"Language",accessor:"language",Cell:function(e){var t=e.value;return t?Object(Cn.jsx)(ja,{text:t,long:!0}):null}},{Header:"Provider",accessor:"provider"},{Header:"Score",accessor:"score"},{Header:"Date",accessor:"timestamp",Cell:function(e){return e.value?Object(Cn.jsx)(ba,{text:e.row.original.parsed_timestamp,delay:1,children:Object(Cn.jsx)("span",{children:e.value})}):null}},{accessor:"blacklisted",Cell:function(e){var t=e.row.original,n=t.sonarrSeriesId,r=t.sonarrEpisodeId;return Object(Cn.jsx)(vr,{history:t,update:o,promise:function(e){return Tt.addBlacklist(n,r,e)}})}}]}),[o]);return Object(Cn.jsx)(xr,Object(O.a)(Object(O.a)({title:"History - ".concat(null!==(t=null===n||void 0===n?void 0:n.title)&&void 0!==t?t:"")},e),{},{children:Object(Cn.jsx)(Yn,{state:i,children:function(e){var t=e.data;return Object(Cn.jsx)(oa,{emptyText:"No History Found",columns:l,data:t})}})}))},yr=function(e){var t=e.onSuccess,n=e.submit,a=Object(mn.a)(e,["onSuccess","submit"]),c=sn(),i=Object(Z.a)(c,1)[0],s=hr(a.modalKey),o=dr(),l=Object(r.useMemo)((function(){return i.map((function(e){return{label:e.name,value:e.profileId}}))}),[i]),u=Object(r.useState)(null),d=Object(Z.a)(u,2),j=d[0],b=d[1],h=Object(r.useState)(!1),f=Object(Z.a)(h,2),p=f[0],x=f[1],v=Object(r.useMemo)((function(){return Object(Cn.jsx)(Xn,{noReset:!0,onChange:x,promise:function(){if(s){var e=xt(s);return n({id:[e],profileid:[j]})}return null},onSuccess:function(){o(),t&&s&&t(s)},children:"Save"})}),[o,j,s,t,n]);return Object(Cn.jsx)(xr,Object(O.a)(Object(O.a)({closeable:!p,footer:v,title:null===s||void 0===s?void 0:s.title},a),{},{children:Object(Cn.jsx)(Nn.a,{fluid:!0,children:Object(Cn.jsxs)(Bn.a,{children:[Object(Cn.jsxs)(Bn.a.Group,{children:[Object(Cn.jsx)(Bn.a.Label,{children:"Audio"}),Object(Cn.jsx)(Bn.a.Control,{type:"text",disabled:!0,defaultValue:null===s||void 0===s?void 0:s.audio_language.map((function(e){return e.name})).join(", ")})]}),Object(Cn.jsxs)(Bn.a.Group,{children:[Object(Cn.jsx)(Bn.a.Label,{children:"Languages Profiles"}),Object(Cn.jsx)(Fn,{clearable:!0,options:l,defaultValue:null===s||void 0===s?void 0:s.profileId,onChange:function(e){return b(void 0===e?null:e)}})]})]})})}))},kr=function(e){var t,n=e,a=ln(!0),c=Object(Z.a)(a,1)[0],i=hr(n.modalKey),s=dr(),o=Object(r.useState)(!1),l=Object(Z.a)(o,2),u=l[0],d=l[1],j=Object(r.useState)(null),b=Object(Z.a)(j,2),h=b[0],f=b[1],p=on(null===i||void 0===i?void 0:i.profileId),x=function(e){var t=un();return Object(r.useMemo)((function(){return t(e)}),[e,t])}(null===p||void 0===p||null===(t=p.items[0])||void 0===t?void 0:t.language);Object(r.useEffect)((function(){return f(null!==x&&void 0!==x?x:null)}),[x]);var v=Object(r.useState)(null),m=Object(Z.a)(v,2),g=m[0],y=m[1],k=Object(r.useState)(!1),w=Object(Z.a)(k,2),S=w[0],C=w[1],N=Object(r.useMemo)((function(){return null!==g&&(null===h||void 0===h?void 0:h.code2)}),[h,g]),I=Object(Cn.jsx)(Xn,{noReset:!0,disabled:!N,onChange:d,promise:function(){return g&&i&&h?Kt.uploadSubtitles(i.radarrId,{file:g,forced:S,hi:!1,language:h.code2}):null},onSuccess:s,children:"Upload"});return Object(Cn.jsx)(xr,Object(O.a)(Object(O.a)({title:"Upload - ".concat(null===i||void 0===i?void 0:i.title),closeable:!u,footer:I},n),{},{children:Object(Cn.jsx)(Nn.a,{fluid:!0,children:Object(Cn.jsxs)(Bn.a,{children:[Object(Cn.jsxs)(Bn.a.Group,{children:[Object(Cn.jsx)(Bn.a.Label,{children:"Language"}),Object(Cn.jsx)(ir,{options:c,value:h,onChange:function(e){e&&f(e)}})]}),Object(Cn.jsxs)(Bn.a.Group,{children:[Object(Cn.jsx)(Bn.a.Label,{children:"Subtitle File"}),Object(Cn.jsx)(Hn,{emptyText:"Select...",onChange:function(e){y(e[0])}})]}),Object(Cn.jsx)(Bn.a.Group,{children:Object(Cn.jsx)(Bn.a.Check,{custom:!0,id:"forced-checkbox",defaultChecked:S,onChange:function(e){return C(e.target.checked)},label:"Forced"})})]})})}))};!function(e){e[e.Update=0]="Update",e[e.Valid=1]="Valid",e[e.Warning=2]="Warning",e[e.Error=3]="Error"}(Or||(Or={}));var wr=function(e){var t=e.episodes,n=Object(mn.a)(e,["episodes"]),a=hr(n.modalKey),c=Object(r.useState)(!1),i=Object(Z.a)(c,2),s=i[0],o=i[1],l=dr(),u=Object(r.useState)([]),d=Object(Z.a)(u,2),j=d[0],b=d[1],f=Object(r.useState)({}),p=Object(Z.a)(f,2),x=p[0],v=p[1],m=dn(on(null===a||void 0===a?void 0:a.profileId)),g=Object(r.useMemo)((function(){return j.map((function(e){return e.form.file}))}),[j]);Object(r.useEffect)((function(){var e=j.reduce((function(e,t){var n={state:Or.Valid,infos:[]},r=t.form,a=t.instance;return t.didCheck?a?void 0!==a.subtitles.find((function(e){return e.code2===r.language}))&&(n.infos.push("Overwrite existing subtitle"),n.state=Or.Warning):(n.infos.push("Season or episode info is missing"),n.state=Or.Error):n.state=Or.Update,e[r.file.name]=n,e}),{});v(e)}),[j]);var y=Object(r.useCallback)(function(){var e=Object(Nt.a)(Ct.a.mark((function e(n){var r,a,c;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=n.map((function(e){return e.form.file.name}))).length>0)){e.next=7;break}return e.next=4,zt.info(r);case 4:a=e.sent,c=a.reduce((function(e,n){var r=t.find((function(e){return e.season===n.season&&e.episode===n.episode}));return r&&(e[n.filename]=r),e}),{}),b((function(e){return e.map((function(e){return Object(O.a)(Object(O.a)({},e),{},{didCheck:!0,instance:c[e.form.file.name]})}))}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),k=Object(r.useCallback)((function(e){if(e){var t=j.map((function(t){var n,r,a=t.form;return Object(O.a)(Object(O.a)({},t),{},{form:Object(O.a)(Object(O.a)({},a),{},{language:e.code2,hi:null!==(n=e.hi)&&void 0!==n&&n,forced:null!==(r=e.forced)&&void 0!==r&&r})})}));b(t)}}),[j]),w=Object(r.useCallback)((function(e){var t=m[0],n=e.map((function(e){var n,r;return{form:{file:e,language:t.code2,hi:null!==(n=t.hi)&&void 0!==n&&n,forced:null!==(r=t.forced)&&void 0!==r&&r},didCheck:!1}}));b(n);var r=e.reduce((function(e,t){return Object(O.a)(Object(O.a)({},e),{},Object(h.a)({},t.name,{state:Or.Update,infos:[]}))}),{});v(r),y(n)}),[m,y]),S=Object(r.useCallback)(Object(Nt.a)(Ct.a.mark((function e(){var t,n,r,c,i,s;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==a){e.next=2;break}return e.abrupt("return");case 2:t=a.sonarrSeriesId,n=j.reduce((function(e,t){return e[t.form.file.name]={state:Or.Update,infos:[]},e}),{}),v(n),r=Object(_n.a)(j),e.prev=6,r.s();case 8:if((c=r.n()).done){e.next=18;break}if(!(i=c.value).instance){e.next=16;break}return s=i.instance.sonarrEpisodeId,e.next=14,Tt.uploadSubtitles(t,s,i.form);case 14:n=Object(O.a)(Object(O.a)({},n),{},Object(h.a)({},i.form.file.name,{state:Or.Valid,infos:[]})),v(n);case 16:e.next=8;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(6),r.e(e.t0);case 23:return e.prev=23,r.f(),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[6,20,23,26]])}))),[a,j]),C=Object(r.useMemo)((function(){return j.length>0&&j.every((function(e){return void 0!==e.instance}))}),[j]),N=j.length>0,I=Object(r.useMemo)((function(){return[{id:"Icon",accessor:"instance",className:"text-center",Cell:function(e){var t=e.row,n=e.loose,r=t.original.form.file.name,a=n[1],c=gn.j,i=void 0,s=!1,o=[];if(r in a){var l=a[r];switch(o=l.infos,l.state){case Or.Error:c=gn.t,i="var(--danger)";break;case Or.Valid:c=gn.h,i="var(--success)";break;case Or.Warning:c=gn.A,i="var(--warning)";break;case Or.Update:s=!0}}return Object(Cn.jsx)(ua,{messages:o,color:i,icon:c,spin:s})}},{Header:"File",accessor:function(e){return e.form.file.name}},{Header:"Episode",accessor:"instance",className:"vw-1",Cell:function(e){var t=e.value,n=e.loose,a=e.row,c=e.externalUpdate,i=n[2].map((function(e){return{label:"(".concat(e.season,"x").concat(e.episode,") ").concat(e.title),value:e}})),s=Object(r.useCallback)((function(e){if(e){var t=Object(O.a)({},a.original);t.instance=e,c&&c(a,t)}}),[a,c]);return Object(Cn.jsx)(Fn,{options:i,value:null!==t&&void 0!==t?t:null,onChange:s})}},{accessor:"form",Cell:function(e){var t=e.row,n=e.externalUpdate,r=e.loose,a=Object(Z.a)(r,1)[0];return Object(Cn.jsx)(Pn.a,{size:"sm",variant:"light",disabled:a,onClick:function(){n&&n(t)},children:Object(Cn.jsx)(yn.a,{icon:gn.Z})})}}]}),[]),P=Object(r.useCallback)((function(e,t){b((function(n){var r=Object(J.a)(n);return t?r[e.index]=t:r.splice(e.index,1),r}))}),[]),E=Object(Cn.jsxs)("div",{className:"d-flex flex-row flex-grow-1 justify-content-between",children:[Object(Cn.jsx)("div",{className:"w-25",children:Object(Cn.jsx)(ir,{disabled:s,options:m,defaultValue:m.length>0?m[0]:void 0,onChange:k})}),Object(Cn.jsxs)("div",{children:[Object(Cn.jsx)(Pn.a,{hidden:s,disabled:0===j.length,variant:"outline-secondary",className:"mr-2",onClick:function(){return w([])},children:"Clean"}),Object(Cn.jsx)(Xn,{noReset:!0,disabled:!C,onChange:o,promise:S,onSuccess:function(){l(),w([])},children:"Upload"})]})]});return Object(Cn.jsx)(xr,Object(O.a)(Object(O.a)({size:"lg",title:"Upload Subtitles",closeable:!s,footer:E},n),{},{children:Object(Cn.jsxs)(Nn.a,{fluid:!0,className:"flex-column",children:[Object(Cn.jsx)(Bn.a,{children:Object(Cn.jsx)(Bn.a.Group,{children:Object(Cn.jsx)(Hn,{emptyText:"Select...",disabled:N||0===m.length,multiple:!0,value:g,onChange:w})})}),Object(Cn.jsx)("div",{hidden:!N,children:Object(Cn.jsx)(na,{columns:I,data:j,loose:[s,x,t],responsive:!1,externalUpdate:P})})]})}))},Sr=n(554),Cr=n(555),Nr=n(50),Ir="useCustomSelection",Pr=Object(r.forwardRef)((function(e,t){var n=e.indeterminate,a=e.idIn,c=Object(mn.a)(e,["indeterminate","idIn"]),i=Object(r.useRef)(null),s=t||i;return Object(r.useEffect)((function(){"object"===typeof s&&s.current&&(s.current.indeterminate=null!==n&&void 0!==n&&n)}),[s,n]),Object(Cn.jsx)(Bn.a.Check,Object(O.a)({custom:!0,id:a,ref:s},c))}));function Er(e){e.visibleColumnsDeps.push((function(e,t){var n=t.instance;return[].concat(Object(J.a)(e),[n.isSelecting])})),e.visibleColumns.push(Tr),e.useInstance.push(Ar)}function Ar(e){var t=e.plugins,n=e.rows,a=e.onSelect,c=e.isSelecting,i=e.state.selectedRowIds;Object(Nr.ensurePluginOrder)(t,["useRowSelect"],Ir),Object(r.useEffect)((function(){if(c){var e=Object.keys(i).flatMap((function(e){var t,r;return null!==(t=null===(r=n.find((function(t){return t.id===e})))||void 0===r?void 0:r.original)&&void 0!==t?t:[]}));a&&a(e)}}),[i,a,n,c])}function Tr(e,t){return t.instance.isSelecting?[{id:"---selection---",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return Object(Cn.jsx)(Pr,Object(O.a)({idIn:"table-header-selection"},t()))},Cell:function(e){var t=e.row;return Object(Cn.jsx)(Pr,Object(O.a)({idIn:"table-cell-".concat(t.index)},t.getToggleRowSelectedProps()))}}].concat(Object(J.a)(e.filter((function(e){return!0!==e.selectHide})))):e}Er.pluginName=Ir;var Mr=Er;function Br(e){e.useOptions.push(Kr)}function Kr(e){var t=$t((function(e){return e.site})).pageSize;return void 0===e.autoResetPage&&(e.autoResetPage=!1),void 0===e.autoResetExpanded&&(e.autoResetExpanded=!1),void 0===e.initialState&&(e.initialState={}),void 0===e.initialState.pageSize&&(e.initialState.pageSize=t),e}Br.pluginName="useLocalSettings";var Dr,Rr=Br,zr={af:"afrikaans",sq:"albanian",am:"amharic",ar:"arabic",hy:"armenian",az:"azerbaijani",eu:"basque",be:"belarusian",bn:"bengali",bs:"bosnian",bg:"bulgarian",ca:"catalan",ceb:"cebuano",ny:"chichewa","zh-cn":"chinese (simplified)","zh-tw":"chinese (traditional)",co:"corsican",hr:"croatian",cs:"czech",da:"danish",nl:"dutch",en:"english",eo:"esperanto",et:"estonian",tl:"filipino",fi:"finnish",fr:"french",fy:"frisian",gl:"galician",ka:"georgian",de:"german",el:"greek",gu:"gujarati",ht:"haitian creole",ha:"hausa",haw:"hawaiian",iw:"hebrew",hi:"hindi",hmn:"hmong",hu:"hungarian",is:"icelandic",ig:"igbo",id:"indonesian",ga:"irish",it:"italian",ja:"japanese",jw:"javanese",kn:"kannada",kk:"kazakh",km:"khmer",ko:"korean",ku:"kurdish (kurmanji)",ky:"kyrgyz",lo:"lao",la:"latin",lv:"latvian",lt:"lithuanian",lb:"luxembourgish",mk:"macedonian",mg:"malagasy",ms:"malay",ml:"malayalam",mt:"maltese",mi:"maori",mr:"marathi",mn:"mongolian",my:"myanmar (burmese)",ne:"nepali",no:"norwegian",ps:"pashto",fa:"persian",pl:"polish",pt:"portuguese",pa:"punjabi",ro:"romanian",ru:"russian",sm:"samoan",gd:"scots gaelic",sr:"serbian",st:"sesotho",sn:"shona",sd:"sindhi",si:"sinhala",sk:"slovak",sl:"slovenian",so:"somali",es:"spanish",su:"sundanese",sw:"swahili",sv:"swedish",tg:"tajik",ta:"tamil",te:"telugu",th:"thai",tr:"turkish",uk:"ukrainian",ur:"urdu",uz:"uzbek",vi:"vietnamese",cy:"welsh",xh:"xhosa",yi:"yiddish",yo:"yoruba",zu:"zulu",fil:"Filipino",he:"Hebrew"},_r=[{label:"White",value:"white"},{label:"Light Gray",value:"lightgray"},{label:"Red",value:"red"},{label:"Green",value:"green"},{label:"Yellow",value:"yellow"},{label:"Blue",value:"blue"},{label:"Magenta",value:"magenta"},{label:"Cyan",value:"cyan"},{label:"Black",value:"black"},{label:"Dark Red",value:"darkred"},{label:"Dark Green",value:"darkgreen"},{label:"Dark Yellow",value:"darkyellow"},{label:"Dark Blue",value:"darkblue"},{label:"Dark Magenta",value:"darkmagenta"},{label:"Dark Cyan",value:"darkcyan"},{label:"Dark Grey",value:"darkgrey"}];!function(e){e[e.Pending=0]="Pending",e[e.Processing=1]="Processing",e[e.Done=2]="Done"}(Dr||(Dr={}));var Hr=function(e){var t=e.state,n=Tn.f;switch(t){case Dr.Pending:n=gn.l;break;case Dr.Processing:n=gn.j;break;case Dr.Done:n=gn.h}return Object(Cn.jsx)(yn.a,{icon:n,spin:t===Dr.Processing})};var Lr=function(e){var t=e.process,n=Object(mn.a)(e,["process"]),a=Object(r.useState)(null),c=Object(Z.a)(a,2),i=c[0],s=c[1],o=Object(r.useCallback)((function(){if(i){var e="color(name=".concat(i,")");t(e)}}),[i,t]),l=Object(r.useMemo)((function(){return Object(Cn.jsx)(Pn.a,{disabled:null===i,onClick:o,children:"Save"})}),[i,o]);return Object(Cn.jsx)(xr,Object(O.a)(Object(O.a)({title:"Choose Color",footer:l},n),{},{children:Object(Cn.jsx)(Fn,{options:_r,onChange:s})}))},Fr=function(e){var t=e.process,n=Object(mn.a)(e,["process"]),a=Object(r.useState)(null),c=Object(Z.a)(a,2),i=c[0],s=c[1],o=Object(r.useState)(null),l=Object(Z.a)(o,2),u=l[0],d=l[1],j=null!==i&&null!==u&&i!==u,b=Object(r.useCallback)((function(){if(j){var e=function(e,t){return"change_FPS(from=".concat(e,",to=").concat(t,")")}(i,u);t(e)}}),[j,i,u,t]),h=Object(r.useMemo)((function(){return Object(Cn.jsx)(Pn.a,{disabled:!j,onClick:b,children:"Save"})}),[b,j]);return Object(Cn.jsx)(xr,Object(O.a)(Object(O.a)({title:"Change Frame Rate",footer:h},n),{},{children:Object(Cn.jsxs)(Sr.a,{className:"px-2",children:[Object(Cn.jsx)(Bn.a.Control,{placeholder:"From",type:"number",onChange:function(e){var t=parseFloat(e.currentTarget.value);isNaN(t)?s(null):s(t)}}),Object(Cn.jsx)(Bn.a.Control,{placeholder:"To",type:"number",onChange:function(e){var t=parseFloat(e.currentTarget.value);isNaN(t)?d(null):d(t)}})]})}))},Ur=function(e){var t=e.process,n=Object(mn.a)(e,["process"]),a=Object(r.useState)(!0),c=Object(Z.a)(a,2),i=c[0],s=c[1],o=Object(r.useState)([0,0,0,0]),l=Object(Z.a)(o,2),u=l[0],d=l[1],j=Object(r.useCallback)((function(e){return function(t){var n=parseFloat(t.currentTarget.value);isNaN(n)&&(n=0);var r=Object(J.a)(u);r[e]=n,d(r)}}),[u]),b=u.some((function(e){return 0!==e})),h=Object(r.useCallback)((function(){if(b){var e=u.map((function(e){return i?e:-e})),n=(r=e[0],a=e[1],c=e[2],s=e[3],"shift_offset(h=".concat(r,",m=").concat(a,",s=").concat(c,",ms=").concat(s,")"));t(n)}var r,a,c,s}),[t,b,u,i]),f=Object(r.useMemo)((function(){return Object(Cn.jsx)(Pn.a,{disabled:!b,onClick:h,children:"Save"})}),[h,b]);return Object(Cn.jsx)(xr,Object(O.a)(Object(O.a)({title:"Adjust Times",footer:f},n),{},{children:Object(Cn.jsxs)(Sr.a,{children:[Object(Cn.jsx)(Sr.a.Prepend,{children:Object(Cn.jsx)(Pn.a,{variant:"secondary",title:i?"Later":"Earlier",onClick:function(){return s(!i)},children:Object(Cn.jsx)(yn.a,{icon:i?gn.M:gn.G})})}),Object(Cn.jsx)(Bn.a.Control,{type:"number",placeholder:"hour",onChange:j(0)}),Object(Cn.jsx)(Bn.a.Control,{type:"number",placeholder:"min",onChange:j(1)}),Object(Cn.jsx)(Bn.a.Control,{type:"number",placeholder:"sec",onChange:j(2)}),Object(Cn.jsx)(Bn.a.Control,{type:"number",placeholder:"ms",onChange:j(3)})]})}))},Gr=function(e){var t=e.process,n=Object(mn.a)(e,["process"]),a=ln(!0),c=Object(Z.a)(a,1)[0],i=Object(r.useMemo)((function(){return c.filter((function(e){return e.code2 in zr}))}),[c]),s=Object(r.useState)(null),o=Object(Z.a)(s,2),l=o[0],u=o[1],d=Object(r.useCallback)((function(){l&&t("translate",{language:l.code2})}),[l,t]),j=Object(r.useMemo)((function(){return Object(Cn.jsx)(Pn.a,{disabled:!l,onClick:d,children:"Translate"})}),[d,l]);return Object(Cn.jsxs)(xr,Object(O.a)(Object(O.a)({title:"Translate to",footer:j},n),{},{children:[Object(Cn.jsx)(Bn.a.Label,{children:"Enabled languages not listed here are unsupported by Google Translate."}),Object(Cn.jsx)(ir,{options:i,onChange:u})]}))},qr=function(e){var t=Object.assign({},e),n=hr(t.modalKey),c=Object(r.useState)(!1),i=Object(Z.a)(c,2),s=i[0],o=i[1],l=Object(r.useState)({}),u=Object(Z.a)(l,2),d=u[0],j=u[1],b=Object(r.useState)([]),f=Object(Z.a)(b,2),p=f[0],x=f[1],v=function(e){var t=Object(r.useContext)(or),n=Object(Z.a)(t,2),a=n[0],c=n[1],i=Object(r.useContext)(lr),s=Object(Z.a)(i,2),o=s[0],l=s[1];return Object(r.useCallback)((function(){var t=a.findIndex((function(t){return t===e}));if(-1!==t){var n=a.slice(0,t+1),r=o.slice(0,t+1);c(n),l(r)}}),[a,o,c,l,e])}(t.modalKey),m=Object(r.useCallback)(function(){var e=Object(Nt.a)(Ct.a.mark((function e(t,n){var r,a,c,i,s;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(),o(!0),r=p.reduce((function(e,t){return Object(O.a)(Object(h.a)({},t.path,Dr.Pending),e)}),{}),j(r),a=Object(_n.a)(p),e.prev=6,a.s();case 8:if((c=a.n()).done){e.next=19;break}return i=c.value,r=Object(O.a)(Object(O.a)({},r),{},Object(h.a)({},i.path,Dr.Processing)),j(r),s=Object(O.a)({id:i.id,type:i.type,language:i.language,path:i.path},n),e.next=15,zt.modify(t,s);case 15:r=Object(O.a)(Object(O.a)({},r),{},Object(h.a)({},i.path,Dr.Done)),j(r);case 17:e.next=8;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(6),a.e(e.t0);case 24:return e.prev=24,a.f(),e.finish(24);case 27:o(!1);case 28:case"end":return e.stop()}}),e,null,[[6,21,24,27]])})));return function(t,n){return e.apply(this,arguments)}}(),[v,p]),g=ur(),y=Object(r.useMemo)((function(){return[{id:"state",accessor:"path",selectHide:!0,Cell:function(e){var t=e.value,n=e.loose;if(n){var r=n[0];if(t in r){var a=r[t];return Object(Cn.jsx)(Hr,{state:a})}}return null}},{Header:"Language",accessor:"_language",Cell:function(e){var t=e.value;return Object(Cn.jsx)(Jn.a,{variant:"secondary",children:Object(Cn.jsx)(ja,{text:t,long:!0})})}},{id:"file",Header:"File",accessor:"path",Cell:function(e){var t=e.value,n=t.lastIndexOf("/");return-1===n&&(n=t.lastIndexOf("\\")),-1!==n?t.slice(n+1):t}}]}),[]),k=Object(r.useMemo)((function(){var e;return null!==(e=null===n||void 0===n?void 0:n.flatMap((function(e){var t=function(e){return jt(e)?[e.radarrId,"movie"]:[e.sonarrEpisodeId,"episode"]}(e),n=Object(Z.a)(t,2),r=n[0],a=n[1];return e.subtitles.flatMap((function(e){return null!==e.path?[{id:r,type:a,language:e.code2,path:e.path,_language:e}]:[]}))})))&&void 0!==e?e:[]}),[n]),w=[Nr.useRowSelect,Mr],S=Object(r.useMemo)((function(){return Object(Cn.jsxs)(Mn.a,{as:Cr.a,onSelect:function(e){return e&&m(e)},children:[Object(Cn.jsx)($n,{size:"sm",loading:s,disabled:0===p.length,icon:gn.L,onClick:function(){return m("sync")},children:"Sync"}),Object(Cn.jsx)(Mn.a.Toggle,{disabled:s||0===p.length,split:!0,variant:"light",size:"sm",className:"px-2"}),Object(Cn.jsxs)(Mn.a.Menu,{children:[Object(Cn.jsx)(Mn.a.Item,{eventKey:"remove_HI",children:Object(Cn.jsx)(er,{icon:gn.p,children:"Remove HI Tags"})}),Object(Cn.jsx)(Mn.a.Item,{eventKey:"remove_tags",children:Object(Cn.jsx)(er,{icon:gn.n,children:"Remove Style Tags"})}),Object(Cn.jsx)(Mn.a.Item,{eventKey:"OCR_fixes",children:Object(Cn.jsx)(er,{icon:gn.z,children:"OCR Fixes"})}),Object(Cn.jsx)(Mn.a.Item,{eventKey:"common",children:Object(Cn.jsx)(er,{icon:gn.F,children:"Common Fixes"})}),Object(Cn.jsx)(Mn.a.Item,{eventKey:"fix_uppercase",children:Object(Cn.jsx)(er,{icon:gn.W,children:"Fix Uppercase"})}),Object(Cn.jsx)(Mn.a.Item,{eventKey:"reverse_rtl",children:Object(Cn.jsx)(er,{icon:gn.r,children:"Reverse RTL"})}),Object(Cn.jsx)(Mn.a.Item,{onSelect:function(){return g("add-color")},children:Object(Cn.jsx)(er,{icon:gn.J,children:"Add Color"})}),Object(Cn.jsx)(Mn.a.Item,{onSelect:function(){return g("change-frame-rate")},children:Object(Cn.jsx)(er,{icon:gn.v,children:"Change Frame Rate"})}),Object(Cn.jsx)(Mn.a.Item,{onSelect:function(){return g("adjust-times")},children:Object(Cn.jsx)(er,{icon:gn.l,children:"Adjust Times"})}),Object(Cn.jsx)(Mn.a.Item,{onSelect:function(){return g("translate-sub")},children:Object(Cn.jsx)(er,{icon:gn.B,children:"Translate"})})]})]})}),[g,s,p.length,m]);return Object(Cn.jsxs)(a.a.Fragment,{children:[Object(Cn.jsx)(xr,Object(O.a)(Object(O.a)({title:"Subtitle Tools",footer:S,closeable:!s},t),{},{children:Object(Cn.jsx)(na,{isSelecting:!s&&0!==k.length,emptyText:"No External Subtitles Found",plugins:w,columns:y,onSelect:x,data:k,loose:[d]})})),Object(Cn.jsx)(Lr,{process:m,modalKey:"add-color"}),Object(Cn.jsx)(Fr,{process:m,modalKey:"change-frame-rate"}),Object(Cn.jsx)(Ur,{process:m,modalKey:"adjust-times"}),Object(Cn.jsx)(Gr,{process:m,modalKey:"translate-sub"})]})},Wr=function(e){var t=e.onSearch,n=e.onFocus,a=e.onBlur,c=e.className,i=Object(r.useState)(""),s=Object(Z.a)(i,2),l=s[0],u=s[1],d=Object(r.useState)([]),j=Object(Z.a)(d,2),b=j[0],h=j[1],O=Object(o.h)(),f=Object(r.useCallback)((function(e){""===e?h([]):t(e).then((function(e){return h(e)}))}),[t]),p=Object(r.useMemo)((function(){return Object($.throttle)(f,500)}),[f]);Object(r.useEffect)((function(){p(l)}),[l,p]);var x=Object(r.useCallback)((function(){u(""),h([])}),[]),v=Object(r.useMemo)((function(){var e=b.map((function(e){return Object(Cn.jsx)(Mn.a.Item,{eventKey:e.link,disabled:void 0===e.link,children:Object(Cn.jsx)("span",{children:e.name})},e.name)}));return 0===e.length&&e.push(Object(Cn.jsx)(Mn.a.Header,{children:"No Found"},"notify")),e}),[b]);return Object(Cn.jsxs)(Mn.a,{show:0!==l.length,className:c,onFocus:n,onBlur:a,onSelect:function(e){e&&(x(),O.push(e))},children:[Object(Cn.jsx)(Bn.a.Control,{type:"text",size:"sm",placeholder:"Search...",value:l,onChange:function(e){return u(e.currentTarget.value)}}),Object(Cn.jsx)(Mn.a.Menu,{style:{maxHeight:256,overflowY:"auto"},children:v})]})},Yr=n(556);function Vr(e){return{style:{emptyText:e.emptyText,responsive:e.responsive,hoverable:e.hoverable,striped:e.striped,borderless:e.borderless,small:e.small,hideHeader:e.hideHeader,headersRenderer:e.headersRenderer,rowRenderer:e.rowRenderer},options:Object(mn.a)(e,["emptyText","responsive","hoverable","striped","borderless","small","hideHeader","headersRenderer","rowRenderer"])}}function Qr(e){return e.map((function(e){return Object(Cn.jsx)("th",Object(O.a)(Object(O.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}function Xr(e){return Object(Cn.jsx)("tr",Object(O.a)(Object(O.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(Cn.jsx)("td",Object(O.a)(Object(O.a)({className:e.column.className},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}function Jr(e){var t=e.emptyText,n=e.responsive,a=e.hoverable,c=e.striped,i=e.borderless,s=e.small,o=e.hideHeader,l=e.headers,u=e.rows,d=e.headersRenderer,j=e.rowRenderer,b=e.prepareRow,h=e.tableProps,f=e.tableBodyProps,p=Object(r.useMemo)((function(){return l.reduce((function(e,t){return t.headers.length>e?t.headers.length:e}),0)}),[l]),x=0===u.length,v=null!==d&&void 0!==d?d:Qr,m=null!==j&&void 0!==j?j:Xr;return Object(Cn.jsxs)(Yr.a,Object(O.a)(Object(O.a)({size:s?"sm":void 0,striped:null===c||void 0===c||c,borderless:null===i||void 0===i||i,hover:a,responsive:null===n||void 0===n||n},h),{},{children:[Object(Cn.jsx)("thead",{hidden:o,children:l.map((function(e){return Object(Cn.jsx)("tr",Object(O.a)(Object(O.a)({},e.getHeaderGroupProps()),{},{children:v(e.headers)}))}))}),Object(Cn.jsx)("tbody",Object(O.a)(Object(O.a)({},f),{},{children:t&&x?Object(Cn.jsx)("tr",{children:Object(Cn.jsx)("td",{colSpan:p,className:"text-center",children:t})}):u.map((function(e){return b(e),m(e)}))}))]}))}var Zr=n(574),$r=n(297),ea=function(e){var t=e.count,n=e.index,a=e.size,c=e.total,i=e.canPrevious,s=e.previous,o=e.canNext,l=e.next,u=e.goto,d=e.loadState,j=0===c?0:a*n+1,b=Math.min(a*(n+1),c),h=void 0!==d,O=Object(r.useMemo)((function(){return Object(J.a)(Array(t).keys()).map((function(e){return Math.abs(e-n)>=4&&0!==e&&e!==t-1?null:Object(Cn.jsx)(Zr.a.Item,{disabled:h,active:n===e,onClick:function(){return u(e)},children:e+1},e)})).flatMap((function(e,t,n){return null===e?null===n[t+1]?[]:Object(Cn.jsx)(Zr.a.Ellipsis,{disabled:!0},t):[e]}))}),[t,n,u,h]);return Object(Cn.jsx)(Nn.a,{fluid:!0,className:"mb-3",children:Object(Cn.jsxs)(Zt.a,{children:[Object(Cn.jsx)($r.a,{className:"d-flex align-items-center justify-content-start",children:Object(Cn.jsxs)("span",{children:["Show ",j," to ",b," of ",c," entries"]})}),Object(Cn.jsx)($r.a,{className:"d-flex justify-content-end",children:Object(Cn.jsxs)(Zr.a,{className:"m-0",hidden:t<=1,children:[Object(Cn.jsx)(Zr.a.Prev,{onClick:s,disabled:!i||h}),O,Object(Cn.jsx)(Zr.a.Next,{onClick:l,disabled:!o||h})]})})]})})};function ta(e){var t=e.aos,n=e.plugins,c=e.loader,i=Vr(Object(mn.a)(e,["aos","plugins","loader"])),s=i.style,o=i.options,l=t.updating,u=t.data,d=u.order,j=u.items,b=u.fetched,h=[Rr];n&&h.push.apply(h,Object(J.a)(n));var f=Object(r.useState)(0),p=Object(Z.a)(f,2),x=p[0],v=p[1],m=$t((function(e){return e.site.pageSize})),g=d.length,y=Math.ceil(g/m),k=Object(r.useCallback)((function(){v((function(e){return e-1}))}),[]),w=Object(r.useCallback)((function(){v((function(e){return e+1}))}),[]),S=Object(r.useCallback)((function(e){v(e)}),[]),C=x*m,N=C+m,I=Object(r.useMemo)((function(){return d.slice(C,N)}),[C,N,d]),P=Object(r.useMemo)((function(){return mt(j,I)}),[j,I]),E=Object(r.useMemo)((function(){return Object(O.a)(Object(O.a)({},o),{},{data:P})}),[o,P]),A=Nr.useTable.apply(void 0,[E].concat(h)),T=A.getTableProps,M=A.getTableBodyProps,B=A.headerGroups,K=A.rows,D=A.prepareRow;return Object(r.useEffect)((function(){kt()}),[x]),Object(r.useEffect)((function(){var e=0===I.length&&!1===b,t=!I.every(dt);(e||t)&&c(C,m)}),[I,C,m,c,b]),Object(r.useMemo)((function(){return l&&(I.every($.isNull)||0===I.length)}),[I,l])?Object(Cn.jsx)(da,{}):Object(Cn.jsxs)(a.a.Fragment,{children:[Object(Cn.jsx)(Jr,Object(O.a)(Object(O.a)({},s),{},{headers:B,rows:K,prepareRow:D,tableProps:T(),tableBodyProps:M()})),Object(Cn.jsx)(ea,{count:y,index:x,size:m,total:g,canPrevious:x>0,canNext:x<y-1,previous:k,next:w,goto:S})]})}function na(e){var t=e.plugins,n=Vr(Object(mn.a)(e,["plugins"])),r=n.style,a=n.options,c=Nr.useTable.apply(void 0,[a,Rr].concat(Object(J.a)(null!==t&&void 0!==t?t:[]))),i=c.getTableProps,s=c.getTableBodyProps,o=c.headerGroups,l=c.rows,u=c.prepareRow;return Object(Cn.jsx)(Jr,Object(O.a)(Object(O.a)({},r),{},{headers:o,rows:l,prepareRow:u,tableProps:i(),tableBodyProps:s()}))}function ra(e,t){return e.isGrouped?Object(Cn.jsx)("span",Object(O.a)(Object(O.a)({},t.getToggleRowExpandedProps()),{},{children:e.render("Cell")})):t.canExpand||e.isAggregated?null:e.render("Cell")}function aa(e){if(e.canExpand){var t=e.cells.find((function(e){return e.isGrouped}));if(t){var n=e.isExpanded?90:void 0;return Object(Cn.jsx)("tr",Object(O.a)(Object(O.a)({},e.getRowProps()),{},{children:Object(Cn.jsx)("td",Object(O.a)(Object(O.a)({className:"p-0"},t.getCellProps()),{},{colSpan:e.cells.length,children:Object(Cn.jsxs)("span",Object(O.a)(Object(O.a)({},e.getToggleRowExpandedProps()),{},{className:"d-flex align-items-center p-2",children:[t.render("Cell"),Object(Cn.jsx)(yn.a,{className:"mx-2",icon:gn.i,rotation:n})]}))}))}))}return null}return Object(Cn.jsx)("tr",Object(O.a)(Object(O.a)({},e.getRowProps()),{},{children:e.cells.filter((function(e){return!e.isPlaceholder})).map((function(t){return Object(Cn.jsx)("td",Object(O.a)(Object(O.a)({className:t.column.className},t.getCellProps()),{},{children:ra(t,e)}))}))}))}function ca(e){return e.filter((function(e){return!e.isGrouped})).map((function(e){return Object(Cn.jsx)("th",Object(O.a)(Object(O.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}var ia,sa=function(e){var t=[Nr.useGroupBy,Nr.useSortBy,Nr.useExpanded];return Object(Cn.jsx)(na,Object(O.a)(Object(O.a)({},e),{},{plugins:t,headersRenderer:ca,rowRenderer:aa}))};function oa(e){var t=e.autoScroll,n=e.canSelect,c=e.plugins,i=Vr(Object(mn.a)(e,["autoScroll","canSelect","plugins"])),s=i.style,o=i.options,l=[Rr,Nr.usePagination];n&&l.push(Nr.useRowSelect,Mr),c&&l.push.apply(l,Object(J.a)(c));var u=Nr.useTable.apply(void 0,[o].concat(l)),d=u.getTableProps,j=u.getTableBodyProps,b=u.headerGroups,h=u.rows,f=u.prepareRow,p=u.page,x=u.canNextPage,v=u.canPreviousPage,m=u.pageCount,g=u.gotoPage,y=u.nextPage,k=u.previousPage,w=u.setPageSize,S=u.state,C=S.pageIndex,N=S.pageSize,I=$t((function(e){return e.site.pageSize}));return Object(r.useEffect)((function(){t&&kt()}),[C,t]),Object(r.useEffect)((function(){var e=o.isSelecting;n&&!Object($.isUndefined)(e)&&w(e?h.length:I)}),[n,I,o.isSelecting,h.length,w]),Object(Cn.jsxs)(a.a.Fragment,{children:[Object(Cn.jsx)(Jr,Object(O.a)(Object(O.a)({},s),{},{headers:b,rows:p,prepareRow:f,tableProps:d(),tableBodyProps:j()})),Object(Cn.jsx)(ea,{count:m,index:C,size:N,total:h.length,canPrevious:v,canNext:x,previous:k,next:y,goto:g})]})}!function(e){e[e.Delete=0]="Delete",e[e.Download=1]="Download",e[e.Manual=2]="Manual",e[e.Upgrade=3]="Upgrade",e[e.Upload=4]="Upload",e[e.Sync=5]="Sync"}(ia||(ia={}));var la=function(e){var t=e.action,n=e.title,r=null;switch(t){case ia.Delete:r=gn.Z;break;case ia.Download:r=gn.q;break;case ia.Manual:r=gn.bb;break;case ia.Sync:r=gn.l;break;case ia.Upgrade:r=gn.O;break;case ia.Upload:r=gn.m}return r?Object(Cn.jsx)(yn.a,{title:n,icon:r}):null},ua=function(e){var t=e.messages,n=Object(mn.a)(e,["messages"]),r=Object(Cn.jsx)(kn.a,{hidden:0===t.length,id:"overlay-icon",children:Object(Cn.jsx)(kn.a.Content,{children:t.map((function(e){return Object(Cn.jsx)("li",{children:e},e)}))})});return Object(Cn.jsx)(wn.a,{overlay:r,children:Object(Cn.jsx)(yn.a,Object(O.a)({},n))})},da=function(e){var t=e.children,n=e.animation;return Object(Cn.jsxs)("div",{className:"d-flex flex-column flex-grow-1 align-items-center py-5",children:[Object(Cn.jsx)(Sn.a,{animation:null!==n&&void 0!==n?n:"border",className:"mb-2"}),t]})},ja=function(e){var t=e.text,n=e.className,a=e.long,c=Object(r.useMemo)((function(){var e=t.code2,n=":HI",r=":Forced";a&&(e=t.name,n=" HI",r=" Forced");var c=e;return t.hi?c+=n:t.forced&&(c+=r),c}),[t,a]);return Object(Cn.jsx)("span",{title:t.name,className:n,children:c})},ba=function(e){var t=e.children,n=e.text,r=e.placement,a=e.delay;if(Object($.isNull)(n)||Object($.isUndefined)(n))return t;var c=Object(Cn.jsx)(kn.a,{className:"mw-100 py-1",id:n,children:Object(Cn.jsx)("span",{className:"mx-2",children:n})});return Object(Cn.jsx)(wn.a,{delay:a,overlay:c,placement:r,children:t})},ha=n(557),Oa=n(572),fa="data:image/png;base64,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",pa=n(324),xa=n(299),va=a.a.createContext([]),ma=a.a.createContext({});var ga=function(e){var t=e.link,n=e.name,a=e.icon,c=Object(r.useContext)(ma),i=Object(r.useContext)(Ss),s=Object(r.useMemo)((function(){var e=null;if(n in c){var t=c[n];"number"===typeof t&&(e=t)}return e}),[c,n]);return Object(Cn.jsx)(l.c,{activeClassName:"sb-active",className:"list-group-item list-group-item-action sidebar-button",to:t,onClick:i,children:Object(Cn.jsx)(ka,{badge:null!==s&&void 0!==s?s:void 0,name:n,icon:a})})},ya=function(e){var t=e.icon,n=e.name,a=e.children,c=Object(r.useContext)(ma),i=Object(r.useContext)(va),s=Object(r.useContext)(Ss),o=$t((function(e){return e.site.sidebar})),u=en(ot),d=Object(r.useMemo)((function(){var e=null,t=null;if(n in c){var r=c[n];if("number"===typeof r)e=r;else if("object"===typeof r)for(var a in e=0,t=r,r)e+=r[a]}return[e,t]}),[c,n]),j=Object(Z.a)(d,2),b=j[0],h=j[1],O=Object(r.useMemo)((function(){return o===n}),[o,n]),f=Object(r.useMemo)((function(){return"sidebar-collapse-box ".concat(O?"active":"")}),[O]),p=Object(r.useMemo)((function(){return a.filter((function(e){var t;return!i.includes(null!==(t=e.hiddenKey)&&void 0!==t?t:"")})).map((function(e){var t,n=null;return h&&e.name in h&&(n=h[e.name]),Object(Cn.jsx)(l.c,{activeClassName:"sb-active",className:"list-group-item list-group-item-action sidebar-button sb-collapse",to:e.link,onClick:s,children:Object(Cn.jsx)(ka,{badge:0===n?void 0:null!==(t=n)&&void 0!==t?t:void 0,name:e.name})},e.name)}))}),[a,i,h,s]);return 0===p.length?null:Object(Cn.jsxs)("div",{className:f,children:[Object(Cn.jsx)(pa.a,{action:!0,className:"sidebar-button",onClick:function(){u(O?"":n)},children:Object(Cn.jsx)(ka,{badge:0===b?void 0:null!==b&&void 0!==b?b:void 0,icon:t,name:n})}),Object(Cn.jsx)(xa.a,{in:O,children:Object(Cn.jsx)("div",{className:"sidebar-collapse",children:p})})]})},ka=function(e){var t=e.name,n=e.icon,r=e.badge;return Object(Cn.jsxs)(a.a.Fragment,{children:[n&&Object(Cn.jsx)(yn.a,{size:"1x",className:"icon",icon:n}),Object(Cn.jsxs)("span",{className:"d-flex flex-grow-1 justify-content-between",children:[t," ",Object(Cn.jsx)(Jn.a,{variant:"secondary",children:r})]})]})},wa="sonarr-disabled",Sa="radarr-disabled",Ca=[{icon:gn.L,name:"Series",link:"/series",hiddenKey:wa},{icon:gn.v,name:"Movies",link:"/movies",hiddenKey:Sa},{icon:gn.l,name:"History",children:[{name:"Series",link:"/history/series",hiddenKey:wa},{name:"Movies",link:"/history/movies",hiddenKey:Sa},{name:"Statistics",link:"/history/stats"}]},{icon:gn.u,name:"Blacklist",children:[{name:"Series",link:"/blacklist/series",hiddenKey:wa},{name:"Movies",link:"/blacklist/movies",hiddenKey:Sa}]},{icon:gn.t,name:"Wanted",children:[{name:"Series",link:"/wanted/series",hiddenKey:wa},{name:"Movies",link:"/wanted/movies",hiddenKey:Sa}]},{icon:gn.o,name:"Settings",children:[{name:"General",link:"/settings/general"},{name:"Languages",link:"/settings/languages"},{name:"Providers",link:"/settings/providers"},{name:"Subtitles",link:"/settings/subtitles"},{name:"Sonarr",link:"/settings/sonarr"},{name:"Radarr",link:"/settings/radarr"},{name:"Notifications",link:"/settings/notifications"},{name:"Scheduler",link:"/settings/scheduler"},{name:"UI",link:"/settings/ui"}]},{icon:gn.C,name:"System",children:[{name:"Tasks",link:"/system/tasks"},{name:"Logs",link:"/system/logs"},{name:"Providers",link:"/system/providers"},{name:"Status",link:"/system/status"},{name:"Releases",link:"/system/releases"}]}],Na=(n(407),function(e){var t=e.open,n=Object(r.useContext)(Ss),c=$t((function(e){return e.site.badges})),i=c.movies,s=c.episodes,o=c.providers,l=c.status,u=fn(),d=pn(),j=Object(r.useMemo)((function(){return{Wanted:{Series:u?s:0,Movies:d?i:0},System:{Providers:o,Status:l}}}),[i,s,o,u,d,l]),b=Object(r.useMemo)((function(){var e=[];return u||e.push(wa),d||e.push(Sa),e}),[u,d]),h=["sidebar-container"],f=["sidebar-overlay"];!0===t&&(h.push("open"),f.push("open"));var p=Object(r.useMemo)((function(){return Ca.map((function(e){var t;return b.includes(null!==(t=e.hiddenKey)&&void 0!==t?t:"")?null:"children"in e?Object(Cn.jsx)(ya,Object(O.a)({},e),e.name):Object(Cn.jsx)(ga,Object(O.a)({},e),e.link)}))}),[b]),x=ht();return Object(Cn.jsxs)(a.a.Fragment,{children:[Object(Cn.jsxs)("aside",{className:h.join(" "),children:[Object(Cn.jsx)(Nn.a,{className:"sidebar-title d-flex align-items-center d-md-none",children:Object(Cn.jsx)(ha.a,{alt:"brand",src:fa,width:"32",height:"32",onClick:x,className:"cursor-pointer"})}),Object(Cn.jsx)(va.Provider,{value:b,children:Object(Cn.jsx)(ma.Provider,{value:j,children:Object(Cn.jsx)(Oa.a,{variant:"flush",children:p})})})]}),Object(Cn.jsx)("div",{className:f.join(" "),onClick:n})]})}),Ia=function(e){var t=e.children;return Object(Cn.jsx)(Nn.a,{className:"my-3",children:Object(Cn.jsxs)(In.a,{className:"d-flex flex-nowrap justify-content-between align-items-center",variant:"danger",children:[Object(Cn.jsxs)("div",{children:[Object(Cn.jsx)(yn.a,{className:"mr-2",icon:gn.t}),Object(Cn.jsx)("span",{children:t})]}),Object(Cn.jsx)(Pn.a,{variant:"outline-danger",onClick:yt,children:"Reload"})]})})},Pa="https://github.com/morpheus65535/bazarr",Ea=function(e){var t=e.error;return Object(Cn.jsxs)(Nn.a,{className:"d-flex flex-column align-items-center my-5",children:[Object(Cn.jsxs)("h1",{children:[Object(Cn.jsx)(yn.a,{className:"mr-2",icon:Tn.g}),"Ouch! UI is crashed!"]}),Object(Cn.jsx)("p",{children:t.message}),Object(Cn.jsxs)("div",{className:"d-flex flex-row",children:[Object(Cn.jsx)(Pn.a,{className:"mx-1",href:"".concat(Pa,"/issues/new/choose"),target:"_blank",variant:"warning",children:"Report Issue"}),Object(Cn.jsx)(Pn.a,{className:"mx-1",onClick:yt,variant:"light",children:"Reload Page"})]})]})},Aa=n(568);n(408);function Ta(e){return Ma.apply(this,arguments)}function Ma(){return(Ma=Object(Nt.a)(Ct.a.mark((function e(t){var n;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_t.search(t);case 2:return n=e.sent,e.abrupt("return",n.map((function(e){var t;return t=e.sonarrSeriesId?"/series/".concat(e.sonarrSeriesId):e.radarrId?"/movies/".concat(e.radarrId):"",{name:"".concat(e.title," (").concat(e.year,")"),link:t}})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ba=function(){var e,t,n=en(nt),a=an(),c="form"===(null!==(e=null===(t=Object(Z.a)(a,1)[0].data)||void 0===t?void 0:t.auth.type)&&void 0!==e?e:"none"),i=Object(r.useContext)(Ss),s=$t((function(e){return e.site.offline})),o=Object(r.useMemo)((function(){return Object(Cn.jsxs)(Mn.a,{alignRight:!0,children:[Object(Cn.jsx)(Mn.a.Toggle,{className:"dropdown-hidden",as:Pn.a,children:Object(Cn.jsx)(yn.a,{icon:gn.bb})}),Object(Cn.jsxs)(Mn.a.Menu,{children:[Object(Cn.jsx)(Mn.a.Item,{onClick:function(){_t.restart()},children:"Restart"}),Object(Cn.jsx)(Mn.a.Item,{onClick:function(){_t.shutdown()},children:"Shutdown"}),Object(Cn.jsx)(Mn.a.Divider,{hidden:!c}),Object(Cn.jsx)(Mn.a.Item,{hidden:!c,onClick:function(){_t.logout().then((function(){return n()}))},children:"Logout"})]})]})}),[c,n]),l=ht();return Object(Cn.jsxs)(Aa.a,{bg:"primary",className:"flex-grow-1 px-0",children:[Object(Cn.jsx)("div",{className:"header-icon px-3 m-0 d-none d-md-block",children:Object(Cn.jsx)(ha.a,{alt:"brand",src:fa,width:"32",height:"32",onClick:l,className:"cursor-pointer"})}),Object(Cn.jsx)(Pn.a,{className:"mx-2 m-0 d-md-none",onClick:i,children:Object(Cn.jsx)(yn.a,{icon:gn.c})}),Object(Cn.jsx)(Nn.a,{fluid:!0,children:Object(Cn.jsxs)(Zt.a,{noGutters:!0,className:"flex-grow-1",children:[Object(Cn.jsx)($r.a,{xs:6,sm:4,className:"d-flex align-items-center",children:Object(Cn.jsx)(Wr,{onSearch:Ta})}),Object(Cn.jsxs)($r.a,{className:"d-flex flex-row align-items-center justify-content-end pr-2",children:[Object(Cn.jsx)(Pn.a,{href:"https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=XHHRWXT9YB7WE&source=url",target:"_blank",children:Object(Cn.jsx)(yn.a,{icon:gn.x})}),s?Object(Cn.jsx)($n,{loading:!0,alwaysShowText:!0,className:"ml-2",variant:"warning",icon:gn.I,children:"Connecting..."}):o]})]})})]})},Ka=n(569),Da=(n(409),function(e){var t=e.message,n=e.id,a=e.type,c=en(it),i=Object(r.useCallback)((function(){return c(n)}),[c,n]);return Object(Cn.jsxs)(Ka.a,{onClose:i,animation:!1,children:[Object(Cn.jsxs)(Ka.a.Header,{children:[Object(Cn.jsx)(yn.a,{className:"mr-1",icon:gn.t}),Object(Cn.jsx)("strong",{className:"mr-auto",children:Object($.capitalize)(a)})]}),Object(Cn.jsx)(Ka.a.Body,{children:t})]})}),Ra=function(){var e=$t((function(e){return e.site.notifications})),t=Object(r.useMemo)((function(){return e.map((function(e,t){return Object(Cn.jsx)(Da,Object(O.a)({},e),e.id)}))}),[e]);return Object(Cn.jsx)("div",{className:"alert-container",children:Object(Cn.jsx)("div",{className:"toast-container",children:t})})},za="/empty-page",_a=function(){return Object(Cn.jsxs)(Nn.a,{className:"d-flex flex-column align-items-center my-5",children:[Object(Cn.jsxs)("h1",{children:[Object(Cn.jsx)(yn.a,{className:"mr-2",icon:Tn.c}),"404"]}),Object(Cn.jsx)("p",{children:"The Request URL No Found"})]})},Ha=n(38),La=function(e){var t=e.blacklist,n=Object(r.useMemo)((function(){return[{Header:"Name",accessor:"title",className:"text-nowrap",Cell:function(e){var t="/movies/".concat(e.row.original.radarrId);return Object(Cn.jsx)(l.b,{to:t,children:Object(Cn.jsx)("span",{children:e.value})})}},{Header:"Language",accessor:"language",Cell:function(e){var t=e.value;return t?Object(Cn.jsx)(ja,{text:t,long:!0}):null}},{Header:"Provider",accessor:"provider"},{Header:"Date",accessor:"timestamp",Cell:function(e){return e.value?Object(Cn.jsx)(ba,{text:e.row.original.parsed_timestamp,delay:1,children:Object(Cn.jsx)("span",{children:e.value})}):null}},{accessor:"subs_id",Cell:function(e){var t=e.value;return Object(Cn.jsx)(Xn,{size:"sm",variant:"light",noReset:!0,promise:function(){return Kt.deleteBlacklist(!1,{provider:e.row.original.provider,subs_id:t})},children:Object(Cn.jsx)(yn.a,{icon:gn.Z})})}}]}),[]);return Object(Cn.jsx)(oa,{emptyText:"No Blacklisted Movies Subtitles",columns:n,data:t})},Fa=function(){var e=function(){var e=en(Ee),t=$t((function(e){return e.movie.blacklist}));return tn("movie-blacklist",e),Object(r.useEffect)((function(){e()}),[e]),rn(t,e)}(),t=Object(Z.a)(e,1)[0];return Object(Cn.jsx)(Yn,{state:t,children:function(e){var t=e.data;return Object(Cn.jsxs)(Nn.a,{fluid:!0,children:[Object(Cn.jsx)(Ha.a,{children:Object(Cn.jsx)("title",{children:"Movies Blacklist - Bazarr"})}),Object(Cn.jsx)(ar,{children:Object(Cn.jsx)(ar.AsyncButton,{icon:gn.Z,disabled:0===t.length,promise:function(){return Kt.deleteBlacklist(!0)},children:"Remove All"})}),Object(Cn.jsx)(Zt.a,{children:Object(Cn.jsx)(La,{blacklist:t})})]})}})},Ua=function(e){var t=e.blacklist,n=Object(r.useMemo)((function(){return[{Header:"Series",accessor:"seriesTitle",className:"text-nowrap",Cell:function(e){var t="/series/".concat(e.row.original.sonarrSeriesId);return Object(Cn.jsx)(l.b,{to:t,children:Object(Cn.jsx)("span",{children:e.value})})}},{Header:"Episode",accessor:"episode_number"},{accessor:"episodeTitle"},{Header:"Language",accessor:"language",Cell:function(e){var t=e.value;return t?Object(Cn.jsx)(ja,{text:t,long:!0}):null}},{Header:"Provider",accessor:"provider"},{Header:"Date",accessor:"timestamp",Cell:function(e){return e.value?Object(Cn.jsx)(ba,{text:e.row.original.parsed_timestamp,delay:1,children:Object(Cn.jsx)("span",{children:e.value})}):null}},{accessor:"subs_id",Cell:function(e){var t=e.value;return Object(Cn.jsx)(Xn,{size:"sm",variant:"light",noReset:!0,promise:function(){return Tt.deleteBlacklist(!1,{provider:e.row.original.provider,subs_id:t})},children:Object(Cn.jsx)(yn.a,{icon:gn.Z})})}}]}),[]);return Object(Cn.jsx)(oa,{emptyText:"No Blacklisted Series Subtitles",columns:n,data:t})},Ga=function(){var e=function(){var e=en(Le),t=$t((function(e){return e.series.blacklist}));return tn("episode-blacklist",e),Object(r.useEffect)((function(){e()}),[e]),rn(t,e)}(),t=Object(Z.a)(e,1)[0];return Object(Cn.jsx)(Yn,{state:t,children:function(e){var t=e.data;return Object(Cn.jsxs)(Nn.a,{fluid:!0,children:[Object(Cn.jsx)(Ha.a,{children:Object(Cn.jsx)("title",{children:"Series Blacklist - Bazarr"})}),Object(Cn.jsx)(ar,{children:Object(Cn.jsx)(ar.AsyncButton,{icon:gn.Z,disabled:0===t.length,promise:function(){return Tt.deleteBlacklist(!0)},children:"Remove All"})}),Object(Cn.jsx)(Zt.a,{children:Object(Cn.jsx)(Ua,{blacklist:t})})]})}})},qa=function(){var e=fn(),t=pn();return vn("Blacklist"),Object(Cn.jsxs)(o.e,{children:[e&&Object(Cn.jsx)(o.c,{exact:!0,path:"/blacklist/series",children:Object(Cn.jsx)(Ga,{})}),t&&Object(Cn.jsx)(o.c,{path:"/blacklist/movies",children:Object(Cn.jsx)(Fa,{})}),Object(Cn.jsx)(o.c,{path:"/blacklist/*",children:Object(Cn.jsx)(o.b,{to:za})})]})},Wa=function(e){var t=e.state,n=e.columns,r=e.type,a=Object($.capitalize)(r);return Object(Cn.jsxs)(Nn.a,{fluid:!0,children:[Object(Cn.jsx)(Ha.a,{children:Object(Cn.jsxs)("title",{children:[a," History - Bazarr"]})}),Object(Cn.jsx)(Zt.a,{children:Object(Cn.jsx)(Yn,{state:t,children:function(e){var t=e.data;return Object(Cn.jsx)(oa,{emptyText:"Nothing Found in ".concat(a," History"),columns:n,data:t})}})})]})},Ya=function(){var e=function(){var e=en(Ie),t=$t((function(e){return e.movie.historyList}));return tn("movie-history",e),Object(r.useEffect)((function(){e()}),[e]),rn(t,e)}(),t=Object(Z.a)(e,1)[0],n=Object(r.useMemo)((function(){return[{accessor:"action",className:"text-center",Cell:function(e){return Object(Cn.jsx)(la,{action:e.value})}},{Header:"Name",accessor:"title",className:"text-nowrap",Cell:function(e){var t="/movies/".concat(e.row.original.radarrId);return Object(Cn.jsx)(l.b,{to:t,children:Object(Cn.jsx)("span",{children:e.value})})}},{Header:"Language",accessor:"language",Cell:function(e){var t=e.value;return t?Object(Cn.jsx)(Jn.a,{variant:"secondary",children:Object(Cn.jsx)(ja,{text:t,long:!0})}):null}},{Header:"Score",accessor:"score"},{Header:"Date",accessor:"timestamp",Cell:function(e){return e.value?Object(Cn.jsx)(ba,{text:e.row.original.parsed_timestamp,delay:1,children:Object(Cn.jsx)("span",{children:e.value})}):null}},{accessor:"description",Cell:function(e){var t=e.row,n=e.value,r=Object(Cn.jsx)(kn.a,{id:"description-".concat(t.id),children:Object(Cn.jsx)(kn.a.Content,{children:n})});return Object(Cn.jsx)(wn.a,{overlay:r,children:Object(Cn.jsx)(yn.a,{size:"sm",icon:gn.A})})}},{accessor:"upgradable",Cell:function(e){var t=Object(Cn.jsx)(kn.a,{id:"description-".concat(e.row.id),children:Object(Cn.jsx)(kn.a.Content,{children:"This Subtitles File Is Eligible For An Upgrade."})});return e.value?Object(Cn.jsx)(wn.a,{overlay:t,children:Object(Cn.jsx)(yn.a,{size:"sm",icon:gn.O})}):null}},{accessor:"blacklisted",Cell:function(e){var t=e.row.original;return Object(Cn.jsx)(vr,{history:t,promise:function(e){return Kt.addBlacklist(t.radarrId,e)}})}}]}),[]);return Object(Cn.jsx)(Wa,{type:"movies",state:t,columns:n})},Va=function(){var e=function(){var e=en(He),t=$t((function(e){return e.series.historyList}));return tn("episode-history",e),Object(r.useEffect)((function(){e()}),[e]),rn(t,e)}(),t=Object(Z.a)(e,1)[0],n=Object(r.useMemo)((function(){return[{accessor:"action",className:"text-center",Cell:function(e){var t=e.value;return Object(Cn.jsx)(la,{action:t})}},{Header:"Series",accessor:"seriesTitle",Cell:function(e){var t="/series/".concat(e.row.original.sonarrSeriesId);return Object(Cn.jsx)(l.b,{to:t,children:Object(Cn.jsx)("span",{children:e.value})})}},{Header:"Episode",accessor:"episode_number"},{Header:"Title",accessor:"episodeTitle"},{Header:"Language",accessor:"language",Cell:function(e){var t=e.value;return t?Object(Cn.jsx)(Jn.a,{variant:"secondary",children:Object(Cn.jsx)(ja,{text:t,long:!0})}):null}},{Header:"Score",accessor:"score"},{Header:"Date",accessor:"timestamp",Cell:function(e){return e.value?Object(Cn.jsx)(ba,{text:e.row.original.parsed_timestamp,delay:1,children:Object(Cn.jsx)("span",{children:e.value})}):null}},{accessor:"description",Cell:function(e){var t=e.row,n=e.value,r=Object(Cn.jsx)(kn.a,{id:"description-".concat(t.id),children:Object(Cn.jsx)(kn.a.Content,{children:n})});return Object(Cn.jsx)(wn.a,{overlay:r,children:Object(Cn.jsx)(yn.a,{size:"sm",icon:gn.A})})}},{accessor:"upgradable",Cell:function(e){var t=Object(Cn.jsx)(kn.a,{id:"description-".concat(e.row.id),children:Object(Cn.jsx)(kn.a.Content,{children:"This Subtitles File Is Eligible For An Upgrade."})});return e.value?Object(Cn.jsx)(wn.a,{overlay:t,children:Object(Cn.jsx)(yn.a,{size:"sm",icon:gn.O})}):null}},{accessor:"blacklisted",Cell:function(e){var t=e.row.original,n=t.sonarrEpisodeId,r=t.sonarrSeriesId;return Object(Cn.jsx)(vr,{history:t,promise:function(e){return Tt.addBlacklist(r,n,e)}})}}]}),[]);return Object(Cn.jsx)(Wa,{type:"series",state:t,columns:n})},Qa=n(577),Xa=n(558),Ja=n(562),Za=n(319),$a=n(320),ec=n(155),tc=n(151),nc=n(323),rc=[{label:"Automatically Downloaded",value:0},{label:"Manually Downloaded",value:1},{label:"Upgraded",value:2}],ac=[{label:"Last Week",value:"week"},{label:"Last Month",value:"month"},{label:"Last Trimester",value:"trimester"},{label:"Last Year",value:"year"}];function cc(e){var t=e.movies.map((function(e){return{date:e.date,movies:e.count}})),n=e.series.map((function(e){return{date:e.date,series:e.count}}));return Object($.merge)(t,n)}var ic=function(e){return e.name},sc=function(e){var t=e.children;return Object(Cn.jsx)($r.a,{xs:6,lg:3,className:"p-1",children:t})},oc=function(){var e=ln(!0),t=Object(Z.a)(e,1)[0],n=cn(),c=Object(Z.a)(n,1)[0],i=Object(r.useState)("month"),s=Object(Z.a)(i,2),o=s[0],l=s[1],u=Object(r.useState)(null),d=Object(Z.a)(u,2),j=d[0],b=d[1],h=Object(r.useState)(null),O=Object(Z.a)(h,2),f=O[0],p=O[1],x=Object(r.useState)(null),v=Object(Z.a)(x,2),m=v[0],g=v[1],y=Object(r.useCallback)((function(){return Bt.stats(o,null!==j&&void 0!==j?j:void 0,null===m||void 0===m?void 0:m.name,null===f||void 0===f?void 0:f.code2)}),[o,null===f||void 0===f?void 0:f.code2,j,m]);return Object(Cn.jsxs)(Nn.a,{fluid:!0,className:"vh-75",children:[Object(Cn.jsx)(Ha.a,{children:Object(Cn.jsx)("title",{children:"History Statistics - Bazarr"})}),Object(Cn.jsx)(Vn,{promise:y,children:function(e){return Object(Cn.jsxs)(a.a.Fragment,{children:[Object(Cn.jsxs)(ar,{scroll:!1,children:[Object(Cn.jsx)(sc,{children:Object(Cn.jsx)(Fn,{placeholder:"Time...",options:ac,value:o,onChange:function(e){return l(null!==e&&void 0!==e?e:"month")}})}),Object(Cn.jsx)(sc,{children:Object(Cn.jsx)(Fn,{placeholder:"Action...",clearable:!0,options:rc,value:j,onChange:b})}),Object(Cn.jsx)(sc,{children:Object(Cn.jsx)(Qn,{placeholder:"Provider...",clearable:!0,state:c,label:ic,onChange:g})}),Object(Cn.jsx)(sc,{children:Object(Cn.jsx)(ir,{clearable:!0,options:t,value:f,onChange:p})})]}),Object(Cn.jsx)(Qa.a,{height:"100%",children:Object(Cn.jsxs)(Xa.a,{data:cc(e),children:[Object(Cn.jsx)(Ja.a,{strokeDasharray:"4 2"}),Object(Cn.jsx)(Za.a,{dataKey:"date"}),Object(Cn.jsx)($a.a,{allowDecimals:!1}),Object(Cn.jsx)(ec.a,{}),Object(Cn.jsx)(tc.a,{verticalAlign:"top"}),Object(Cn.jsx)(nc.a,{name:"Series",dataKey:"series",fill:"#2493B6"}),Object(Cn.jsx)(nc.a,{name:"Movies",dataKey:"movies",fill:"#FFC22F"})]})})]})}})]})},lc=function(){var e=fn(),t=pn();return vn("History"),Object(Cn.jsxs)(o.e,{children:[e&&Object(Cn.jsx)(o.c,{exact:!0,path:"/history/series",children:Object(Cn.jsx)(Va,{})}),t&&Object(Cn.jsx)(o.c,{exact:!0,path:"/history/movies",children:Object(Cn.jsx)(Ya,{})}),Object(Cn.jsx)(o.c,{exact:!0,path:"/history/stats",children:Object(Cn.jsx)(oc,{})}),Object(Cn.jsx)(o.c,{path:"/history/*",children:Object(Cn.jsx)(o.b,{to:za})})]})};var uc=function(e){var t=e.state,n=e.dirtyItems,c=e.modify,i=e.editMode,s=e.select,o=e.columns,l=e.loader,u=e.name,d=ur(),j=Object(r.useCallback)((function(e,t){d(t,e.original)}),[d]),b=t.data,h=Object(r.useMemo)((function(){return vt(b)}),[b]),f=Object(r.useMemo)((function(){return Object($.uniqBy)([].concat(Object(J.a)(n),Object(J.a)(h)),xt)}),[n,h]),p=sn(),x={loose:[Object(Z.a)(p,1)[0]],emptyText:"No ".concat(u," Found"),externalUpdate:j};return Object(Cn.jsxs)(a.a.Fragment,{children:[i?Object(Cn.jsx)(na,Object(O.a)(Object(O.a)({},x),{},{columns:o,data:f,onSelect:s,isSelecting:!0,plugins:[Nr.useRowSelect,Mr]})):Object(Cn.jsx)(ta,Object(O.a)(Object(O.a)({},x),{},{columns:o,aos:t,loader:l,data:[]})),Object(Cn.jsx)(yr,{modalKey:"edit",submit:c})]})};var dc,jc=function(e){var t=e.updateAction,n=Object(mn.a)(e,["updateAction"]),c=n.state,i=Object(r.useState)(!1),o=Object(Z.a)(i,2),l=o[0],u=o[1],d=Object(r.useState)(!1),j=Object(Z.a)(d,2),b=j[0],h=j[1],f=function(e,t){var n=Object(s.b)();return Object(r.useCallback)((function(){for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];var i=ge((function(){return[e.apply(void 0,a)]}),t);n(i())}),[n,e,t])}(t,Object(r.useCallback)((function(){u((function(e){return h(e),e})),w([])}),[])),p=Object(r.useState)([]),x=Object(Z.a)(p,2),v=x[0],m=x[1],g=Object(r.useState)([]),y=Object(Z.a)(g,2),k=y[0],w=y[1],S=sn(),C=Object(Z.a)(S,1)[0],N=Object(r.useMemo)((function(){var e=[];return e.push(Object(Cn.jsx)(Mn.a.Item,{children:"Clear Profile"},"clear-profile")),e.push(Object(Cn.jsx)(Mn.a.Divider,{},"dropdown-divider")),e.push.apply(e,Object(J.a)(C.map((function(e){return Object(Cn.jsx)(Mn.a.Item,{eventKey:e.profileId.toString(),children:e.name},e.profileId)})))),e}),[C]),I=Object(r.useCallback)((function(e){var t=e?parseInt(e):null,n=v.map((function(e){var n=Object(O.a)({},e);return n.profileId=t,n})),r=Object($.uniqBy)([].concat(Object(J.a)(n),Object(J.a)(k)),xt);w(r)}),[v,k]),P=Object(r.useCallback)((function(){n.state.data.order.every(dt)?h(!0):f(),u(!0)}),[n.state.data.order,f]),E=Object(r.useCallback)((function(){h(!1),w([]),u(!1),m([])}),[]),A=Object(r.useCallback)((function(){var e={id:[],profileid:[]};return k.forEach((function(t){var n=xt(t);e.id.push(n),e.profileid.push(t.profileId)})),n.modify(e)}),[k,n]);return Object(Cn.jsxs)(Nn.a,{fluid:!0,children:[Object(Cn.jsx)(Ha.a,{children:Object(Cn.jsxs)("title",{children:[n.name," - Bazarr"]})}),Object(Cn.jsx)(ar,{scroll:!1,children:b?Object(Cn.jsxs)(a.a.Fragment,{children:[Object(Cn.jsx)(ar.Group,{pos:"start",children:Object(Cn.jsxs)(Mn.a,{onSelect:I,children:[Object(Cn.jsx)(Mn.a.Toggle,{disabled:0===v.length,variant:"light",children:"Change Profile"}),Object(Cn.jsx)(Mn.a.Menu,{children:N})]})}),Object(Cn.jsxs)(ar.Group,{pos:"end",children:[Object(Cn.jsx)(ar.Button,{icon:gn.ab,onClick:E,children:"Cancel"}),Object(Cn.jsx)(ar.AsyncButton,{icon:gn.h,disabled:0===k.length,promise:A,onSuccess:E,children:"Save"})]})]}):Object(Cn.jsx)(ar.Button,{updating:l!==b,disabled:0===c.data.order.length&&c.updating,icon:gn.E,onClick:P,children:"Mass Edit"})}),Object(Cn.jsx)(Zt.a,{children:Object(Cn.jsx)(uc,Object(O.a)(Object(O.a)({},n),{},{dirtyItems:k,editMode:b,select:m}))})]})},bc=function(){var e=hn(),t=Object(Z.a)(e,1)[0],n=en(Pe),a=Object(r.useMemo)((function(){return[{accessor:"monitored",selectHide:!0,Cell:function(e){var t=e.value;return Object(Cn.jsx)(yn.a,{title:t?"monitored":"unmonitored",icon:t?gn.d:Tn.a})}},{Header:"Name",accessor:"title",className:"text-nowrap",Cell:function(e){var t=e.row,n=e.value;if(e.isSelecting)return n;var r="/movies/".concat(t.original.radarrId);return Object(Cn.jsx)(ba,{text:t.original.sceneName,delay:1,children:Object(Cn.jsx)(l.b,{to:r,children:Object(Cn.jsx)("span",{children:n})})})}},{Header:"Audio",accessor:"audio_language",Cell:function(e){return e.value.map((function(e){return Object(Cn.jsx)(Jn.a,{variant:"secondary",className:"mr-2",children:e.name},gt(e.code2,e.code2,e.hi))}))}},{Header:"Languages Profile",accessor:"profileId",Cell:function(e){var t,n,r=e.value,a=e.loose;return a&&null!==(t=null===(n=a[0].find((function(e){return e.profileId===r})))||void 0===n?void 0:n.name)&&void 0!==t?t:null}},{Header:"Missing Subtitles",accessor:"missing_subtitles",selectHide:!0,Cell:function(e){return e.value.map((function(e){return Object(Cn.jsx)(Jn.a,{className:"mx-2",variant:"warning",children:e.code2},gt(e.code2,e.hi,e.forced))}))}},{accessor:"radarrId",selectHide:!0,Cell:function(e){var t=e.row,n=e.externalUpdate;return Object(Cn.jsx)(Zn,{icon:gn.cb,onClick:function(){return n&&n(t,"edit")}})}}]}),[]);return Object(Cn.jsx)(jc,{state:t,name:"Movies",loader:n,updateAction:ke,columns:a,modify:function(e){return Kt.modify(e)}})};n(540);!function(e){e[e.Ready=0]="Ready",e[e.Searching=1]="Searching",e[e.Finished=2]="Finished"}(dc||(dc={}));var hc=function(e){var t=e.onSelect,n=e.onDownload,c=Object(mn.a)(e,["onSelect","onDownload"]),i=Object(r.useState)([]),s=Object(Z.a)(i,2),o=s[0],l=s[1],u=Object(r.useState)(dc.Ready),d=Object(Z.a)(u,2),j=d[0],b=d[1],h=hr(c.modalKey),f=Object(r.useCallback)(Object(Nt.a)(Ct.a.mark((function e(){var t;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=14;break}if(b(dc.Searching),t=[],!jt(h)){e.next=9;break}return e.next=6,Dt.movies(h.radarrId);case 6:t=e.sent,e.next=12;break;case 9:return e.next=11,Dt.episodes(h.sonarrEpisodeId);case 11:t=e.sent;case 12:l(t),b(dc.Finished);case 14:case"end":return e.stop()}}),e)}))),[h]);Object(r.useEffect)((function(){null!==h&&b(dc.Ready)}),[h]);var p=Object(r.useMemo)((function(){return[{Header:"Score",accessor:function(e){return"".concat(e.score,"%")}},{accessor:"language",Cell:function(e){var t=e.row.original,n={code2:e.value,hi:"True"===t.hearing_impaired,forced:"True"===t.forced,name:""};return Object(Cn.jsx)(Jn.a,{variant:"secondary",children:Object(Cn.jsx)(ja,{text:n})})}},{Header:"Provider",accessor:"provider",Cell:function(e){var t=e.value,n=e.row.original.url;return n?Object(Cn.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:t}):t}},{Header:"Release",accessor:"release_info",className:"text-nowrap",Cell:function(e){var t=e.value,n=Object(r.useState)(!1),a=Object(Z.a)(n,2),c=a[0],i=a[1],s=Object(r.useMemo)((function(){return t.slice(1).map((function(e,t){return Object(Cn.jsx)("span",{className:"release-text hidden-item",children:e},t)}))}),[t]);if(0===t.length)return Object(Cn.jsx)("span",{className:"text-muted",children:"Cannot get release info"});var o=["release-container","d-flex","justify-content-between","align-items-center"];return t.length>1&&o.push("release-multi"),Object(Cn.jsxs)("div",{className:o.join(" "),onClick:function(){return i((function(e){return!e}))},children:[Object(Cn.jsxs)("div",{className:"text-container",children:[Object(Cn.jsx)("span",{className:"release-text",children:t[0]}),Object(Cn.jsx)(xa.a,{in:c,children:Object(Cn.jsx)("div",{children:s})})]}),t.length>1&&Object(Cn.jsx)(yn.a,{className:"release-icon",icon:gn.g,rotation:c?180:void 0})]})}},{Header:"Upload",accessor:function(e){var t;return null!==(t=e.uploader)&&void 0!==t?t:"-"}},{accessor:"matches",Cell:function(e){var t=e.row.original,n=t.matches,r=t.dont_matches;return Object(Cn.jsx)(Oc,{matches:n,dont:r})}},{accessor:"subtitle",Cell:function(e){var n=e.row,r=e.externalUpdate,a=n.original;return Object(Cn.jsx)(Xn,{size:"sm",variant:"light",noReset:!0,promise:function(){return t(h,a)},onSuccess:function(){return r&&r(n)},children:Object(Cn.jsx)(yn.a,{icon:gn.q})})}}]}),[t,h]),x=Object(r.useMemo)((function(){var e,t;return j===dc.Ready?Object(Cn.jsxs)("div",{className:"px-4 py-5",children:[Object(Cn.jsx)("p",{className:"mb-3 small",children:null!==(e=null===h||void 0===h?void 0:h.path)&&void 0!==e?e:""}),Object(Cn.jsx)(Pn.a,{variant:"primary",block:!0,onClick:f,children:"Start Search"})]}):j===dc.Searching?Object(Cn.jsx)(da,{animation:"grow"}):Object(Cn.jsxs)(a.a.Fragment,{children:[Object(Cn.jsx)("p",{className:"mb-3 small",children:null!==(t=null===h||void 0===h?void 0:h.path)&&void 0!==t?t:""}),Object(Cn.jsx)(oa,{emptyText:"No Result",columns:p,data:o,externalUpdate:n})]})}),[j,p,o,f,null===h||void 0===h?void 0:h.path,n]),v=Object(r.useMemo)((function(){return Object(Cn.jsx)(Pn.a,{variant:"light",hidden:j!==dc.Finished,onClick:f,children:"Search Again"})}),[j,f]),m=Object(r.useMemo)((function(){var e="Unknown";return h&&(e=h.sceneName?h.sceneName:(jt(h),h.title)),"Search - ".concat(e)}),[h]);return Object(Cn.jsx)(pr,Object(O.a)(Object(O.a)({closeable:j!==dc.Searching,size:"xl",title:m,footer:v},c),{},{children:x}))},Oc=function(e){var t=e.matches,n=e.dont,a=gn.h,c="var(--success)";n.length>0&&(a=gn.A,c="var(--warning)");var i=Object(r.useMemo)((function(){return t.map((function(e,t){return Object(Cn.jsx)("p",{className:"text-nowrap m-0",children:e},"match-".concat(t))}))}),[t]),s=Object(r.useMemo)((function(){return n.map((function(e,t){return Object(Cn.jsx)("p",{className:"text-nowrap m-0",children:e},"dont-".concat(t))}))}),[n]),o=Object(r.useMemo)((function(){return Object(Cn.jsx)(kn.a,{className:"w-100",id:"manual-search-matches-info",children:Object(Cn.jsx)(kn.a.Content,{children:Object(Cn.jsx)(Nn.a,{fluid:!0,children:Object(Cn.jsxs)(Zt.a,{children:[Object(Cn.jsxs)($r.a,{xs:6,children:[Object(Cn.jsx)(yn.a,{color:"var(--success)",icon:gn.h}),i]}),Object(Cn.jsxs)($r.a,{xs:6,children:[Object(Cn.jsx)(yn.a,{color:"var(--danger)",icon:gn.X}),s]})]})})})})}),[i,s]);return Object(Cn.jsx)(wn.a,{overlay:o,placement:"left",children:Object(Cn.jsx)(yn.a,{icon:a,color:c})})},fc=function(e){var t=e.icon,n=e.desc,r=e.children;return Object(Cn.jsxs)(Jn.a,{title:n,variant:"secondary",className:"mr-2 my-1 text-truncate",children:[Object(Cn.jsx)(yn.a,{icon:t}),Object(Cn.jsx)("span",{className:"ml-1",children:r})]})},pc=function(e){var t=e.item,n=e.details,a=Object(r.useMemo)((function(){var e,r=[];return r.push(Object(Cn.jsx)(fc,{icon:Tn.e,desc:"File Path",children:t.path},"file-path")),r.push.apply(r,Object(J.a)(null!==(e=null===n||void 0===n?void 0:n.map((function(e,t){return Object(Cn.jsx)(fc,{icon:e.icon,children:e.text},gt(t,"detail",e.text))})))&&void 0!==e?e:[])),t.tags.length>0&&r.push(Object(Cn.jsx)(fc,{icon:gn.V,desc:"Tags",children:t.tags.join("|")},"tags")),r}),[n,t.path,t.tags]),c=Object(r.useMemo)((function(){return t.audio_language.map((function(e,t){return Object(Cn.jsx)(fc,{icon:gn.H,desc:"Audio Language",children:e.name},gt(t,"audio",e.code2))}))}),[t.audio_language]),i=on(t.profileId),s=dn(i),o=Object(r.useMemo)((function(){var e=[];return i&&(e.push(Object(Cn.jsx)(fc,{icon:gn.T,desc:"Languages Profile",children:i.name},"language-profile")),e.push.apply(e,Object(J.a)(s.map((function(e,t){return Object(Cn.jsx)(fc,{icon:gn.B,desc:"Language",children:Object(Cn.jsx)(ja,{long:!0,text:e})},gt(t,"lang",e.code2))}))))),e}),[i,s]),l=Object(r.useMemo)((function(){return Object(Cn.jsxs)(kn.a,{id:"item-overview-alternative",children:[Object(Cn.jsx)(kn.a.Title,{children:"Alternate Titles"}),Object(Cn.jsx)(kn.a.Content,{children:t.alternativeTitles.map((function(e,t){return Object(Cn.jsx)("li",{children:e},t)}))})]})}),[t.alternativeTitles]);return Object(Cn.jsx)(Nn.a,{fluid:!0,style:{backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"top center",backgroundImage:"url('".concat(t.fanart,"')")},children:Object(Cn.jsxs)(Zt.a,{className:"p-4 pb-4",style:{backgroundColor:"rgba(0,0,0,0.7)"},children:[Object(Cn.jsx)($r.a,{sm:"auto",children:Object(Cn.jsx)(ha.a,{className:"d-none d-sm-block my-2",style:{maxHeight:250},src:t.poster})}),Object(Cn.jsx)($r.a,{children:Object(Cn.jsxs)(Nn.a,{fluid:!0,className:"text-white",children:[Object(Cn.jsxs)(Zt.a,{children:[jt(t)?Object(Cn.jsx)(yn.a,{className:"mx-2 mt-2",title:t.monitored?"monitored":"unmonitored",icon:t.monitored?gn.d:Tn.a,size:"2x"}):null,Object(Cn.jsx)("h1",{children:t.title}),Object(Cn.jsx)("span",{hidden:0===t.alternativeTitles.length,children:Object(Cn.jsx)(wn.a,{overlay:l,children:Object(Cn.jsx)(yn.a,{className:"mx-2",icon:Tn.b})})})]}),Object(Cn.jsx)(Zt.a,{children:a}),Object(Cn.jsx)(Zt.a,{children:c}),Object(Cn.jsx)(Zt.a,{children:o}),Object(Cn.jsx)(Zt.a,{children:Object(Cn.jsx)("span",{children:t.overview})})]})})]})})},xc="Missing Subtitles",vc=function(e){var t=e.movie,n=e.profile,a=xn(),c=dn(n),i=Object(r.useMemo)((function(){return[{Header:"Subtitle Path",accessor:"path",Cell:function(e){return null===e.value||0===e.value.length?"Video File Subtitle Track":e.value===xc?Object(Cn.jsx)("span",{className:"text-muted",children:e.value}):e.value}},{Header:"Language",accessor:"name",Cell:function(e){var t=e.row;return t.original.path===xc?Object(Cn.jsx)(Jn.a,{variant:"primary",children:Object(Cn.jsx)(ja,{text:t.original,long:!0})}):Object(Cn.jsx)(Jn.a,{variant:"secondary",children:Object(Cn.jsx)(ja,{text:t.original,long:!0})})}},{accessor:"code2",Cell:function(e){var n=e.row.original;return null===n.path||0===n.path.length?null:n.path===xc?Object(Cn.jsx)(Xn,{promise:function(){return Kt.downloadSubtitles(t.radarrId,{language:n.code2,hi:n.hi,forced:n.forced})},variant:"light",size:"sm",children:Object(Cn.jsx)(yn.a,{icon:gn.R})}):Object(Cn.jsx)(Xn,{variant:"light",size:"sm",promise:function(){var e;return Kt.deleteSubtitles(t.radarrId,{language:n.code2,hi:n.hi,forced:n.forced,path:null!==(e=n.path)&&void 0!==e?e:""})},children:Object(Cn.jsx)(yn.a,{icon:gn.Z})})}}]}),[t]),s=Object(r.useMemo)((function(){var e=t.missing_subtitles.map((function(e){return e.path=xc,e})),n=t.subtitles;return a&&(n=Object($.intersectionWith)(n,c,(function(e,t){return e.code2===t.code2}))),[].concat(Object(J.a)(n),Object(J.a)(e))}),[t.missing_subtitles,t.subtitles,a,c]);return Object(Cn.jsx)(na,{columns:i,data:s,emptyText:"No Subtitles Found For This Movie"})},mc=function(e,t){e=e;var n=t.language,r=t.hearing_impaired,a=t.forced,c=t.provider,i=t.subtitle;return Dt.downloadMovieSubtitle(e.radarrId,{language:n,hi:r,forced:a,provider:c,subtitle:i})},gc=Object(o.i)((function(e){var t=e.match,n=Number.parseInt(t.params.id),a=function(e){var t=hn(),n=Object(Z.a)(t,2),a=n[0],c=n[1],i=Object(r.useMemo)((function(){var t=a.data.items,n=null;return e&&!isNaN(e)&&e in t&&(n=t[e]),Object(O.a)(Object(O.a)({},a),{},{data:n})}),[e,a]),s=Object(r.useCallback)((function(){e&&!isNaN(e)&&c([e])}),[e,c]);return Object(r.useEffect)((function(){null===i.data&&s()}),[i.data,s]),rn(i,s)}(n),c=Object(Z.a)(a,1)[0],i=c.data,s=ur(),l=Object(r.useState)(!0),u=Object(Z.a)(l,2),d=u[0],j=u[1],b=Object(r.useCallback)((function(){null===c.data&&j(!1)}),[c.data]);if(Ot(c,b),isNaN(n)||!d)return Object(Cn.jsx)(o.b,{to:za});if(!i)return Object(Cn.jsx)(da,{});var h=void 0!==i.profileId;return Object(Cn.jsxs)(Nn.a,{fluid:!0,children:[Object(Cn.jsx)(Ha.a,{children:Object(Cn.jsxs)("title",{children:[i.title," - Bazarr (Movies)"]})}),Object(Cn.jsxs)(ar,{children:[Object(Cn.jsxs)(ar.Group,{pos:"start",children:[Object(Cn.jsx)(ar.AsyncButton,{icon:gn.U,promise:function(){return Kt.action({action:"scan-disk",radarrid:i.radarrId})},children:"Scan Disk"}),Object(Cn.jsx)(ar.AsyncButton,{icon:gn.R,disabled:null===i.profileId,promise:function(){return Kt.action({action:"search-missing",radarrid:i.radarrId})},children:"Search"}),Object(Cn.jsx)(ar.Button,{icon:gn.bb,disabled:null===i.profileId,onClick:function(){return s("manual-search",i)},children:"Manual"}),Object(Cn.jsx)(ar.Button,{icon:gn.y,onClick:function(){return s("history",i)},children:"History"}),Object(Cn.jsx)(ar.Button,{icon:gn.Y,onClick:function(){return s("tools",[i])},children:"Tools"})]}),Object(Cn.jsxs)(ar.Group,{pos:"end",children:[Object(Cn.jsx)(ar.Button,{disabled:!h||null===i.profileId,icon:gn.m,onClick:function(){return s("upload",i)},children:"Upload"}),Object(Cn.jsx)(ar.Button,{icon:gn.cb,onClick:function(){return s("edit",i)},children:"Edit Movie"})]})]}),Object(Cn.jsx)(Zt.a,{children:Object(Cn.jsx)(pc,{item:i,details:[]})}),Object(Cn.jsx)(Zt.a,{children:Object(Cn.jsx)(vc,{movie:i})}),Object(Cn.jsx)(yr,{modalKey:"edit",submit:function(e){return Kt.modify(e)}}),Object(Cn.jsx)(qr,{modalKey:"tools",size:"lg"}),Object(Cn.jsx)(mr,{modalKey:"history",size:"lg"}),Object(Cn.jsx)(kr,{modalKey:"upload",size:"lg"}),Object(Cn.jsx)(hc,{modalKey:"manual-search",onSelect:mc})]})})),yc=function(){return Object(Cn.jsxs)(o.e,{children:[Object(Cn.jsx)(o.c,{exact:!0,path:"/movies",children:Object(Cn.jsx)(bc,{})}),Object(Cn.jsx)(o.c,{path:"/movies/:id",children:Object(Cn.jsx)(gc,{})})]})},kc=n(575),wc=function(){var e=jn(),t=Object(Z.a)(e,1)[0],n=en(_e),a=Object(r.useMemo)((function(){return[{Header:"Name",accessor:"title",className:"text-nowrap",Cell:function(e){var t=e.row,n=e.value;if(e.isSelecting)return n;var r="/series/".concat(t.original.sonarrSeriesId);return Object(Cn.jsx)(l.b,{to:r,children:Object(Cn.jsx)("span",{children:n})})}},{Header:"Audio",accessor:"audio_language",Cell:function(e){return e.value.map((function(e){return Object(Cn.jsx)(Jn.a,{variant:"secondary",className:"mr-2",children:e.name},gt(e.code2,e.forced,e.hi))}))}},{Header:"Languages Profile",accessor:"profileId",Cell:function(e){var t,n,r=e.value,a=e.loose;return a&&null!==(t=null===(n=a[0].find((function(e){return e.profileId===r})))||void 0===n?void 0:n.name)&&void 0!==t?t:null}},{Header:"Episodes",accessor:"episodeFileCount",selectHide:!0,Cell:function(e){var t=e.row.original,n=t.episodeFileCount,r=t.episodeMissingCount,a=t.profileId,c=0,i="";0!==n&&a?(c=n-r,i="".concat(n-r,"/").concat(n)):c=0;var s=0===r?"primary":"warning";return Object(Cn.jsx)(kc.a,{className:"my-a",variant:s,min:0,max:n,now:c,label:i})}},{accessor:"sonarrSeriesId",selectHide:!0,Cell:function(e){var t=e.row,n=e.externalUpdate;return Object(Cn.jsx)(Zn,{icon:gn.cb,onClick:function(){n&&n(t,"edit")}})}}]}),[]);return Object(Cn.jsx)(jc,{state:t,name:"Series",updateAction:Be,loader:n,columns:a,modify:function(e){return Rt.modify(e)}})},Sc=function(e){var t=e.seriesid,n=e.episodeid,r=e.missing,a=e.subtitle,c=a.hi,i=a.forced,s=a.path;return r||s?Object(Cn.jsxs)(Xn,{promise:function(){return r?Tt.downloadSubtitles(t,n,{hi:c,forced:i,language:a.code2}):s?Tt.deleteSubtitles(t,n,{hi:c,forced:i,path:s,language:a.code2}):null},as:Jn.a,className:"mr-1",variant:r?"primary":"secondary",children:[Object(Cn.jsx)(ja,{className:"pr-1",text:a}),Object(Cn.jsx)(yn.a,{size:"sm",icon:r?gn.R:gn.Z})]}):Object(Cn.jsx)(Jn.a,{className:"mr-1",variant:"secondary",children:Object(Cn.jsx)(ja,{text:a,long:!1})})},Cc=function(e,t){e=e;var n=t.language,r=t.hearing_impaired,a=t.forced,c=t.provider,i=t.subtitle;return Dt.downloadEpisodeSubtitle(e.sonarrSeriesId,e.sonarrEpisodeId,{language:n,hi:r,forced:a,provider:c,subtitle:i})},Nc=function(e){var t=e.episodes,n=e.profile,c=ur(),i=xn(),s=dn(n),o=Object(r.useMemo)((function(){return[{accessor:"monitored",Cell:function(e){return Object(Cn.jsx)(yn.a,{title:e.value?"monitored":"unmonitored",icon:e.value?gn.d:Tn.a})}},{accessor:"season",Cell:function(e){return"Season ".concat(e.value)}},{Header:"Episode",accessor:"episode"},{Header:"Title",accessor:"title",className:"text-nowrap",Cell:function(e){var t=e.value,n=e.row;return Object(Cn.jsx)(ba,{text:n.original.sceneName,delay:1,children:Object(Cn.jsx)("span",{children:t})})}},{Header:"Audio",accessor:"audio_language",Cell:function(e){return e.value.map((function(e){return Object(Cn.jsx)(Jn.a,{variant:"secondary",children:e.name},e.code2)}))}},{Header:"Subtitles",accessor:"missing_subtitles",Cell:function(e){var t=e.row,n=(e.loose,t.original),a=n.sonarrSeriesId;return Object(r.useMemo)((function(){var e=n.sonarrEpisodeId,t=n.missing_subtitles.map((function(t,n){return Object(Cn.jsx)(Sc,{missing:!0,seriesid:a,episodeid:e,subtitle:t},gt(n,t.code2,"missing"))})),r=n.subtitles;i&&(r=Object($.intersectionWith)(r,s,(function(e,t){return e.code2===t.code2})));var c=r.map((function(t,n){return Object(Cn.jsx)(Sc,{seriesid:a,episodeid:e,subtitle:t},gt(n,t.code2,"valid"))}));return[].concat(Object(J.a)(t),Object(J.a)(c))}),[n,a])}},{Header:"Actions",accessor:"sonarrEpisodeId",Cell:function(e){var t,n=e.row,r=e.externalUpdate,a=bn(n.original.sonarrSeriesId),c=Object(Z.a)(a,1)[0];return Object(Cn.jsxs)(Cr.a,{children:[Object(Cn.jsx)($n,{icon:gn.bb,disabled:null===(null===(t=c.data)||void 0===t?void 0:t.profileId),onClick:function(){r&&r(n,"manual-search")}}),Object(Cn.jsx)($n,{icon:gn.y,onClick:function(){r&&r(n,"history")}}),Object(Cn.jsx)($n,{icon:gn.e,onClick:function(){r&&r(n,"tools")}})]})}}]}),[i,s]),l=Object(r.useCallback)((function(e,t){c(t,"tools"===t?[e.original]:e.original)}),[c]),u=Object(r.useMemo)((function(){return t.data.reduce((function(e,t){return Math.max(e,t.season)}),0)}),[t]);return Object(Cn.jsxs)(a.a.Fragment,{children:[Object(Cn.jsx)(Yn,{state:t,children:function(e){var t=e.data;return Object(Cn.jsx)(sa,{columns:o,data:t,externalUpdate:l,initialState:{sortBy:[{id:"season",desc:!0},{id:"episode",desc:!0}],groupBy:["season"],expanded:Object(h.a)({},"season:".concat(u),!0)},emptyText:"No Episode Found For This Series"})}}),Object(Cn.jsx)(qr,{modalKey:"tools",size:"lg"}),Object(Cn.jsx)(gr,{modalKey:"history",size:"lg"}),Object(Cn.jsx)(hc,{modalKey:"manual-search",onSelect:Cc})]})},Ic=Object(o.i)((function(e){var t,n,a=e.match,c=Number.parseInt(a.params.id),i=bn(c),s=Object(Z.a)(i,1)[0],l=s.data,u=function(e){var t=en(De),n=Object(r.useCallback)((function(){void 0===e||isNaN(e)||t([e])}),[t,e]),a=$t((function(e){return e.series.episodeList})),c=Object(r.useMemo)((function(){return void 0===e||isNaN(e)?[]:a.data.filter((function(t){return t.sonarrSeriesId===e}))}),[e,a.data]),i=Object(r.useMemo)((function(){return Object(O.a)(Object(O.a)({},a),{},{data:c})}),[a,c]);return tn("episode",void 0,nn(en(ze)),en(Re)),tn("series",void 0,nn(t)),Object(r.useEffect)((function(){n()}),[n]),rn(i,n)}(null===(t=s.data)||void 0===t?void 0:t.sonarrSeriesId),d=Object(Z.a)(u,1)[0],j=0!==d.data.length,b=Object(r.useMemo)((function(){var e;return[{icon:gn.w,text:"".concat(null===l||void 0===l?void 0:l.episodeFileCount," files")},{icon:gn.a,text:null!==(e=null===l||void 0===l?void 0:l.seriesType)&&void 0!==e?e:""}]}),[l]),h=ur(),f=Object(r.useState)(!0),p=Object(Z.a)(f,2),x=p[0],v=p[1],m=Object(r.useCallback)((function(){null===s.data&&v(!1)}),[s.data]);Ot(s,m);var g=on(null===(n=s.data)||void 0===n?void 0:n.profileId);return isNaN(c)||!x?Object(Cn.jsx)(o.b,{to:za}):l?Object(Cn.jsxs)(Nn.a,{fluid:!0,children:[Object(Cn.jsx)(Ha.a,{children:Object(Cn.jsxs)("title",{children:[l.title," - Bazarr (Series)"]})}),Object(Cn.jsxs)(ar,{children:[Object(Cn.jsxs)(ar.Group,{pos:"start",children:[Object(Cn.jsx)(ar.AsyncButton,{icon:gn.U,disabled:!j,promise:function(){return Rt.action({action:"scan-disk",seriesid:c})},children:"Scan Disk"}),Object(Cn.jsx)(ar.AsyncButton,{icon:gn.R,promise:function(){return Rt.action({action:"search-missing",seriesid:c})},disabled:0===l.episodeFileCount||null===l.profileId||!j,children:"Search"})]}),Object(Cn.jsxs)(ar.Group,{pos:"end",children:[Object(Cn.jsx)(ar.Button,{disabled:0===l.episodeFileCount||!j,icon:gn.e,onClick:function(){return h("tools",d.data)},children:"Tools"}),Object(Cn.jsx)(ar.Button,{disabled:0===l.episodeFileCount||null===l.profileId||!j,icon:gn.m,onClick:function(){return h("upload",l)},children:"Upload"}),Object(Cn.jsx)(ar.Button,{icon:gn.cb,onClick:function(){return h("edit",l)},children:"Edit Series"})]})]}),Object(Cn.jsx)(Zt.a,{children:Object(Cn.jsx)(pc,{item:l,details:b})}),Object(Cn.jsx)(Zt.a,{children:Object(Cn.jsx)(Nc,{episodes:d,profile:g})}),Object(Cn.jsx)(yr,{modalKey:"edit",submit:function(e){return Rt.modify(e)}}),Object(Cn.jsx)(wr,{modalKey:"upload",episodes:d.data})]}):Object(Cn.jsx)(da,{})})),Pc=function(){return Object(Cn.jsxs)(o.e,{children:[Object(Cn.jsx)(o.c,{exact:!0,path:"/series",children:Object(Cn.jsx)(wc,{})}),Object(Cn.jsx)(o.c,{path:"/series/:id",children:Object(Cn.jsx)(Ic,{})})]})},Ec="languages-enabled",Ac="languages-profiles",Tc="notifications-providers",Mc="settings-general-use_sonarr",Bc="settings-general-use_radarr",Kc=a.a.createContext([{},function(){}]);var Dc=function(e){var t=e.children,n=e.title,a=en(at),c=Object(r.useState)({}),i=Object(Z.a)(c,2),s=i[0],l=i[1],u=Object(r.useState)(!1),d=Object(Z.a)(u,2),j=d[0],b=d[1],O=Object(r.useState)({}),f=Object(Z.a)(O,2),p=f[0],x=f[1],v=Object(r.useCallback)((function(){l({}),b(!1)}),[]),m=an();Ot(Object(Z.a)(m,1)[0],v);var g=Object(r.useCallback)((function(e){!function(e){if(Ac in e){var t=e[Ac];e[Ac]=JSON.stringify(t)}if(Ec in e){var n=e[Ec];e[Ec]=n.map((function(e){return e.code2}))}if(Tc in e){var r=e[Tc];e[Tc]=r.map((function(e){return JSON.stringify(e)}))}}(e),b(!0),_t.setSettings(e)}),[]),y=Object(r.useCallback)((function(e){a(e),l({})}),[a]);Object(r.useEffect)((function(){var e={};e.__default__=g,e.storage=y,x(e)}),[g,y]);var k=Object(r.useMemo)((function(){return p.__default__}),[p]),w=Object(r.useCallback)((function(){var e=new Map;for(var t in s){var n=t.split("-")[0];if(0!==n.length){var r=e.get(n);r?r[t]=s[t]:e.set(n,Object(h.a)({},t,s[t]))}}var a={};e.forEach((function(e,t){t in p?p[t](e):a=Object($.merge)(a,e)})),k(a)}),[s,p,k]);return Object(Cn.jsxs)(Nn.a,{fluid:!0,children:[Object(Cn.jsx)(Ha.a,{children:Object(Cn.jsx)("title",{children:n})}),Object(Cn.jsx)(o.a,{when:Object.keys(s).length>0,message:"You have unsaved changes, are you sure you want to leave?"}),Object(Cn.jsx)(ar,{children:Object(Cn.jsx)(ar.Button,{icon:gn.Q,updating:j,disabled:0===Object.keys(s).length,onClick:w,children:"Save"})}),Object(Cn.jsx)(Kc.Provider,{value:[s,l],children:Object(Cn.jsx)(Zt.a,{className:"p-4",children:Object(Cn.jsx)(Nn.a,{children:t})})})]})};function Rc(){var e=Object(r.useContext)(Kc);return Object(Z.a)(e,1)[0]}function zc(){var e=Object(r.useContext)(Kc),t=Object(Z.a)(e,2)[1];return Object(r.useCallback)((function(e,n){t((function(t){var r=Object(O.a)({},t);return r[n]=e,r}))}),[t])}function _c(e,t,n){var a=an(),c=Object(Z.a)(a,1)[0].data,i=Object(s.d)(),o=Object(r.useMemo)((function(){var n=null;if(void 0===c)return n;var r=e.split("-");if("settings"!==r[0])return null;r=r.slice(0);var a,i=c,s=Object(_n.a)(r);try{for(s.s();!(a=s.n()).done;){var o=a.value;if(o in i&&(i=i[o]),t(i)){n=i;break}}}catch(l){s.e(l)}finally{s.f()}return n}),[e,c,t]);return n&&void 0!==c?n(c,i.getState()):o}function Hc(e,t,n){var r=_c(e,t,n),a=Rc();return e in a?a[e]:r}var Lc=a.a.createContext(["",function(e){}]),Fc=a.a.createContext((function(e){}));function Uc(){return Object(r.useContext)(Fc)}var Gc=function(e){var t=e.children,n=Object(r.useState)(!1);return Object(Cn.jsx)(Lc.Provider,{value:n,children:t})};Gc.Control=function(e){var t=e.children,n=Object(r.useContext)(Lc);return Object(Cn.jsx)(Fc.Provider,{value:n[1],children:t})},Gc.Content=function(e){var t=e.on,n=e.eventKey,a=e.indent,c=e.children,i=Object(r.useContext)(Lc),s=Object(Z.a)(i,1)[0],o=Object(r.useMemo)((function(){return t&&"string"===typeof s?t(s):n?s===n:!0===s}),[t,s,n]);return Object(Cn.jsx)(xa.a,{in:o,className:!1===a?void 0:"pl-4",children:Object(Cn.jsx)("div",{children:c})})};var qc=Gc,Wc=n(573),Yc=(n(541),function(e){var t=e.header,n=e.hidden,r=e.children;return Object(Cn.jsxs)(Zt.a,{hidden:n,className:"flex-column mt-3",children:[Object(Cn.jsxs)($r.a,{children:[Object(Cn.jsx)("h4",{children:t}),Object(Cn.jsx)("hr",{})]}),Object(Cn.jsx)($r.a,{children:r})]})}),Vc=function(e){var t=e.children,n=e.name,r=e.hidden;return Object(Cn.jsxs)(Bn.a.Group,{hidden:r,children:[n&&Object(Cn.jsx)(Bn.a.Label,{children:n}),t]})},Qc=function(e){return Object(Cn.jsx)($r.a,{className:"p-2",xs:6,lg:4,children:Object(Cn.jsx)(Xc,Object(O.a)({},e))})},Xc=function(e){var t=e.header,n=e.subheader,r=e.plus,a=e.onClick;return Object(Cn.jsx)(Wc.a,{className:"settings-card",onClick:function(){return a&&a()},children:r?Object(Cn.jsx)(Wc.a.Body,{className:"d-flex justify-content-center align-items-center",children:Object(Cn.jsx)(yn.a,{size:"2x",icon:gn.M})}):Object(Cn.jsxs)(Wc.a.Body,{children:[Object(Cn.jsx)(Wc.a.Title,{className:"text-nowrap text-truncate",children:t}),Object(Cn.jsx)(Wc.a.Subtitle,{hidden:void 0===n,className:"small text-nowrap text-truncate",children:n})]})})},Jc=function(e){var t=e.type,n=e.children,r=["pr-4"];return r.push("warning"===t?"text-warning":"text-muted"),Object(Cn.jsx)(Bn.a.Text,{className:r.join(" "),children:n})},Zc=function(e){var t=e.placeholder,n=e.disabled,r=e.beforeStaged,a=e.controlled,c=e.override,i=e.password,s=e.settingKey,o=Hc(s,ut,c),l=zc(),u=Uc();return Object(Cn.jsx)(Bn.a.Control,{type:i?"password":"text",placeholder:null===t||void 0===t?void 0:t.toString(),disabled:n,defaultValue:a?void 0:null!==o&&void 0!==o?o:void 0,value:a&&null!==o&&void 0!==o?o:void 0,onChange:function(e){var t=e.currentTarget.value;u(t.toString());var n=r?r(t):t;l(n,s)}})},$c=function(e){var t=e.label,n=e.inline,a=e.override,c=e.disabled,i=e.settingKey,s=zc(),o=Uc(),l=Hc(i,$.isBoolean,a);return Object(r.useEffect)((function(){return o(null!==l&&void 0!==l&&l)}),[o,l]),Object(Cn.jsx)(Bn.a.Check,{custom:!0,type:"checkbox",id:i,inline:n,label:t,onChange:function(e){var t=e.currentTarget.checked;s(t,i)},disabled:c,checked:null!==l&&void 0!==l?l:void 0})};function ei(e){return Object($.isString)(e)||Object($.isNumber)(e)||Object($.isArray)(e)}function ti(e){var t=zc(),n=Uc(),a=e.settingKey,c=e.override,i=e.beforeStaged,s=Object(mn.a)(e,["settingKey","override","beforeStaged"]),o=Hc(a,ei,c);return Object(r.useEffect)((function(){(Object($.isString)(o)||Object($.isNull)(o))&&n(null!==o&&void 0!==o?o:"")})),Object(Cn.jsx)(Fn,Object(O.a)(Object(O.a)({},s),{},{defaultValue:o,onChange:function(e){e=i?i(e):e,t(e,a)}}))}var ni=function(e){var t=e.settingKey,n=e.override,r=Object(mn.a)(e,["settingKey","override"]),a=zc(),c=Hc(t,$.isNumber,n);return Object(Cn.jsx)(qn,Object(O.a)({onAfterChange:function(e){a(e,t)},defaultValue:null!==c&&void 0!==c?c:void 0},r))},ri=function(e){var t=e.settingKey,n=e.override,r=Object(mn.a)(e,["settingKey","override"]),a=zc(),c=Hc(t,$.isArray,n);return Object(Cn.jsx)(An,Object(O.a)({defaultValue:null!==c&&void 0!==c?c:void 0,onChange:function(e){a(e,t)}},r))},ai=function(e){var t=e.onClick,n=e.settingKey,r=Object(mn.a)(e,["onClick","settingKey"]),a=Hc(n,$.isString),c=zc();return Object(Cn.jsx)(Pn.a,Object(O.a)({onClick:function(){t&&t(c,n,null!==a&&void 0!==a?a:void 0)}},r))},ci=function(e){var t=e.category,n=Object(r.useState)("Test"),a=Object(Z.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)("primary"),o=Object(Z.a)(s,2),l=o[0],u=o[1],d=Hc("settings-".concat(t,"-ip"),$.isString),j=Hc("settings-".concat(t,"-port"),$.isNumber),b=Hc("settings-".concat(t,"-base_url"),$.isString),h=Hc("settings-".concat(t,"-apikey"),$.isString),O=Hc("settings-".concat(t,"-ssl"),$.isBoolean),f=Object(r.useCallback)((function(){if(d&&h&&null!==O){var e;e=j?"".concat(d,":").concat(j).concat(null!==b&&void 0!==b?b:""):"".concat(d).concat(null!==b&&void 0!==b?b:"");var t={protocol:O?"https":"http",url:e,params:{apikey:h}};t.url.endsWith("/")||(t.url+="/"),Ht.urlTest(t.protocol,t.url,t.params).then((function(e){e.status?(i("Version: ".concat(e.version)),u("success")):(i(e.error),u("danger"))}))}}),[d,j,b,h,O]);return Object(Cn.jsx)(Pn.a,{onClick:f,variant:l,title:c,className:"text-truncate text-nowrap",children:c})},ii=[{label:"Basic",value:"basic"},{label:"Form",value:"form"}],si=[{label:"Socks5",value:"socks5"},{label:"HTTP(S)",value:"http"}],oi=[{label:"master",value:"master"},{label:"development",value:"development"}],li="abcdef0123456789",ui="settings-auth-apikey",di=function(e){var t,n;return null!==(t=null===(n=e.general.base_url)||void 0===n?void 0:n.slice(1))&&void 0!==t?t:""},ji=function(){var e=Object(r.useState)(!1),t=Object(Z.a)(e,2),n=t[0],a=t[1],c=window.Bazarr.canUpdate;return Object(Cn.jsxs)(Dc,{title:"General - Bazarr (Settings)",children:[Object(Cn.jsxs)(Yc,{header:"Host",children:[Object(Cn.jsxs)(Vc,{name:"Address",children:[Object(Cn.jsx)(Zc,{placeholder:"0.0.0.0",settingKey:"settings-general-ip"}),Object(Cn.jsx)(Jc,{children:"Valid IPv4 address or '0.0.0.0' for all interfaces"})]}),Object(Cn.jsx)(Vc,{name:"Port",children:Object(Cn.jsx)(Zc,{placeholder:6767,settingKey:"settings-general-port"})}),Object(Cn.jsxs)(Vc,{name:"Base URL",children:[Object(Cn.jsxs)(Sr.a,{children:[Object(Cn.jsx)(Sr.a.Prepend,{children:Object(Cn.jsx)(Sr.a.Text,{children:"/"})}),Object(Cn.jsx)(Zc,{settingKey:"settings-general-base_url",override:di,beforeStaged:function(e){return"/"+e}})]}),Object(Cn.jsx)(Jc,{children:"Reverse proxy support"})]})]}),Object(Cn.jsxs)(Yc,{header:"Security",children:[Object(Cn.jsxs)(qc,{children:[Object(Cn.jsx)(qc.Control,{children:Object(Cn.jsx)(Vc,{name:"Authentication",children:Object(Cn.jsx)(ti,{clearable:!0,options:ii,settingKey:"settings-auth-type",beforeStaged:function(e){return null===e?"None":e}})})}),Object(Cn.jsxs)(qc.Content,{on:function(e){return""!==e&&"None"!==e},children:[Object(Cn.jsx)(Vc,{name:"Username",children:Object(Cn.jsx)(Zc,{settingKey:"settings-auth-username"})}),Object(Cn.jsx)(Vc,{name:"Password",children:Object(Cn.jsx)(Zc,{password:!0,settingKey:"settings-auth-password"})})]})]}),Object(Cn.jsx)(Vc,{name:"API Key",children:Object(Cn.jsxs)(Sr.a,{children:[Object(Cn.jsx)(Zc,{disabled:!0,controlled:!0,settingKey:ui}),Object(Cn.jsxs)(Sr.a.Append,{children:[Object(Cn.jsx)(ai,{variant:n?"success":"light",settingKey:ui,onClick:function(e,t,n){n&&(function(e){var t=document.createElement("textarea");t.innerText=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,9999),document.execCommand("copy"),t.remove()}(n),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e(!n),setTimeout((function(){return e(n)}),t)}(a,1500))},children:Object(Cn.jsx)(yn.a,{icon:n?gn.h:gn.k})}),Object(Cn.jsx)(ai,{variant:"danger",settingKey:ui,onClick:function(e,t){e(Array(32).fill(null).map((function(){return li.charAt(Math.floor(Math.random()*li.length))})).join(""),t)},children:Object(Cn.jsx)(yn.a,{icon:gn.U})})]})]})})]}),Object(Cn.jsx)(Yc,{header:"Proxy",children:Object(Cn.jsxs)(qc,{children:[Object(Cn.jsx)(qc.Control,{children:Object(Cn.jsx)(Vc,{children:Object(Cn.jsx)(ti,{clearable:!0,settingKey:"settings-proxy-type",options:si,beforeStaged:function(e){return null===e?"None":e}})})}),Object(Cn.jsxs)(qc.Content,{on:function(e){return""!==e&&"None"!==e},children:[Object(Cn.jsx)(Vc,{name:"Host",children:Object(Cn.jsx)(Zc,{settingKey:"settings-proxy-url"})}),Object(Cn.jsx)(Vc,{name:"Port",children:Object(Cn.jsx)(Zc,{settingKey:"settings-proxy-port"})}),Object(Cn.jsx)(Vc,{name:"Username",children:Object(Cn.jsx)(Zc,{settingKey:"settings-proxy-username"})}),Object(Cn.jsxs)(Vc,{name:"Password",children:[Object(Cn.jsx)(Zc,{password:!0,settingKey:"settings-proxy-password"}),Object(Cn.jsx)(Jc,{children:"You only need to enter a username and password if one is required. Leave them blank otherwise"})]}),Object(Cn.jsxs)(Vc,{name:"Ignored Addresses",children:[Object(Cn.jsx)(ri,{settingKey:"settings-proxy-exclude"}),Object(Cn.jsx)(Jc,{children:"'*.' as a wildcard for subdomains"})]})]})]})}),Object(Cn.jsxs)(Yc,{header:"Updates",hidden:!c,children:[Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{label:"Automatic",settingKey:"settings-general-auto_update"}),Object(Cn.jsx)(Jc,{children:"Automatically download and install updates"})]}),Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)(ti,{options:oi,settingKey:"settings-general-branch"}),Object(Cn.jsx)(Jc,{children:"Branch used by update mechanism"})]})]}),Object(Cn.jsx)(Yc,{header:"Logging",children:Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{label:"Debug",settingKey:"settings-general-debug"}),Object(Cn.jsx)(Jc,{children:"Debug logging should only be enabled temporarily"})]})}),Object(Cn.jsx)(Yc,{header:"Analytics",children:Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{label:"Enable",settingKey:"settings-analytics-enabled"}),Object(Cn.jsx)(Jc,{children:"Send anonymous usage information, nothing that can identify you. This includes information on which providers you use, what languages you search for, Bazarr, Python, Sonarr, Radarr and what OS version you are using. We will use this information to prioritize features and bug fixes. Please, keep this enabled as this is the only way we have to better understand how you use Bazarr."})]})})]})},bi=function(e){var t=e.settingKey,n=e.options,r=yi(),a=zc();return Object(Cn.jsx)(ir,{multiple:!0,value:r,options:n,onChange:function(e){a(e,t)}})},hi=function(e){var t=e.settingKey,n=ki(),a=Object(r.useMemo)((function(){return n.map((function(e){return{label:e.name,value:e.profileId}}))}),[n]);return Object(Cn.jsx)(ti,{clearable:!0,options:a,settingKey:t,beforeStaged:function(e){return null===e?"":e}})},Oi=[{label:"Any",value:65535}];function fi(){return{profileId:-1,name:"",items:[],cutoff:null}}var pi=function(e){var t=e.update,n=Object(mn.a)(e,["update"]),a=hr(n.modalKey),c=dr(),i=yi(),s=Object(r.useState)(fi),o=Object(Z.a)(s,2),l=o[0],u=o[1];Object(r.useEffect)((function(){u(a||fi)}),[a]);var d=Object(r.useMemo)((function(){var e=Object(J.a)(Oi),t=l.items.map((function(e){return{label:"ID ".concat(e.id," (").concat(e.language,")"),value:e.id}}));return e.push.apply(e,Object(J.a)(t)),e}),[l.items]),j=Object(r.useCallback)((function(e,t){var n=Object(O.a)({},l);n[e]=t,u(n)}),[l]),b=Object(r.useCallback)((function(e,t){var n=Object(J.a)(l.items);t?n[e.index]=t:n.splice(e.index,1),j("items",n)}),[l.items,j]),h=Object(r.useCallback)((function(){var e=1+l.items.reduce((function(e,t){return Math.max(t.id,e)}),0);if(i.length>0){var t={id:e,language:i[0].code2,audio_exclude:"False",hi:"False",forced:"False"},n=Object(J.a)(l.items);n.push(t),j("items",n)}}),[l.items,j,i]),f=l.name.length>0&&l.items.length>0,p=Object(Cn.jsx)(Pn.a,{disabled:!f,onClick:function(){c(),t(l)},children:"Save"}),x=Object(r.useMemo)((function(){return[{Header:"ID",accessor:"id"},{Header:"Language",accessor:"language",Cell:function(e){var t=e.value,n=e.row,a=e.externalUpdate,c=t,s=n.original,o=Object(r.useMemo)((function(){var e;return null!==(e=i.find((function(e){return e.code2===c})))&&void 0!==e?e:null}),[c]);return Object(Cn.jsx)("div",{style:{width:"8rem"},children:Object(Cn.jsx)(ir,{options:i,value:o,onChange:function(e){e&&(s.language=e.code2,a&&a(n,s))}})})}},{Header:"Forced",accessor:"forced",Cell:function(e){var t=e.row,n=e.value,r=e.externalUpdate,a=t.original;return Object(Cn.jsx)(Bn.a.Check,{custom:!0,id:gt(a.id,a.language,"forced"),checked:"True"===n,onChange:function(e){a.forced=e.target.checked?"True":"False",r&&r(t,a)}})}},{Header:"HI",accessor:"hi",Cell:function(e){var t=e.row,n=e.value,r=e.externalUpdate,a=t.original;return Object(Cn.jsx)(Bn.a.Check,{custom:!0,id:gt(a.id,a.language,"hi"),checked:"True"===n,onChange:function(e){a.hi=e.target.checked?"True":"False",r&&r(t,a)}})}},{Header:"Exclude Audio",accessor:"audio_exclude",Cell:function(e){var t=e.row,n=e.value,r=e.externalUpdate,a=t.original;return Object(Cn.jsx)(Bn.a.Check,{custom:!0,id:gt(a.id,a.language,"audio"),checked:"True"===n,onChange:function(e){a.audio_exclude=e.target.checked?"True":"False",r&&r(t,a)}})}},{id:"action",accessor:"id",Cell:function(e){var t=e.row,n=e.externalUpdate;return Object(Cn.jsx)($n,{icon:gn.Z,onClick:function(){return n&&n(t)}})}}]}),[i]);return Object(Cn.jsxs)(pr,Object(O.a)(Object(O.a)({size:"lg",title:"Languages Profile",footer:p},n),{},{children:[Object(Cn.jsx)(Vc,{children:Object(Cn.jsx)(Bn.a.Control,{type:"text",placeholder:"Name",value:l.name,onChange:function(e){j("name",e.target.value)}})}),Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)(na,{responsive:!1,columns:x,data:l.items,externalUpdate:b}),Object(Cn.jsx)(Pn.a,{block:!0,variant:"light",onClick:h,children:"Add"})]}),Object(Cn.jsxs)(Vc,{name:"Cutoff",children:[Object(Cn.jsx)(Fn,{clearable:!0,options:d,value:l.cutoff,onChange:function(e){return j("cutoff",e)}}),Object(Cn.jsx)(Jc,{children:"Ignore others if existing"})]})]}))},xi=function(e){var t=e.cutoff,n=e.item,a=e.className,c=Object(r.useMemo)((function(){var e=n.language;return"True"===n.hi?e+=":HI":"True"===n.forced&&(e+=":Forced"),e}),[n.hi,n.forced,n.language]);return Object(Cn.jsx)(Jn.a,{className:a,title:t?"Ignore others if this one is available":void 0,variant:t?"primary":"secondary",children:c})},vi=function(){var e=ki(),t=yi(),n=Object(r.useState)((function(){return Object($.cloneDeep)(e)})),c=Object(Z.a)(n,2),i=c[0],s=c[1],o=Object(r.useMemo)((function(){return 1+i.reduce((function(e,t){return Math.max(t.profileId,e)}),0)}),[i]),l=zc(),u=ur(),d=Object(r.useCallback)((function(e){l(e,Ac),s(e)}),[l]),j=Object(r.useCallback)((function(e){var t=Object(J.a)(i),n=t.findIndex((function(t){return t.profileId===e.profileId}));-1!==n?t[n]=e:t.push(e),d(t)}),[i,d]),b=Object(r.useCallback)((function(e,t){if(t)u("profile",Object($.cloneDeep)(t));else{var n=Object(J.a)(i);n.splice(e.index,1),d(n)}}),[d,u,i]),h=Object(r.useMemo)((function(){return[{Header:"Name",accessor:"name"},{Header:"Languages",accessor:"items",Cell:function(e){var t=e.value,n=e.row.original.cutoff;return t.map((function(e){var t=e.id===n||65535===n;return Object(Cn.jsx)(xi,{cutoff:t,className:"mx-1",item:e},e.id)}))}},{accessor:"profileId",Cell:function(e){var t=e.row,n=e.externalUpdate,r=t.original;return Object(Cn.jsxs)(Cr.a,{children:[Object(Cn.jsx)($n,{icon:gn.cb,onClick:function(){n&&n(t,r)}}),Object(Cn.jsx)($n,{icon:gn.Z,onClick:function(){return n&&n(t)}})]})}}]}),[]),O=0!==t.length;return Object(Cn.jsxs)(a.a.Fragment,{children:[Object(Cn.jsx)(na,{columns:h,data:i,externalUpdate:b}),Object(Cn.jsx)(Pn.a,{block:!0,disabled:!O,variant:"light",onClick:function(){u("profile",{profileId:o,name:"",items:[],cutoff:null})},children:O?"Add New Profile":"No Enabled Languages"}),Object(Cn.jsx)(pi,{update:j,modalKey:"profile"})]})},mi=a.a.createContext([]),gi=a.a.createContext([]);function yi(){var e=Object(r.useContext)(mi),t=Hc(Ec,$.isArray);return t||e}function ki(){var e=Object(r.useContext)(gi),t=Hc(Ac,$.isArray);return t||e}var wi=function(){var e=ln(!1),t=Object(Z.a)(e,1)[0],n=ln(!0),r=Object(Z.a)(n,1)[0],a=sn(),c=Object(Z.a)(a,1)[0];return Object(Cn.jsx)(Dc,{title:"Languages - Bazarr (Settings)",children:Object(Cn.jsx)(mi.Provider,{value:r,children:Object(Cn.jsxs)(gi.Provider,{value:c,children:[Object(Cn.jsxs)(Yc,{header:"Subtitles Language",children:[Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{label:"Single Language",settingKey:"settings-general-single_language"}),Object(Cn.jsx)(Jc,{children:"Download a single Subtitles file without adding the language code to the filename."}),Object(Cn.jsx)(Jc,{type:"warning",children:"We don't recommend enabling this option unless absolutely required (ie: media player not supporting language code in subtitles filename). Results may vary."})]}),Object(Cn.jsx)(Vc,{name:"Languages Filter",children:Object(Cn.jsx)(bi,{settingKey:Ec,options:t})})]}),Object(Cn.jsx)(Yc,{header:"Languages Profiles",children:Object(Cn.jsx)(vi,{})}),Object(Cn.jsxs)(Yc,{header:"Default Settings",children:[Object(Cn.jsxs)(qc,{children:[Object(Cn.jsx)(qc.Control,{children:Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{label:"Series",settingKey:"settings-general-serie_default_enabled"}),Object(Cn.jsx)(Jc,{children:"Apply only to Series added to Bazarr after enabling this option."})]})}),Object(Cn.jsx)(qc.Content,{indent:!0,children:Object(Cn.jsx)(Vc,{name:"Profile",children:Object(Cn.jsx)(hi,{settingKey:"settings-general-serie_default_profile"})})})]}),Object(Cn.jsxs)(qc,{children:[Object(Cn.jsx)(qc.Control,{children:Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{label:"Movies",settingKey:"settings-general-movie_default_enabled"}),Object(Cn.jsx)(Jc,{children:"Apply only to Movies added to Bazarr after enabling this option."})]})}),Object(Cn.jsx)(qc.Content,{children:Object(Cn.jsx)(Vc,{name:"Profile",children:Object(Cn.jsx)(hi,{settingKey:"settings-general-movie_default_profile"})})})]})]})]})})})},Si=function(e){var t,n=e.selections,c=Object(mn.a)(e,["selections"]),i=Object(r.useMemo)((function(){return n.filter((function(e){return!e.enabled})).map((function(e){return{label:e.name,value:e}}))}),[n]),s=function(e,t){var n=zc(),a=Rc(),c=Object(r.useMemo)((function(){return e in a?a[e]:[]}),[e,a]);return Object(r.useCallback)((function(r){var a=Object($.uniqBy)([r].concat(Object(J.a)(c)),t);n(a,e)}),[t,c,e,n])}(Tc,"name"),o=hr(c.modalKey),l=Object(r.useState)(null!==o&&void 0!==o?o:null),u=Object(Z.a)(l,2),d=u[0],j=u[1],b=Object(r.useCallback)((function(){return j(null!==o&&void 0!==o?o:null)}),[o]);br(c.modalKey,b);var h=Object(r.useCallback)((function(e){if(d){var t=Object(O.a)({},d);t.url=e,j(t)}}),[d]),f=dr(),p=null!==d&&null!==(null===d||void 0===d?void 0:d.url)&&0!==(null===d||void 0===d?void 0:d.url.length),x=Object(r.useMemo)((function(){return Object(Cn.jsxs)(a.a.Fragment,{children:[Object(Cn.jsx)(Xn,{className:"mr-auto",disabled:!p,variant:"outline-secondary",promise:function(){return d&&d.url?_t.testNotification(d.url):null},children:"Test"}),Object(Cn.jsx)(Pn.a,{hidden:null===o,variant:"danger",onClick:function(){d&&(d.enabled=!1,s(d)),f()},children:"Remove"}),Object(Cn.jsx)(Pn.a,{disabled:!p,onClick:function(){d&&(d.enabled=!0,s(d)),f()},children:"Save"})]})}),[p,f,d,s,o]),v=Object(r.useCallback)((function(e){return e.name}),[]);return Object(Cn.jsx)(pr,Object(O.a)(Object(O.a)({title:"Notification",footer:x},c),{},{children:Object(Cn.jsx)(Nn.a,{fluid:!0,children:Object(Cn.jsxs)(Zt.a,{children:[Object(Cn.jsx)($r.a,{xs:12,children:Object(Cn.jsx)(Fn,{disabled:null!==o,options:i,value:d,onChange:j,label:v})}),Object(Cn.jsx)($r.a,{hidden:null===d,children:Object(Cn.jsx)(Bn.a.Group,{className:"mt-4",children:Object(Cn.jsx)(Bn.a.Control,{as:"textarea",rows:4,placeholder:"URL",value:null!==(t=null===d||void 0===d?void 0:d.url)&&void 0!==t?t:"",onChange:function(e){var t=e.currentTarget.value;h(t)}})})})]})})}))},Ci=function(){var e=function(e,t,n){var a=_c(e,$.isArray,n),c=Rc(),i=void 0;return e in c&&(i=c[e]),Object(r.useMemo)((function(){return void 0!==i&&a?Object($.uniqBy)([].concat(Object(J.a)(i),Object(J.a)(a)),t):a}),[a,i,t])}(Tc,"name",(function(e){return e.notifications.providers})),t=ur(),n=Object(r.useMemo)((function(){return null===e||void 0===e?void 0:e.filter((function(e){return e.enabled})).map((function(e,n){return Object(Cn.jsx)(Qc,{header:e.name,onClick:function(){return t("notifications",e)}},gt(n,e.name))}))}),[e,t]);return Object(Cn.jsxs)(Nn.a,{fluid:!0,children:[Object(Cn.jsxs)(Zt.a,{children:[n," ",Object(Cn.jsx)(Qc,{plus:!0,onClick:function(){return t("notifications")}})]}),Object(Cn.jsx)(Si,{selections:null!==e&&void 0!==e?e:[],modalKey:"notifications"})]})},Ni=function(){return Object(Cn.jsxs)(Dc,{title:"Notifications - Bazarr (Settings)",children:[Object(Cn.jsxs)(In.a,{variant:"secondary",children:["Thanks to caronc for his work on"," ",Object(Cn.jsx)("a",{href:"https://github.com/caronc/apprise",target:"_blank",rel:"noopener noreferrer",children:"apprise"}),", the core of the Bazarr notification system."]}),Object(Cn.jsxs)(In.a,{variant:"secondary",children:["Please follow instructions on his"," ",Object(Cn.jsx)("a",{href:"https://github.com/caronc/apprise/wiki",target:"_blank",rel:"noopener noreferrer",children:"Wiki"})," ","to configure your notification providers."]}),Object(Cn.jsx)(Yc,{header:"Notifications",children:Object(Cn.jsx)(Ci,{})}),Object(Cn.jsx)(Yc,{header:"Options",children:Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{label:"Silent for Manual Actions",settingKey:"settings-general-dont_notify_manual_actions"}),Object(Cn.jsx)(Jc,{children:"Suppress notifications when manually download/upload subtitles."})]})})]})},Ii=n(24),Pi=[{key:"addic7ed",description:"Requires Anti-Captcha Provider",defaultKey:{username:"",password:""}},{key:"argenteam",description:"Spanish Subtitles Provider"},{key:"assrt",description:"Chinese Subtitles Provider",defaultKey:{token:""}},{key:"betaseries",name:"BetaSeries",description:"French / English Provider for TV Shows Only",defaultKey:{token:""},keyNameOverride:{token:"API KEY"}},{key:"bsplayer",name:"BSplayer"},{key:"greeksubs",name:"GreekSubs",description:"Greek Subtitles Provider"},{key:"greeksubtitles",name:"GreekSubtitles",description:"Greek Subtitles Provider"},{key:"hosszupuska",description:"Hungarian Subtitles Provider"},{key:"legendasdivx",name:"LegendasDivx",description:"Brazilian / Portuguese Subtitles Provider",defaultKey:{username:"",password:"",skip_wrong_fps:!1},keyNameOverride:{skip_wrong_fps:"Skip Wrong FPS"}},{key:"legendastv",name:"LegendasTV",description:"Brazilian / Portuguese Subtitles Provider",defaultKey:{username:"",password:""}},{key:"napiprojekt",description:"Polish Subtitles Provider"},{key:"napisy24",description:"Polish Subtitles Provider",message:"The provided credentials must have API access. Leave empty to use the defaults.",defaultKey:{username:"",password:""}},{key:"nekur",description:"Latvian Subtitles Provider"},{key:"opensubtitles",name:"OpenSubtitles.org",defaultKey:{username:"",password:"",vip:!1,ssl:!1,skip_wrong_fps:!1},keyNameOverride:{vip:"VIP",ssl:"Use SSL",skip_wrong_fps:"Skip Wrong FPS"}},{key:"opensubtitlescom",name:"OpenSubtitles.com",defaultKey:{username:"",password:"",use_hash:!1},keyNameOverride:{use_hash:"Use Hash"}},{key:"podnapisi"},{key:"regielive",name:"RegieLive",description:"Romanian Subtitles Provider"},{key:"soustitreseu",name:"Sous-Titres.eu",description:"Mostly French Subtitles Provider"},{key:"subdivx",description:"Spanish Subtitles Provider"},{key:"subssabbz",name:"Subs.sab.bz",description:"Bulgarian Subtitles Provider"},{key:"subs4free",name:"Subs4Free",description:"Greek Subtitles Provider"},{key:"subs4series",name:"Subs4Series",description:"Greek Subtitles Provider"},{key:"subscene",description:"Requires Anti-Captcha Provider",defaultKey:{username:"",password:""}},{key:"subscenter"},{key:"subsunacs",name:"Subsunacs.net",description:"Bulgarian Subtitles Provider"},{key:"subsynchro",description:"French Subtitles Provider"},{key:"subtitriid",name:"subtitri.id.lv",description:"Latvian Subtitles Provider"},{key:"subtitulamostv",name:"Subtitulamos.tv",description:"Spanish Subtitles Provider"},{key:"sucha",description:"Spanish Subtitles Provider"},{key:"supersubtitles"},{key:"titlovi",defaultKey:{username:"",password:""}},{key:"titrari",name:"Titrari.ro"},{key:"tusubtitulo",name:"Tusubtitulo.com",description:"Spanish / English Subtitles Provider for TV Shows"},{key:"tvsubtitles",name:"TVSubtitles"},{key:"wizdom",description:"Wizdom.xyz Subtitles Provider."},{key:"xsubs",name:"XSubs",description:"Greek Subtitles Provider",defaultKey:{username:"",password:""}},{key:"yavkanet",name:"Yavka.net",description:"Bulgarian Subtitles Provider"},{key:"yifysubtitles",name:"YIFY Subtitles"},{key:"zimuku",description:"Chinese Subtitles Provider"}],Ei="provider-modal",Ai="settings-general-enabled_providers",Ti=function(){var e=Hc(Ai,$.isArray),t=ur(),n=Object(r.useCallback)((function(e){t(Ei,null!==e&&void 0!==e?e:null)}),[t]),a=Object(r.useMemo)((function(){return e?e.flatMap((function(e){var t=Pi.find((function(t){return t.key===e}));return t||[]})).map((function(e,t){var r;return Object(Cn.jsx)(Qc,{header:null!==(r=e.name)&&void 0!==r?r:Object($.capitalize)(e.key),subheader:e.description,onClick:function(){return n(e)}},gt(t,e.name))})):[]}),[e,n]);return Object(Cn.jsx)(Nn.a,{fluid:!0,children:Object(Cn.jsxs)(Zt.a,{children:[a,Object(Cn.jsx)(Qc,{plus:!0,onClick:n},"add-card")]})})},Mi=function(){var e=hr(Ei),t=Object(r.useState)({}),n=Object(Z.a)(t,2),c=n[0],i=n[1],s=Object(r.useState)(null!==e&&void 0!==e?e:null),o=Object(Z.a)(s,2),l=o[0],u=o[1],d=Object(r.useCallback)((function(){return u(null!==e&&void 0!==e?e:null)}),[e]);br(Ei,d);var j=Hc(Ai,$.isArray),b=dr(),f=function(){var e=Object(r.useContext)(Kc),t=Object(Z.a)(e,2)[1];return Object(r.useCallback)((function(e){t((function(t){return Object(O.a)(Object(O.a)({},t),e)}))}),[t])}(),p=Object(r.useCallback)((function(){if(e&&j){var t=j.findIndex((function(t){return t===e.key}));if(-1!==t){var n=Object(J.a)(j);n.splice(t,1),f(Object(h.a)({},Ai,n)),b()}}}),[e,j,f,b]),x=Object(r.useCallback)((function(){if(l&&j){var e=Object(O.a)({},c);if(void 0===j.find((function(e){return e===l.key}))){var t=[].concat(Object(J.a)(j),[l.key]);e[Ai]=t}f(e),b()}}),[l,j,c,b,f]),v=null!==l,m=Object(r.useMemo)((function(){return Object(Cn.jsxs)(a.a.Fragment,{children:[Object(Cn.jsx)(Pn.a,{hidden:!e,variant:"danger",onClick:p,children:"Delete"}),Object(Cn.jsx)(Pn.a,{disabled:!v,onClick:x,children:"Save"})]})}),[v,e,p,x]),g=Object(r.useCallback)((function(e){u(e||{key:"",description:"Unknown Provider"})}),[]),y=Object(r.useMemo)((function(){return Pi.filter((function(e){return void 0===(null===j||void 0===j?void 0:j.find((function(t){return t===e.key})))})).map((function(e){var t;return{label:null!==(t=e.name)&&void 0!==t?t:Object($.capitalize)(e.key),value:e}}))}),[j]),k=Object(r.useMemo)((function(){var e;if(null===l)return null;var t=l.defaultKey,n=null!==(e=l.keyNameOverride)&&void 0!==e?e:{};if(void 0===t)return null;var r=l.key,a=[],c=[];for(var i in t){var s=t[i],o=i;o=o in n?n[o]:Object($.capitalize)(i),ut(s)?a.push(Object(Cn.jsx)($r.a,{xs:12,className:"mt-2",children:Object(Cn.jsx)(Zc,{password:"password"===i,placeholder:o,settingKey:"settings-".concat(r,"-").concat(i)})},i)):Object($.isBoolean)(s)&&c.push(Object(Cn.jsx)($c,{inline:!0,label:o,settingKey:"settings-".concat(r,"-").concat(i)},i))}return Object(Cn.jsxs)(Zt.a,{children:[a,Object(Cn.jsx)($r.a,{hidden:0===c.length,className:"mt-2",children:c})]})}),[l]),w=Object(r.useMemo)((function(){return{Option:function(e){var t=e.data,n=Object(mn.a)(e,["data"]),r=t,a=r.label,c=r.value;return Object(Cn.jsxs)(Ii.l.Option,Object(O.a)(Object(O.a)({data:t},n),{},{children:[a,Object(Cn.jsx)("p",{className:"small m-0 text-muted",children:c.description})]}))}}}),[]),S=Object(r.useCallback)((function(e){var t;return null!==(t=e.name)&&void 0!==t?t:Object($.capitalize)(e.key)}),[]);return Object(Cn.jsx)(pr,{title:"Provider",footer:m,modalKey:Ei,children:Object(Cn.jsx)(Kc.Provider,{value:[c,i],children:Object(Cn.jsxs)(Nn.a,{children:[Object(Cn.jsx)(Zt.a,{children:Object(Cn.jsx)($r.a,{children:Object(Cn.jsx)(Fn,{components:w,disabled:null!==e,options:y,value:l,label:S,onChange:g})})}),Object(Cn.jsx)(Zt.a,{children:Object(Cn.jsx)($r.a,{className:"mb-2",children:Object(Cn.jsx)(Jc,{children:null===l||void 0===l?void 0:l.description})})}),k,Object(Cn.jsx)(Zt.a,{hidden:void 0===(null===l||void 0===l?void 0:l.message),children:Object(Cn.jsx)($r.a,{children:Object(Cn.jsx)(Jc,{children:null===l||void 0===l?void 0:l.message})})})]})})})},Bi=function(){return Object(Cn.jsxs)(Dc,{title:"Providers - Bazarr (Settings)",children:[Object(Cn.jsx)(Yc,{header:"Providers",children:Object(Cn.jsx)(Vc,{children:Object(Cn.jsx)(Ti,{})})}),Object(Cn.jsx)(Mi,{})]})};var Ki=function(e){var t=e.type,n=function(e){return"sonarr"===e?"settings-general-path_mappings":"settings-general-path_mappings_movie"}(t),c=Hc(n,$.isArray),i=_c(function(e){return"sonarr"===e?Mc:Bc}(t),$.isBoolean),s=zc(),o=Object(r.useCallback)((function(e){s(e.map((function(e){return[e.from,e.to]})),n)}),[n,s]),l=Object(r.useCallback)((function(){if(c){var e=[].concat(Object(J.a)(c),[["",""]]);s(e,n)}}),[c,n,s]),u=Object(r.useMemo)((function(){var e;return null!==(e=null===c||void 0===c?void 0:c.map((function(e){return{from:e[0],to:e[1]}})))&&void 0!==e?e:[]}),[c]),d=Object(r.useMemo)((function(){return"sonarr"===t?function(e){return Mt.sonarr(e)}:function(e){return Mt.radarr(e)}}),[t]),j=Object(r.useCallback)((function(e,t){var n=Object(J.a)(u);t?n[e.index]=t:n.splice(e.index,1),o(n)}),[u,o]),b=Object(r.useMemo)((function(){return[{Header:Object($.capitalize)(t),accessor:"from",Cell:function(e){var t=e.value,n=e.row,r=e.externalUpdate;return Object(Cn.jsx)(zn,{drop:"up",defaultValue:t,load:d,onChange:function(e){var t=Object(O.a)({},n.original);t.from=e,r&&r(n,t)}})}},{id:"arrow",className:"text-center",Cell:function(){return Object(Cn.jsx)(yn.a,{icon:gn.b})}},{Header:"Bazarr",accessor:"to",Cell:function(e){var t=e.value,n=e.row,r=e.externalUpdate;return Object(Cn.jsx)(zn,{drop:"up",defaultValue:t,load:function(e){return Mt.bazarr(e)},onChange:function(e){var t=Object(O.a)({},n.original);t.to=e,r&&r(n,t)}})}},{id:"action",accessor:"to",Cell:function(e){var t=e.row,n=e.externalUpdate;return Object(Cn.jsx)($n,{icon:gn.Z,onClick:function(){n&&n(t)}})}}]}),[t,d]);return i?Object(Cn.jsxs)(a.a.Fragment,{children:[Object(Cn.jsx)(na,{emptyText:"No Mapping",responsive:!1,columns:b,data:u,externalUpdate:j}),Object(Cn.jsx)(Pn.a,{block:!0,variant:"light",onClick:l,children:"Add"})]}):Object(Cn.jsx)(Jc,{children:"Path Mappings will be available after staged changes are saved"})},Di=function(){var e=Object(r.useCallback)((function(e){var t,n;return null!==(t=null===(n=e.radarr.base_url)||void 0===n?void 0:n.slice(1))&&void 0!==t?t:""}),[]);return Object(Cn.jsx)(Dc,{title:"Radarr - Bazarr (Settings)",children:Object(Cn.jsxs)(qc,{children:[Object(Cn.jsx)(qc.Control,{children:Object(Cn.jsx)(Yc,{header:"Use Radarr",children:Object(Cn.jsx)(Vc,{children:Object(Cn.jsx)($c,{label:"Enabled",settingKey:Bc})})})}),Object(Cn.jsxs)(qc.Content,{indent:!1,children:[Object(Cn.jsxs)(Yc,{header:"Host",children:[Object(Cn.jsxs)(Vc,{name:"Address",children:[Object(Cn.jsx)(Zc,{settingKey:"settings-radarr-ip"}),Object(Cn.jsx)(Jc,{children:"Hostname or IPv4 Address"})]}),Object(Cn.jsx)(Vc,{name:"Port",children:Object(Cn.jsx)(Zc,{settingKey:"settings-radarr-port"})}),Object(Cn.jsx)(Vc,{name:"Base URL",children:Object(Cn.jsxs)(Sr.a,{children:[Object(Cn.jsx)(Sr.a.Prepend,{children:Object(Cn.jsx)(Sr.a.Text,{children:"/"})}),Object(Cn.jsx)(Zc,{settingKey:"settings-radarr-base_url",override:e,beforeStaged:function(e){return"/"+e}})]})}),Object(Cn.jsx)(Vc,{name:"API Key",children:Object(Cn.jsx)(Zc,{settingKey:"settings-radarr-apikey"})}),Object(Cn.jsx)(Vc,{children:Object(Cn.jsx)($c,{label:"SSL",settingKey:"settings-radarr-ssl"})}),Object(Cn.jsx)(Vc,{children:Object(Cn.jsx)(ci,{category:"radarr"})})]}),Object(Cn.jsxs)(Yc,{header:"Options",children:[Object(Cn.jsx)(Vc,{name:"Minimum Score",children:Object(Cn.jsx)(ni,{settingKey:"settings-general-minimum_score_movie"})}),Object(Cn.jsxs)(Vc,{name:"Excluded Tags",children:[Object(Cn.jsx)(ri,{settingKey:"settings-radarr-excluded_tags"}),Object(Cn.jsx)(Jc,{children:"Movies with those tags (case sensitive) in Radarr will be excluded from automatic download of subtitles."})]}),Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{label:"Download Only Monitored",settingKey:"settings-radarr-only_monitored"}),Object(Cn.jsx)(Jc,{children:"Automatic download of subtitles will only happen for monitored movies in Radarr."})]})]}),Object(Cn.jsx)(Yc,{header:"Path Mappings",children:Object(Cn.jsx)(Ki,{type:"radarr"})})]})]})})},Ri=[{label:"15 Minutes",value:15},{label:"1 Hour",value:60},{label:"3 Hours",value:180},{label:"6 Hours",value:360},{label:"12 Hours",value:720},{label:"24 Hours",value:1440}],zi=Ri,_i=Ri,Hi=[{label:"Manually",value:"Manually"},{label:"Daily",value:"Daily"},{label:"Weekly",value:"Weekly"}],Li=[{label:"Monday",value:0},{label:"Tuesday",value:1},{label:"Wednesday",value:2},{label:"Thursday",value:3},{label:"Friday",value:4},{label:"Saturday",value:5},{label:"Sunday",value:6}],Fi=[{label:"3 Hours",value:3},{label:"6 Hours",value:6},{label:"12 Hours",value:12},{label:"24 Hours",value:24}],Ui=function(){var e=Object(r.useMemo)((function(){return Array(24).fill(null).map((function(e,t){return{label:"".concat(t,":00"),value:t}}))}),[]);return Object(Cn.jsxs)(Dc,{title:"Scheduler - Bazarr (Settings)",children:[Object(Cn.jsxs)(Yc,{header:"Sonarr/Radarr Sync",children:[Object(Cn.jsx)(Vc,{name:"Update Series List from Sonarr",children:Object(Cn.jsx)(ti,{options:Ri,settingKey:"settings-sonarr-series_sync"})}),Object(Cn.jsx)(Vc,{name:"Update Episodes List from Sonarr",children:Object(Cn.jsx)(ti,{options:zi,settingKey:"settings-sonarr-episodes_sync"})}),Object(Cn.jsx)(Vc,{name:"Update Movies List from Radarr",children:Object(Cn.jsx)(ti,{options:_i,settingKey:"settings-radarr-movies_sync"})})]}),Object(Cn.jsxs)(Yc,{header:"Disk Indexing",children:[Object(Cn.jsxs)(qc,{children:[Object(Cn.jsx)(qc.Control,{children:Object(Cn.jsx)(Vc,{name:"Update all Episode Subtitles from Disk",children:Object(Cn.jsx)(ti,{settingKey:"settings-sonarr-full_update",options:Hi})})}),Object(Cn.jsx)(qc.Content,{on:function(e){return"Weekly"===e},children:Object(Cn.jsx)(Vc,{name:"Day of The Week",children:Object(Cn.jsx)(ti,{settingKey:"settings-sonarr-full_update_day",options:Li})})}),Object(Cn.jsx)(qc.Content,{on:function(e){return"Daily"===e||"Weekly"===e},children:Object(Cn.jsx)(Vc,{name:"Time of The Day",children:Object(Cn.jsx)(ti,{settingKey:"settings-sonarr-full_update_hour",options:e})})})]}),Object(Cn.jsxs)(qc,{children:[Object(Cn.jsx)(qc.Control,{children:Object(Cn.jsx)(Vc,{name:"Update all Movie Subtitles from Disk",children:Object(Cn.jsx)(ti,{settingKey:"settings-radarr-full_update",options:Hi})})}),Object(Cn.jsx)(qc.Content,{on:function(e){return"Weekly"===e},children:Object(Cn.jsx)(Vc,{name:"Day of The Week",children:Object(Cn.jsx)(ti,{settingKey:"settings-radarr-full_update_day",options:Li})})}),Object(Cn.jsx)(qc.Content,{on:function(e){return"Daily"===e||"Weekly"===e},children:Object(Cn.jsx)(Vc,{name:"Time of The Day",children:Object(Cn.jsx)(ti,{settingKey:"settings-radarr-full_update_hour",options:e})})})]})]}),Object(Cn.jsxs)(Yc,{header:"Search and Upgrade Subtitles",children:[Object(Cn.jsx)(Vc,{name:"Search for Missing Series Subtitles",children:Object(Cn.jsx)(ti,{settingKey:"settings-general-wanted_search_frequency",options:Fi})}),Object(Cn.jsx)(Vc,{name:"Search for Missing Movies Subtitles",children:Object(Cn.jsx)(ti,{options:Fi,settingKey:"settings-general-wanted_search_frequency_movie"})}),Object(Cn.jsx)(Vc,{name:"Upgrade Previously Downloaded Subtitles",children:Object(Cn.jsx)(ti,{options:Fi,settingKey:"settings-general-upgrade_frequency"})})]})]})},Gi=[{label:"Standard",value:"standard"},{label:"Anime",value:"anime"},{label:"Daily",value:"daily"}],qi=function(){var e=Object(r.useCallback)((function(e){var t,n;return null!==(t=null===(n=e.sonarr.base_url)||void 0===n?void 0:n.slice(1))&&void 0!==t?t:""}),[]);return Object(Cn.jsx)(Dc,{title:"Sonarr - Bazarr (Settings)",children:Object(Cn.jsxs)(qc,{children:[Object(Cn.jsx)(qc.Control,{children:Object(Cn.jsx)(Yc,{header:"Use Sonarr",children:Object(Cn.jsx)(Vc,{children:Object(Cn.jsx)($c,{label:"Enabled",settingKey:Mc})})})}),Object(Cn.jsxs)(qc.Content,{indent:!1,children:[Object(Cn.jsxs)(Yc,{header:"Host",children:[Object(Cn.jsxs)(Vc,{name:"Address",children:[Object(Cn.jsx)(Zc,{settingKey:"settings-sonarr-ip"}),Object(Cn.jsx)(Jc,{children:"Hostname or IPv4 Address"})]}),Object(Cn.jsx)(Vc,{name:"Port",children:Object(Cn.jsx)(Zc,{settingKey:"settings-sonarr-port"})}),Object(Cn.jsx)(Vc,{name:"Base URL",children:Object(Cn.jsxs)(Sr.a,{children:[Object(Cn.jsx)(Sr.a.Prepend,{children:Object(Cn.jsx)(Sr.a.Text,{children:"/"})}),Object(Cn.jsx)(Zc,{settingKey:"settings-sonarr-base_url",override:e,beforeStaged:function(e){return"/"+e}})]})}),Object(Cn.jsx)(Vc,{name:"API Key",children:Object(Cn.jsx)(Zc,{settingKey:"settings-sonarr-apikey"})}),Object(Cn.jsx)(Vc,{children:Object(Cn.jsx)($c,{label:"SSL",settingKey:"settings-sonarr-ssl"})}),Object(Cn.jsx)(Vc,{children:Object(Cn.jsx)(ci,{category:"sonarr"})})]}),Object(Cn.jsxs)(Yc,{header:"Options",children:[Object(Cn.jsx)(Vc,{name:"Minimum Score",children:Object(Cn.jsx)(ni,{settingKey:"settings-general-minimum_score"})}),Object(Cn.jsxs)(Vc,{name:"Excluded Tags",children:[Object(Cn.jsx)(ri,{settingKey:"settings-sonarr-excluded_tags"}),Object(Cn.jsx)(Jc,{children:"Episodes from series with those tags (case sensitive) in Sonarr will be excluded from automatic download of subtitles."})]}),Object(Cn.jsxs)(Vc,{name:"Excluded Series Types",children:[Object(Cn.jsx)(ti,{settingKey:"settings-sonarr-excluded_series_types",multiple:!0,options:Gi}),Object(Cn.jsx)(Jc,{children:"Episodes from series with those types in Sonarr will be excluded from automatic download of subtitles."})]}),Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{label:"Download Only Monitored",settingKey:"settings-sonarr-only_monitored"}),Object(Cn.jsx)(Jc,{children:"Automatic download of subtitles will only happen for monitored episodes in Sonarr."})]})]}),Object(Cn.jsx)(Yc,{header:"Path Mappings",children:Object(Cn.jsx)(Ki,{type:"sonarr"})})]})]})})},Wi=[{label:"AlongSide Media File",value:"current"},{label:"Relative Path to Media File",value:"relative"},{label:"Absolute Path",value:"absolute"}],Yi=[{label:"Anti-Captcha",value:"anti-captcha"},{label:"Death by Captcha",value:"death-by-captcha"}];function Vi(e){return"color(name=".concat(e,")")}var Qi=[{label:"White",value:Vi("white")},{label:"Light Gray",value:Vi("lightgray")},{label:"Red",value:Vi("red")},{label:"Green",value:Vi("green")},{label:"Yellow",value:Vi("yellow")},{label:"Blue",value:Vi("blue")},{label:"Magenta",value:Vi("magenta")},{label:"Cyan",value:Vi("cyan")},{label:"Black",value:Vi("black")},{label:"Dark Red",value:Vi("darkred")},{label:"Dark Green",value:Vi("darkgreen")},{label:"Dark Yellow",value:Vi("darkyellow")},{label:"Dark Blue",value:Vi("darkblue")},{label:"Dark Magenta",value:Vi("darkmagenta")},{label:"Dark Cyan",value:Vi("darkcyan")},{label:"Dark Grey",value:Vi("darkgrey")}],Xi=function(e){return function(t){var n,r;return null!==(n=null===(r=t.general.subzero_mods)||void 0===r?void 0:r.includes(e))&&void 0!==n&&n}},Ji=function(e){var t,n;return null!==(t=null===(n=e.general.subzero_mods)||void 0===n?void 0:n.find((function(e){return e.startsWith("color")})))&&void 0!==t?t:null},Zi=function(){return Object(Cn.jsxs)(Dc,{title:"Subtitles - Bazarr (Settings)",children:[Object(Cn.jsxs)(Yc,{header:"Subtitles Options",children:[Object(Cn.jsxs)(qc,{children:[Object(Cn.jsx)(qc.Control,{children:Object(Cn.jsxs)(Vc,{name:"Subtitle Folder",children:[Object(Cn.jsx)(ti,{options:Wi,settingKey:"settings-general-subfolder"}),Object(Cn.jsx)(Jc,{children:"Choose the folder you wish to store/read the subtitles"})]})}),Object(Cn.jsx)(qc.Content,{on:function(e){return""!==e&&"current"!==e},children:Object(Cn.jsx)(Vc,{name:"Custom Subtitles Folder",children:Object(Cn.jsx)(Zc,{settingKey:"settings-general-subfolder_custom"})})})]}),Object(Cn.jsxs)(qc,{children:[Object(Cn.jsx)(qc.Control,{children:Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{label:"Upgrade Previously Downloaded Subtitles",settingKey:"settings-general-upgrade_subs"}),Object(Cn.jsx)(Jc,{children:"Schedule a task to upgrade subtitles previously downloaded by Bazarr."})]})}),Object(Cn.jsxs)(qc.Content,{children:[Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)(ni,{settingKey:"settings-general-days_to_upgrade_subs",max:30}),Object(Cn.jsx)(Jc,{children:"Number of days to go back in history to upgrade subtitles"})]}),Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{label:"Upgrade Manually Downloaded or Translated Subtitles",settingKey:"settings-general-upgrade_manual"}),Object(Cn.jsx)(Jc,{children:"Enable or disable upgrade of manually downloaded or translated subtitles."})]})]})]})]}),Object(Cn.jsx)(Yc,{header:"Anti-Captcha Options",children:Object(Cn.jsxs)(qc,{children:[Object(Cn.jsx)(qc.Control,{children:Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)(ti,{clearable:!0,settingKey:"settings-general-anti_captcha_provider",beforeStaged:function(e){return void 0===e?"None":e},options:Yi}),Object(Cn.jsx)(Jc,{children:"Choose the anti-captcha provider you want to use"})]})}),Object(Cn.jsxs)(qc.Content,{eventKey:"anti-captcha",children:[Object(Cn.jsx)(Vc,{children:Object(Cn.jsx)("a",{href:"http://getcaptchasolution.com/eixxo1rsnw",children:"Anti-Captcha.com"})}),Object(Cn.jsx)(Vc,{name:"Account Key",children:Object(Cn.jsx)(Zc,{settingKey:"settings-anticaptcha-anti_captcha_key"})})]}),Object(Cn.jsxs)(qc.Content,{eventKey:"death-by-captcha",children:[Object(Cn.jsx)(Vc,{children:Object(Cn.jsx)("a",{href:"https://www.deathbycaptcha.com",children:"DeathByCaptcha.com"})}),Object(Cn.jsx)(Vc,{name:"Username",children:Object(Cn.jsx)(Zc,{settingKey:"settings-deathbycaptcha-username"})}),Object(Cn.jsx)(Vc,{name:"Password",children:Object(Cn.jsx)(Zc,{password:!0,settingKey:"settings-deathbycaptcha-password"})})]})]})}),Object(Cn.jsxs)(Yc,{header:"Performance / Optimization",children:[Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{label:"Adaptive Searching",settingKey:"settings-general-adaptive_searching"}),Object(Cn.jsx)(Jc,{children:"When searching for subtitles, Bazarr will search less frequently to limit call to providers."})]}),Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{label:"Search Enabled Providers Simultaneously",settingKey:"settings-general-multithreading"}),Object(Cn.jsx)(Jc,{children:"Search multiple providers at once (Don't choose this on low powered devices)"})]}),Object(Cn.jsxs)(qc,{children:[Object(Cn.jsx)(qc.Control,{children:Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{label:"Use Embedded Subtitles",settingKey:"settings-general-use_embedded_subs"}),Object(Cn.jsx)(Jc,{children:"Use embedded subtitles in media files when determining missing ones."})]})}),Object(Cn.jsxs)(qc.Content,{children:[Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{label:"Ignore Embedded PGS Subtitles",settingKey:"settings-general-ignore_pgs_subs"}),Object(Cn.jsx)(Jc,{children:"Ignores PGS Subtitles in Embedded Subtitles detection."})]}),Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{label:"Ignore Embedded VobSub Subtitles",settingKey:"settings-general-ignore_vobsub_subs"}),Object(Cn.jsx)(Jc,{children:"Ignores VobSub Subtitles in Embedded Subtitles detection."})]}),Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{label:"Ignore Embedded ASS Subtitles",settingKey:"settings-general-ignore_ass_subs"}),Object(Cn.jsx)(Jc,{children:"Ignores ASS Subtitles in Embedded Subtitles detection."})]}),Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{label:"Show Only Desired Languages",settingKey:"settings-general-embedded_subs_show_desired"}),Object(Cn.jsx)(Jc,{children:"Hide embedded subtitles for languages that are not currently desired."})]})]})]})]}),Object(Cn.jsxs)(Yc,{header:"Post-Processing",children:[Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{label:"Encode Subtitles To UTF8",settingKey:"settings-general-utf8_encode"}),Object(Cn.jsx)(Jc,{children:"Re-encode downloaded Subtitles to UTF8. Should be left enabled in most case."})]}),Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{label:"Hearing Impaired",override:Xi("remove_HI"),settingKey:"subzero-remove_HI"}),Object(Cn.jsx)(Jc,{children:"Removes tags, text and characters from subtitles that are meant for hearing impaired people."})]}),Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{label:"Remove Tags",override:Xi("remove_tags"),settingKey:"subzero-remove_tags"}),Object(Cn.jsx)(Jc,{children:"Removes all possible style tags from the subtitle, such as font, bold, color etc."})]}),Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{label:"OCR Fixes",override:Xi("OCR_fixes"),settingKey:"subzero-OCR_fixes"}),Object(Cn.jsx)(Jc,{children:"Fix issues that happen when a subtitle gets converted from bitmap to text through OCR."})]}),Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{label:"Common Fixes",override:Xi("common"),settingKey:"subzero-common"}),Object(Cn.jsx)(Jc,{children:"Fix common and whitespace/punctuation issues in subtitles."})]}),Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{label:"Fix Uppercase",override:Xi("fix_uppercase"),settingKey:"subzero-fix_uppercase"}),Object(Cn.jsx)(Jc,{children:"Tries to make subtitles that are completely uppercase readable."})]}),Object(Cn.jsxs)(Vc,{name:"Color",children:[Object(Cn.jsx)(ti,{clearable:!0,options:Qi,override:Ji,settingKey:"subzero-color"}),Object(Cn.jsx)(Jc,{children:"Adds color to your subtitles (for playback devices/software that don't ship their own color modes; only works for players that support color tags)."})]}),Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{label:"Reverse RTL",override:Xi("reverse_rtl"),settingKey:"subzero-reverse_rtl"}),Object(Cn.jsx)(Jc,{children:"Reverses the punctuation in right-to-left subtitles for problematic playback devices."})]}),Object(Cn.jsxs)(qc,{children:[Object(Cn.jsx)(qc.Control,{children:Object(Cn.jsx)(Vc,{children:Object(Cn.jsx)($c,{label:"Permission (chmod)",settingKey:"settings-general-chmod_enabled"})})}),Object(Cn.jsx)(qc.Content,{children:Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)(Zc,{placeholder:"0777",settingKey:"settings-general-chmod"}),Object(Cn.jsx)(Jc,{children:"Must be 4 digit octal"})]})})]}),Object(Cn.jsxs)(qc,{children:[Object(Cn.jsx)(qc.Control,{children:Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{label:"Automatic Subtitles Synchronization",settingKey:"settings-subsync-use_subsync"}),Object(Cn.jsx)(Jc,{children:"Enable the automatic subtitles synchronization after downloading a subtitles."})]})}),Object(Cn.jsxs)(qc.Content,{children:[Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{label:"Debug",settingKey:"settings-subsync-debug"}),Object(Cn.jsx)(Jc,{children:"Do not actually sync the subtitles but generate a .tar.gz file to be able to open an issue for ffsubsync. This file will reside alongside the media file."})]}),Object(Cn.jsxs)(qc,{children:[Object(Cn.jsx)(qc.Control,{children:Object(Cn.jsx)(Vc,{children:Object(Cn.jsx)($c,{label:"Series Score Threshold",settingKey:"settings-subsync-use_subsync_threshold"})})}),Object(Cn.jsx)(qc.Content,{indent:!1,children:Object(Cn.jsx)(Vc,{children:Object(Cn.jsx)(ni,{settingKey:"settings-subsync-subsync_threshold"})})})]}),Object(Cn.jsxs)(qc,{children:[Object(Cn.jsx)(qc.Control,{children:Object(Cn.jsx)(Vc,{children:Object(Cn.jsx)($c,{label:"Movies Score Threshold",settingKey:"settings-subsync-use_subsync_movie_threshold"})})}),Object(Cn.jsx)(qc.Content,{indent:!1,children:Object(Cn.jsx)(Vc,{children:Object(Cn.jsx)(ni,{settingKey:"settings-subsync-subsync_movie_threshold"})})})]})]})]}),Object(Cn.jsxs)(qc,{children:[Object(Cn.jsx)(qc.Control,{children:Object(Cn.jsxs)(Vc,{children:[Object(Cn.jsx)($c,{settingKey:"settings-general-use_postprocessing",label:"Custom Post-Processing"}),Object(Cn.jsx)(Jc,{children:"Enable the post-processing execution after downloading a subtitles."})]})}),Object(Cn.jsxs)(qc.Content,{children:[Object(Cn.jsxs)(qc,{children:[Object(Cn.jsx)(qc.Control,{children:Object(Cn.jsx)(Vc,{children:Object(Cn.jsx)($c,{settingKey:"settings-general-use_postprocessing_threshold",label:"Series Score Threshold"})})}),Object(Cn.jsx)(qc.Content,{indent:!1,children:Object(Cn.jsx)(Vc,{children:Object(Cn.jsx)(ni,{settingKey:"settings-general-postprocessing_threshold"})})})]}),Object(Cn.jsxs)(qc,{children:[Object(Cn.jsx)(qc.Control,{children:Object(Cn.jsx)(Vc,{children:Object(Cn.jsx)($c,{settingKey:"settings-general-use_postprocessing_threshold_movie",label:"Movies Score Threshold"})})}),Object(Cn.jsx)(qc.Content,{indent:!1,children:Object(Cn.jsx)(Vc,{children:Object(Cn.jsx)(ni,{settingKey:"settings-general-postprocessing_threshold_movie"})})})]}),Object(Cn.jsx)(Vc,{name:"Command",children:Object(Cn.jsx)(Zc,{settingKey:"settings-general-postprocessing_cmd"})}),Object(Cn.jsx)(Jc,{children:"Variables you can use in your command"}),Object(Cn.jsxs)(Jc,{children:[Object(Cn.jsx)("b",{children:"{{directory}}"})," Full path of the episode file parent directory"]}),Object(Cn.jsxs)(Jc,{children:[Object(Cn.jsx)("b",{children:"{{episode}}"})," Full path of the episode file"]}),Object(Cn.jsxs)(Jc,{children:[Object(Cn.jsx)("b",{children:"{{episode_name}}"})," Filename of the episode without parent directory or extension"]}),Object(Cn.jsxs)(Jc,{children:[Object(Cn.jsx)("b",{children:"{{subtitles}}"})," Full path of the subtitles file"]}),Object(Cn.jsxs)(Jc,{children:[Object(Cn.jsx)("b",{children:"{{subtitles_language}}"})," Language of the subtitles file"]}),Object(Cn.jsxs)(Jc,{children:[Object(Cn.jsx)("b",{children:"{{subtitles_language_code2}}"})," 2-letter ISO-639 language code of the subtitles language"]}),Object(Cn.jsxs)(Jc,{children:[Object(Cn.jsx)("b",{children:"{{subtitles_language_code3}}"})," 3-letter ISO-639 language code of the subtitles language"]}),Object(Cn.jsxs)(Jc,{children:[Object(Cn.jsx)("b",{children:"{{episode_language}}"})," Audio language of the episode file"]}),Object(Cn.jsxs)(Jc,{children:[Object(Cn.jsx)("b",{children:"{{episode_language_code2}}"})," 2-letter ISO-639 language code of the episode audio language"]}),Object(Cn.jsxs)(Jc,{children:[Object(Cn.jsx)("b",{children:"{{episode_language_code3}}"})," 3-letter ISO-639 language code of the episode audio language"]}),Object(Cn.jsxs)(Jc,{children:[Object(Cn.jsx)("b",{children:"{{score}}"})," Score of the subtitle file"]}),Object(Cn.jsxs)(Jc,{children:[Object(Cn.jsx)("b",{children:"{{subtitle_id}}"})," Provider ID of the subtitle file"]}),Object(Cn.jsxs)(Jc,{children:[Object(Cn.jsx)("b",{children:"{{series_id}}"})," Sonarr series ID (Empty if movie)"]}),Object(Cn.jsxs)(Jc,{children:[Object(Cn.jsx)("b",{children:"{{episode_id}}"})," Sonarr episode ID or Radarr movie ID"]})]})]})]})]})},$i=[{label:"25",value:25},{label:"50",value:50},{label:"100",value:100},{label:"250",value:250},{label:"500",value:500},{label:"1000",value:1e3}],es=function(){return Object(Cn.jsx)(Dc,{title:"Interface - Bazarr (Settings)",children:Object(Cn.jsx)(Yc,{header:"UI",children:Object(Cn.jsx)(Vc,{name:"Page Size",children:Object(Cn.jsx)(ti,{options:$i,settingKey:le,override:function(e,t){return t.site.pageSize}})})})})},ts=function(){var e=en(Xe);return Object(r.useEffect)((function(){return e}),[e]),vn("Settings"),Object(Cn.jsxs)(o.e,{children:[Object(Cn.jsx)(o.c,{exact:!0,path:"/settings",children:Object(Cn.jsx)(o.b,{exact:!0,to:"/settings/general"})}),Object(Cn.jsx)(o.c,{exact:!0,path:"/settings/general",children:Object(Cn.jsx)(ji,{})}),Object(Cn.jsx)(o.c,{exact:!0,path:"/settings/ui",children:Object(Cn.jsx)(es,{})}),Object(Cn.jsx)(o.c,{exact:!0,path:"/settings/sonarr",children:Object(Cn.jsx)(qi,{})}),Object(Cn.jsx)(o.c,{exact:!0,path:"/settings/radarr",children:Object(Cn.jsx)(Di,{})}),Object(Cn.jsx)(o.c,{exact:!0,path:"/settings/languages",children:Object(Cn.jsx)(wi,{})}),Object(Cn.jsx)(o.c,{exact:!0,path:"/settings/subtitles",children:Object(Cn.jsx)(Zi,{})}),Object(Cn.jsx)(o.c,{exact:!0,path:"/settings/scheduler",children:Object(Cn.jsx)(Ui,{})}),Object(Cn.jsx)(o.c,{exact:!0,path:"/settings/providers",children:Object(Cn.jsx)(Bi,{})}),Object(Cn.jsx)(o.c,{exact:!0,path:"/settings/notifications",children:Object(Cn.jsx)(Ni,{})}),Object(Cn.jsx)(o.c,{path:"/settings/*",children:Object(Cn.jsx)(o.b,{to:za})})]})},ns=function(e){var t=Object.assign({},e),n=hr(t.modalKey),a=Object(r.useMemo)((function(){return null===n||void 0===n?void 0:n.split("\\n").map((function(e,t){return Object(Cn.jsx)("p",{className:"text-nowrap my-1",children:e},t)}))}),[n]);return Object(Cn.jsx)(pr,Object(O.a)(Object(O.a)({title:"Stack traceback"},t),{},{children:Object(Cn.jsx)("pre",{children:Object(Cn.jsx)("code",{className:"zmdi-language-python-alt",children:a})})}))};function rs(e){switch(e){case"DEBUG":return gn.n;case"ERROR":return gn.f;case"INFO":return gn.A;case"WARNING":return gn.s;default:return gn.N}}var as=function(e){var t=e.logs,n=ur(),c=Object(r.useCallback)((function(e,t){return n("system-log",t)}),[n]),i=Object(r.useMemo)((function(){return[{accessor:"type",Cell:function(e){return Object(Cn.jsx)(yn.a,{icon:rs(e.value)})}},{Header:"Message",accessor:"message"},{Header:"Date",accessor:"timestamp",className:"text-nowrap"},{accessor:"exception",Cell:function(e){var t=e.row,n=e.value,r=e.externalUpdate;return Object($.isUndefined)(n)?null:Object(Cn.jsx)($n,{icon:gn.D,onClick:function(){return r&&r(t,n)}})}}]}),[]);return Object(Cn.jsxs)(a.a.Fragment,{children:[Object(Cn.jsx)(oa,{columns:i,data:t,externalUpdate:c}),Object(Cn.jsx)(ns,{size:"xl",modalKey:"system-log"})]})},cs=function(){var e=function(){var e=$t((function(e){return e.system.logs})),t=en(Ve);return Object(r.useEffect)((function(){t()}),[t]),rn(e,t)}(),t=Object(Z.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),i=Object(Z.a)(c,2),s=i[0],o=i[1],l=bt(!0),u=Object(r.useCallback)((function(){window.open("".concat(l,"bazarr.log"))}),[l]);return Object(Cn.jsx)(Yn,{state:n,children:function(e){var t=e.data;return Object(Cn.jsxs)(Nn.a,{fluid:!0,children:[Object(Cn.jsx)(Ha.a,{children:Object(Cn.jsx)("title",{children:"Logs - Bazarr (System)"})}),Object(Cn.jsxs)(ar,{children:[Object(Cn.jsx)(ar.Button,{updating:n.updating,icon:gn.U,onClick:a,children:"Refresh"}),Object(Cn.jsx)(ar.Button,{icon:gn.q,onClick:u,children:"Download"}),Object(Cn.jsx)(ar.Button,{updating:s,icon:gn.Z,onClick:function(){o(!0),_t.deleteLogs().finally((function(){o(!1),a()}))},children:"Empty"})]}),Object(Cn.jsx)(Zt.a,{children:Object(Cn.jsx)(as,{logs:t})})]})}})},is=function(e){var t=Object(r.useMemo)((function(){return[{Header:"Name",accessor:"name"},{Header:"Status",accessor:"status"},{Header:"Next Retry",accessor:"retry"}]}),[]);return Object(Cn.jsx)(na,{columns:t,data:e.providers})},ss=function(){var e=cn(),t=Object(Z.a)(e,2),n=t[0],r=t[1];return Object(Cn.jsx)(Yn,{state:n,children:function(e){var t=e.data;return Object(Cn.jsxs)(Nn.a,{fluid:!0,children:[Object(Cn.jsx)(Ha.a,{children:Object(Cn.jsx)("title",{children:"Providers - Bazarr (System)"})}),Object(Cn.jsxs)(ar,{children:[Object(Cn.jsx)(ar.Button,{updating:n.updating,icon:gn.U,onClick:r,children:"Refresh"}),Object(Cn.jsx)(ar.AsyncButton,{icon:gn.Z,promise:function(){return Dt.reset()},onSuccess:r,children:"Reset"})]}),Object(Cn.jsx)(Zt.a,{children:Object(Cn.jsx)(is,{providers:t})})]})}})},os="mr-2",ls=function(e){var t=e.name,n=e.body,a=e.date,c=e.prerelease,i=e.current,s=Object(r.useMemo)((function(){return n.map((function(e){return e.replace(/(\s\[.*?\])\(.*?\)/,"")}))}),[n]);return Object(Cn.jsxs)(Wc.a,{className:"mb-4 mx-3 d-flex flex-grow-1",children:[Object(Cn.jsxs)(Wc.a.Header,{children:[Object(Cn.jsx)("span",{className:os,children:t}),Object(Cn.jsx)(Jn.a,{className:os,variant:"info",children:a}),Object(Cn.jsx)(Jn.a,{className:os,variant:c?"danger":"success",children:c?"Development":"Master"}),Object(Cn.jsx)(Jn.a,{className:os,hidden:!i,variant:"primary",children:"Installed"})]}),Object(Cn.jsx)(Wc.a.Body,{children:Object(Cn.jsxs)(Wc.a.Text,{children:["From newest to oldest:",s.map((function(e,t){return Object(Cn.jsx)("li",{children:e},t)}))]})})]})},us=function(){var e=function(){var e=$t((function(e){return e.system.releases})),t=en(Qe);return Object(r.useEffect)((function(){t()}),[t]),rn(e,t)}(),t=Object(Z.a)(e,1)[0];return Object(Cn.jsx)(Yn,{state:t,children:function(e){var t=e.data;return Object(Cn.jsxs)(Nn.a,{fluid:!0,className:"px-5 py-4 bg-light",children:[Object(Cn.jsx)(Ha.a,{children:Object(Cn.jsx)("title",{children:"Releases - Bazarr (System)"})}),Object(Cn.jsx)(Zt.a,{children:t.map((function(e,t){return Object(Cn.jsx)($r.a,{xs:12,children:Object(Cn.jsx)(ls,Object(O.a)({},e))},gt(t,e.date))}))})]})}})},ds=n(189),js=function(e){var t=Object(r.useMemo)((function(){return[{Header:"Object",accessor:"object"},{Header:"Issue",accessor:"issue"}]}),[]);return Object(Cn.jsx)(na,{columns:t,data:e.health})};function bs(e){var t=e.title,n=e.children;return Object(Cn.jsxs)(Zt.a,{children:[Object(Cn.jsx)($r.a,{sm:4,children:Object(Cn.jsx)("b",{children:t})}),Object(Cn.jsx)($r.a,{children:n})]})}function hs(e){var t=e.icon,n=e.link,r=e.children;return Object(Cn.jsxs)(a.a.Fragment,{children:[Object(Cn.jsx)(yn.a,{icon:t,style:{width:"2rem"}}),Object(Cn.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:r})]})}var Os=function(e){var t=e.title,n=e.children;return Object(Cn.jsxs)(Nn.a,{className:"py-3",children:[Object(Cn.jsx)("h4",{children:t}),Object(Cn.jsx)("hr",{}),n]})},fs=function(){var e,t=function(){var e=en(We),t=$t((function(e){return e.system.health}));return Object(r.useEffect)((function(){e()}),[e]),rn(t,e)}(),n=Object(Z.a)(t,1)[0],a=function(){var e=$t((function(e){return e.system.status.data})),t=en(qe);return Object(r.useEffect)((function(){t()}),[t]),rn(e,t)}(),c=Object(Z.a)(a,1)[0];return e=n.data.length?Object(Cn.jsx)(Yn,{state:n,children:function(e){var t=e.data;return Object(Cn.jsx)(js,{health:t})}}):"No issues with your configuration",Object(Cn.jsxs)(Nn.a,{className:"p-5",children:[Object(Cn.jsx)(Ha.a,{children:Object(Cn.jsx)("title",{children:"Status - Bazarr (System)"})}),Object(Cn.jsx)(Zt.a,{children:Object(Cn.jsx)(Os,{title:"Health",children:e})}),Object(Cn.jsx)(Zt.a,{children:Object(Cn.jsxs)(Os,{title:"About",children:[Object(Cn.jsx)(bs,{title:"Bazarr Version",children:Object(Cn.jsx)("span",{children:null===c||void 0===c?void 0:c.bazarr_version})}),Object(Cn.jsx)(bs,{title:"Sonarr Version",children:Object(Cn.jsx)("span",{children:null===c||void 0===c?void 0:c.sonarr_version})}),Object(Cn.jsx)(bs,{title:"Radarr Version",children:Object(Cn.jsx)("span",{children:null===c||void 0===c?void 0:c.radarr_version})}),Object(Cn.jsx)(bs,{title:"Operating System",children:Object(Cn.jsx)("span",{children:null===c||void 0===c?void 0:c.operating_system})}),Object(Cn.jsx)(bs,{title:"Python Version",children:Object(Cn.jsx)("span",{children:null===c||void 0===c?void 0:c.python_version})}),Object(Cn.jsx)(bs,{title:"Bazarr Directory",children:Object(Cn.jsx)("span",{children:null===c||void 0===c?void 0:c.bazarr_directory})}),Object(Cn.jsx)(bs,{title:"Bazarr Config Directory",children:Object(Cn.jsx)("span",{children:null===c||void 0===c?void 0:c.bazarr_config_directory})})]})}),Object(Cn.jsx)(Zt.a,{children:Object(Cn.jsxs)(Os,{title:"More Info",children:[Object(Cn.jsx)(bs,{title:"Home Page",children:Object(Cn.jsx)(hs,{icon:gn.K,link:"https://www.bazarr.media/",children:"Bazarr Website"})}),Object(Cn.jsx)(bs,{title:"Source",children:Object(Cn.jsx)(hs,{icon:ds.b,link:Pa,children:"Bazarr on Github"})}),Object(Cn.jsx)(bs,{title:"Wiki",children:Object(Cn.jsx)(hs,{icon:ds.c,link:"https://wiki.bazarr.media",children:"Bazarr Wiki"})}),Object(Cn.jsx)(bs,{title:"Discord",children:Object(Cn.jsx)(hs,{icon:ds.a,link:"https://discord.gg/MH2e2eb",children:"Bazarr on Discord"})})]})})]})},ps=function(e){var t=e.tasks,n=Object(r.useMemo)((function(){return[{Header:"Name",accessor:"name",className:"text-nowrap"},{Header:"Interval",accessor:"interval",className:"text-nowrap"},{Header:"Next Execution",accessor:"next_run_in",className:"text-nowrap"},{accessor:"job_running",Cell:function(e){var t=e.row.original.job_id;return Object(Cn.jsx)(Xn,{promise:function(){return _t.runTask(t)},variant:"light",size:"sm",disabled:e.value,animation:!1,children:Object(Cn.jsx)(yn.a,{icon:gn.U,spin:e.value})})}}]}),[]);return Object(Cn.jsx)(na,{columns:n,data:t})},xs=function(){var e=function(){var e=$t((function(e){return e.system.tasks})),t=en(Ye);return tn("task",t),Object(r.useEffect)((function(){t()}),[t]),rn(e,t)}(),t=Object(Z.a)(e,2),n=t[0],a=t[1];return Object(Cn.jsx)(Yn,{state:n,children:function(e){var t=e.data;return Object(Cn.jsxs)(Nn.a,{fluid:!0,children:[Object(Cn.jsx)(Ha.a,{children:Object(Cn.jsx)("title",{children:"Tasks - Bazarr (System)"})}),Object(Cn.jsx)(ar,{children:Object(Cn.jsx)(ar.Button,{updating:n.updating,icon:gn.U,onClick:a,children:"Refresh"})}),Object(Cn.jsx)(Zt.a,{children:Object(Cn.jsx)(ps,{tasks:t})})]})}})},vs=function(){return vn("System"),Object(Cn.jsxs)(o.e,{children:[Object(Cn.jsx)(o.c,{exact:!0,path:"/system/tasks",children:Object(Cn.jsx)(xs,{})}),Object(Cn.jsx)(o.c,{exact:!0,path:"/system/status",children:Object(Cn.jsx)(fs,{})}),Object(Cn.jsx)(o.c,{exact:!0,path:"/system/providers",children:Object(Cn.jsx)(ss,{})}),Object(Cn.jsx)(o.c,{exact:!0,path:"/system/logs",children:Object(Cn.jsx)(cs,{})}),Object(Cn.jsx)(o.c,{exact:!0,path:"/system/releases",children:Object(Cn.jsx)(us,{})}),Object(Cn.jsx)(o.c,{path:"/system/*",children:Object(Cn.jsx)(o.b,{to:za})})]})};var ms=function(e){var t=e.type,n=e.columns,r=e.state,a=e.loader,c=e.searchAll,i=Object($.capitalize)(t),s=Object.keys(r.data.items).length;return Object(Cn.jsxs)(Nn.a,{fluid:!0,children:[Object(Cn.jsx)(Ha.a,{children:Object(Cn.jsxs)("title",{children:["Wanted ",i," - Bazarr"]})}),Object(Cn.jsx)(ar,{children:Object(Cn.jsx)(ar.AsyncButton,{disabled:0===s,promise:c,icon:gn.R,children:"Search All"})}),Object(Cn.jsx)(Zt.a,{children:Object(Cn.jsx)(ta,{aos:r,loader:a,emptyText:"No Missing ".concat(i," Subtitles"),columns:n,data:[]})})]})},gs=function(){var e=function(){var e=en(Se),t=$t((function(e){return e.movie.wantedMovieList}));return tn("movie-wanted",void 0,nn(e),en(Ce)),rn(t,e)}(),t=Object(Z.a)(e,1)[0],n=en(Ne),a=Object(r.useCallback)((function(){return Kt.action({action:"search-wanted"})}),[]),c=Object(r.useMemo)((function(){return[{Header:"Name",accessor:"title",Cell:function(e){var t="/movies/".concat(e.row.original.radarrId);return Object(Cn.jsx)(l.b,{to:t,children:Object(Cn.jsx)("span",{children:e.value})})}},{Header:"Missing",accessor:"missing_subtitles",Cell:function(e){var t=e.row,n=e.value,r=e.externalUpdate,a=t.original,c=a.hearing_impaired,i=a.radarrId;return n.map((function(e,n){return Object(Cn.jsxs)(Xn,{as:Jn.a,className:"mx-1 mr-2",variant:"secondary",promise:function(){return Kt.downloadSubtitles(i,{language:e.code2,hi:c,forced:!1})},onSuccess:function(){return r&&r(t,i)},children:[Object(Cn.jsx)(ja,{className:"pr-1",text:e}),Object(Cn.jsx)(yn.a,{size:"sm",icon:gn.R})]},gt(n,e.code2))}))}}]}),[]);return Object(Cn.jsx)(ms,{type:"movies",columns:c,state:t,loader:n,searchAll:a})},ys=function(){var e=function(){var e=en(Ae),t=$t((function(e){return e.series.wantedEpisodesList}));return tn("episode-wanted",void 0,nn(e),en(Te)),rn(t,e)}(),t=Object(Z.a)(e,1)[0],n=en(Me),a=Object(r.useCallback)((function(){return Rt.action({action:"search-wanted"})}),[]),c=Object(r.useMemo)((function(){return[{Header:"Name",accessor:"seriesTitle",Cell:function(e){var t="/series/".concat(e.row.original.sonarrSeriesId);return Object(Cn.jsx)(l.b,{to:t,children:Object(Cn.jsx)("span",{children:e.value})})}},{Header:"Episode",accessor:"episode_number"},{accessor:"episodeTitle"},{Header:"Missing",accessor:"missing_subtitles",Cell:function(e){var t=e.row,n=e.externalUpdate,r=e.value,a=t.original,c=a.hearing_impaired,i=a.sonarrSeriesId,s=a.sonarrEpisodeId;return r.map((function(e,r){return Object(Cn.jsxs)(Xn,{as:Jn.a,className:"mx-1 mr-2",variant:"secondary",promise:function(){return Tt.downloadSubtitles(i,s,{language:e.code2,hi:c,forced:!1})},onSuccess:function(){return n&&n(t,s)},children:[Object(Cn.jsx)(ja,{className:"pr-1",text:e}),Object(Cn.jsx)(yn.a,{size:"sm",icon:gn.R})]},gt(r,e.code2))}))}}]}),[]);return Object(Cn.jsx)(ms,{type:"series",columns:c,state:t,loader:n,searchAll:a})},ks=function(){var e=fn(),t=pn();return vn("Wanted"),Object(Cn.jsxs)(o.e,{children:[e&&Object(Cn.jsx)(o.c,{exact:!0,path:"/wanted/series",children:Object(Cn.jsx)(ys,{})}),t&&Object(Cn.jsx)(o.c,{exact:!0,path:"/wanted/movies",children:Object(Cn.jsx)(gs,{})}),Object(Cn.jsx)(o.c,{path:"/wanted/*",children:Object(Cn.jsx)(o.b,{to:za})})]})},ws=function(e){var t=e.className,n=fn(),a=pn(),c=Object(r.useMemo)((function(){return n?"/series":a?"/movies":"/settings"}),[n,a]),i=Object(o.h)();return Object(r.useEffect)((function(){kt()}),[i.location]),Object(Cn.jsx)("div",{className:t,children:Object(Cn.jsxs)(o.e,{children:[Object(Cn.jsx)(o.c,{exact:!0,path:"/",children:Object(Cn.jsx)(o.b,{exact:!0,to:c})}),n&&Object(Cn.jsx)(o.c,{path:"/series",children:Object(Cn.jsx)(Pc,{})}),a&&Object(Cn.jsx)(o.c,{path:"/movies",children:Object(Cn.jsx)(yc,{})}),Object(Cn.jsx)(o.c,{path:"/wanted",children:Object(Cn.jsx)(ks,{})}),Object(Cn.jsx)(o.c,{path:"/history",children:Object(Cn.jsx)(lc,{})}),Object(Cn.jsx)(o.c,{path:"/blacklist",children:Object(Cn.jsx)(qa,{})}),Object(Cn.jsx)(o.c,{path:"/settings",children:Object(Cn.jsx)(ts,{})}),Object(Cn.jsx)(o.c,{path:"/system",children:Object(Cn.jsx)(vs,{})}),Object(Cn.jsx)(o.c,{exact:!0,path:za,children:Object(Cn.jsx)(_a,{})}),Object(Cn.jsx)(o.c,{path:"*",children:Object(Cn.jsx)(o.b,{to:za})})]})})},Ss=a.a.createContext((function(){})),Cs=function(){var e=$t((function(e){return e.site})),t=e.initialized,n=e.auth,a=On("has-update",10),c=window.Bazarr.hasUpdate;Object(r.useEffect)((function(){t&&c&&a({type:"info",message:"A new version of Bazarr is ready, restart is required"})}),[t,c,a]);var i=Object(r.useState)(!1),s=Object(Z.a)(i,2),l=s[0],u=s[1],d=Object(r.useCallback)((function(){return u(!l)}),[l]);if(!n)return Object(Cn.jsx)(o.b,{to:"/login"});if("boolean"===typeof t&&!1===t)return Object(Cn.jsx)(da,{children:Object(Cn.jsx)("span",{children:"Please wait"})});if("string"===typeof t)return Object(Cn.jsx)(Ia,{children:t});try{return Object(Cn.jsxs)(Ss.Provider,{value:d,children:[Object(Cn.jsx)(Zt.a,{noGutters:!0,className:"header-container",children:Object(Cn.jsx)(Ba,{})}),Object(Cn.jsxs)(Zt.a,{noGutters:!0,className:"flex-nowrap",children:[Object(Cn.jsx)(Na,{open:l}),Object(Cn.jsx)(fr,{children:Object(Cn.jsx)(ws,{className:"d-flex flex-row flex-grow-1 main-router"})})]}),Object(Cn.jsx)(Ra,{})]})}catch(j){return Object(Cn.jsx)(Ea,{error:j})}},Ns=(n(542),function(){var e=Object(r.useState)(""),t=Object(Z.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),i=Object(Z.a)(c,2),s=i[0],l=i[1],u=Object(r.useState)(""),d=Object(Z.a)(u,2),j=d[0],b=d[1],h=Object(r.useState)(!1),O=Object(Z.a)(h,2),f=O[0],p=O[1],x=Object(r.useCallback)((function(e){b(e),setTimeout((function(){return b("")}),2e3)}),[]),v=Object(r.useCallback)((function(){return window.location.reload()}),[]),m=$t((function(e){return e.site.auth})),g=Object(r.useCallback)((function(){p(!1),x("Login Failed")}),[x]);return m?Object(Cn.jsx)(o.b,{to:"/"}):Object(Cn.jsx)("div",{className:"d-flex bg-light vh-100 justify-content-center align-items-center",children:Object(Cn.jsx)(Wc.a,{className:"auth-card shadow",children:Object(Cn.jsxs)(Bn.a,{onSubmit:function(e){e.preventDefault(),f||(p(!0),_t.login(n,s).then(v).catch(g))},children:[Object(Cn.jsxs)(Wc.a.Body,{children:[Object(Cn.jsx)(Bn.a.Group,{className:"mb-5 d-flex justify-content-center",children:Object(Cn.jsx)(ha.a,{width:"64",height:"64",src:"data:image/png;base64,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"})}),Object(Cn.jsx)(Bn.a.Group,{children:Object(Cn.jsx)(Bn.a.Control,{disabled:f,name:"username",type:"text",placeholder:"Username",required:!0,onChange:function(e){return a(e.currentTarget.value)}})}),Object(Cn.jsx)(Bn.a.Group,{children:Object(Cn.jsx)(Bn.a.Control,{disabled:f,name:"password",type:"password",placeholder:"Password",required:!0,onChange:function(e){return l(e.currentTarget.value)}})}),Object(Cn.jsx)(xa.a,{in:0!==j.length,children:Object(Cn.jsx)("div",{children:Object(Cn.jsx)(In.a,{variant:"danger",className:"m-0",children:j})})})]}),Object(Cn.jsx)(Wc.a.Footer,{children:Object(Cn.jsx)(Pn.a,{type:"submit",disabled:f,block:!0,children:f?Object(Cn.jsx)(Sn.a,{size:"sm",animation:"border"}):"LOGIN"})})]})})})}),Is=function(){var e=bt();return Object(r.useEffect)((function(){Jt.initialize()}),[]),Object(Cn.jsx)(l.a,{basename:e,children:Object(Cn.jsxs)(o.e,{children:[Object(Cn.jsx)(o.c,{exact:!0,path:"/login",children:Object(Cn.jsx)(Ns,{})}),Object(Cn.jsx)(o.c,{path:"/",children:Object(Cn.jsx)(Cs,{})})]})})};i.a.render(Object(Cn.jsx)(s.a,{store:Vt,children:Object(Cn.jsx)(Is,{})}),document.getElementById("root"))}},[[543,1,2]]]);
//# sourceMappingURL=main.37840b53.chunk.js.map